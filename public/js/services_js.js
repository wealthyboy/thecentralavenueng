/*! For license information please see services_js.js.LICENSE.txt */
(()=>{var t,e={9669:(t,e,n)=>{t.exports=n(1609)},5448:(t,e,n)=>{"use strict";var i=n(4867),r=n(6026),s=n(4372),a=n(5327),o=n(4097),l=n(4109),c=n(7985),u=n(5061);t.exports=function(t){return new Promise((function(e,n){var d=t.data,h=t.headers,f=t.responseType;i.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(m+":"+g)}var v=o(t.baseURL,t.url);function y(){if(p){var i="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,s={data:f&&"text"!==f&&"json"!==f?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:t,request:p};r(e,n,s),p=null}}if(p.open(t.method.toUpperCase(),a(v,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(u("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var b=(t.withCredentials||c(v))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}"setRequestHeader"in p&&i.forEach(h,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),f&&"json"!==f&&(p.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),n(t),p=null)})),d||(d=null),p.send(d)}))}},1609:(t,e,n)=>{"use strict";var i=n(4867),r=n(1849),s=n(321),a=n(7185);function o(t){var e=new s(t),n=r(s.prototype.request,e);return i.extend(n,s.prototype,e),i.extend(n,e),n}var l=o(n(5655));l.Axios=s,l.create=function(t){return o(a(l.defaults,t))},l.Cancel=n(5263),l.CancelToken=n(4972),l.isCancel=n(6502),l.all=function(t){return Promise.all(t)},l.spread=n(8713),l.isAxiosError=n(6268),t.exports=l,t.exports.default=l},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,n)=>{"use strict";var i=n(5263);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,n)=>{"use strict";var i=n(4867),r=n(5327),s=n(782),a=n(3572),o=n(7185),l=n(4875),c=l.validators;function u(t){this.defaults=t,this.interceptors={request:new s,response:new s}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&l.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var r,s=[];if(this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)})),!i){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(s),r=Promise.resolve(t);u.length;)r=r.then(u.shift(),u.shift());return r}for(var d=t;n.length;){var h=n.shift(),f=n.shift();try{d=h(d)}catch(t){f(t);break}}try{r=a(d)}catch(t){return Promise.reject(t)}for(;s.length;)r=r.then(s.shift(),s.shift());return r},u.prototype.getUri=function(t){return t=o(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(o(n||{},{method:t,url:e,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(o(i||{},{method:t,url:e,data:n}))}})),t.exports=u},782:(t,e,n)=>{"use strict";var i=n(4867);function r(){this.handlers=[]}r.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},4097:(t,e,n)=>{"use strict";var i=n(1793),r=n(7303);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},5061:(t,e,n)=>{"use strict";var i=n(481);t.exports=function(t,e,n,r,s){var a=new Error(t);return i(a,e,n,r,s)}},3572:(t,e,n)=>{"use strict";var i=n(4867),r=n(8527),s=n(6502),a=n(5655);function o(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return o(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return o(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(o(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:(t,e,n)=>{"use strict";var i=n(4867);t.exports=function(t,e){e=e||{};var n={},r=["url","method","data"],s=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function c(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=l(void 0,t[r])):n[r]=l(t[r],e[r])}i.forEach(r,(function(t){i.isUndefined(e[t])||(n[t]=l(void 0,e[t]))})),i.forEach(s,c),i.forEach(a,(function(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=l(void 0,t[r])):n[r]=l(void 0,e[r])})),i.forEach(o,(function(i){i in e?n[i]=l(t[i],e[i]):i in t&&(n[i]=l(void 0,t[i]))}));var u=r.concat(s).concat(a).concat(o),d=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return i.forEach(d,c),n}},6026:(t,e,n)=>{"use strict";var i=n(5061);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:(t,e,n)=>{"use strict";var i=n(4867),r=n(5655);t.exports=function(t,e,n){var s=this||r;return i.forEach(n,(function(n){t=n.call(s,t,e)})),t}},5655:(t,e,n)=>{"use strict";var i=n(4155),r=n(4867),s=n(6016),a=n(481),o={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==i&&"[object process]"===Object.prototype.toString.call(i))&&(c=n(5448)),c),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(l(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(s){if("SyntaxError"===t.name)throw a(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},5327:(t,e,n)=>{"use strict";var i=n(4867);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(i.isURLSearchParams(e))s=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))})))})),s=a.join("&")}if(s){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,n)=>{"use strict";var i=n(4867);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,s,a){var o=[];o.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),i.isString(r)&&o.push("path="+r),i.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,n)=>{"use strict";var i=n(4867);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},6016:(t,e,n)=>{"use strict";var i=n(4867);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},4109:(t,e,n)=>{"use strict";var i=n(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,a={};return t?(i.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),n=i.trim(t.substr(s+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4875:(t,e,n)=>{"use strict";var i=n(8593),r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var s={},a=i.version.split(".");function o(t,e){for(var n=e?e.split("."):a,i=t.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}r.transitional=function(t,e,n){var r=e&&o(e);function a(t,e){return"[Axios v"+i.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,o){if(!1===t)throw new Error(a(i," has been removed in "+e));return r&&!s[i]&&(s[i]=!0,console.warn(a(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}},t.exports={isOlderVersion:o,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var i=Object.keys(t),r=i.length;r-- >0;){var s=i[r],a=e[s];if(a){var o=t[s],l=void 0===o||a(o,s,t);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:r}},4867:(t,e,n)=>{"use strict";var i=n(1849),r=Object.prototype.toString;function s(t){return"[object Array]"===r.call(t)}function a(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===r.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isPlainObject:l,isUndefined:a,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:c,isStream:function(t){return o(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,i){l(e[i])&&l(n)?e[i]=t(e[i],n):l(n)?e[i]=t({},n):s(n)?e[i]=n.slice():e[i]=n}for(var i=0,r=arguments.length;i<r;i++)u(arguments[i],n);return e},extend:function(t,e,n){return u(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},7333:(t,e,n)=>{window.axios=n(9669);try{window.$=window.jQuery=n(9755),n(3734)}catch(t){}window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},5179:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var r;function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,{Z:()=>l});const l={methods:(r={validateBooking:function(){var t=this.peak_period,e=t.start_date,n=t.end_date,i=t.is_peak_period_active,r=t.days_limit,s=(t.peak_period_days_Left,new Date(e.split("T")[0])),a=new Date(n.split("T")[0]),o=new Date(this.form.checkin),l=new Date(this.form.checkout),c=Math.ceil((l-o)/864e5);return!(i&&(o>=s&&o<=a)&&c<r)},isValidDate:function(t){var e=new Date(t);return!isNaN(e)&&t===e.toISOString().split("T")[0]},isValidDateRange:function(t){var e=a(t.split(" to "),2),n=e[0],i=e[1];return this.isValidDate(n)&&this.isValidDate(i)},dateSelected:function(t){},isValidDecemberBooking:function(t,e){var n=new window.Date(t),i=new window.Date(e);if(i<n)return!1;n.getMonth(),i.getMonth();var r=new window.Date(n.getFullYear(),11,1),s=new window.Date(n.getFullYear(),11,31);if(i<r||n>s)return!0;var a=n<r?r:n,o=i>s?s:i;return Math.ceil((o-a)/864e5)+1>=10},checkIn:function(t){this.form.checkin=t},checkOut:function(t){this.form.checkout=t},build:function(t){window.history.pushState("","Title","/apartments");window.history.pushState({},"","?"+this.objectToQueryString(t))},checkForDate:function(t){var e=localStorage.getItem("searchParams");return null!==e?JSON.parse(e):null},objectToQueryString:function(t){return Object.keys(t).filter((function(e){return null!==t[e]&&void 0!==t[e]&&""!==t[e]})).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&")},isCheckinGreaterThanCheckout:function(t,e){return(t=new Date(t))>(e=new Date(e))},showAvailability:function(){var t=this;this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout,this.form.persons=document.querySelector("#persons").value,this.form.rooms=document.querySelector("#rooms").value;var e=(new window.Date).getTime(),n={rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,checkin:this.form.checkin,checkout:this.form.checkout,persons:this.form.persons,expiry:e+36e5,apartment_id:this.apartment.id},i="searchParams",r=JSON.stringify(n);localStorage.getItem(i);if(localStorage.setItem(i,r),!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2)alert("Please select your check-in and check-out dates");else if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{var s=this.peak_period,a=s.start_date,o=s.end_date,l=s.days_limit;if(console.log(a,o,l),!this.validateBooking())return this.apartmentIsChecked=!1,alert("Bookings from ".concat(a.split("T")[0]," to ").concat(o.split("T")[0]," require a minimum stay of ").concat(l," days.")),!1;this.propertyIsLoading=!0,axios.get("/apartments",{params:{rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,children:this.form.children,adults:this.form.adults,apartment_id:this.apartment.id}}).then((function(e){return t.apartmentIsChecked=!0,t.roomsAv=e.data.apartments,console.log(e.data),t.propertyIsLoading=!1,jQuery((function(){$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})})),Promise.resolve(e)})).catch((function(e){t.propertyIsLoading=!1}))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")},checkSingleAvailabity:function(t){var e=this;this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout,this.form.persons=document.querySelector("#persons").value,this.form.rooms=document.querySelector("#rooms").value;var n=(new window.Date).getTime(),i={rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,checkin:this.form.checkin,checkout:this.form.checkout,persons:this.form.persons,expiry:n+36e5},r="searchParams",s=JSON.stringify(i);localStorage.getItem(r);if(localStorage.setItem(r,s),!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2)alert("Please select your check-in and check-out dates");else if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{var a=this.peak_period,o=a.start_date,l=a.end_date,c=a.days_limit;console.log(o,l,c),this.validateBooking()?(this.loading=!0,axios.get("/apartments",{params:{rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,children:this.form.children,adults:this.form.adults,apartment_id:t.id}}).then((function(t){return console.log(t.data),e.singleApartmentIsChecked=!0,e.loading=!1,e.singleApartmentIsAvailable=t.data,Promise.resolve()})).catch((function(t){e.loading=!1}))):alert("Bookings from ".concat(o.split("T")[0]," to ").concat(l.split("T")[0]," require a minimum stayss of ").concat(c," days."))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")},getQueryParam:function(t){var e=window.location.search;return{key:t,value:new URLSearchParams(e).get(t)}}},s(r,"isValidDate",(function(t){var e=new Date(t);return!isNaN(e)&&t===e.toISOString().split("T")[0]})),s(r,"formatDate",(function(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})),s(r,"search",(function(){if(this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout,this.form.persons=document.querySelector("#persons").value,this.form.rooms=document.querySelector("#rooms").value,this.form.checkin||this.form.checkout)if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else if(this.form.checkin!==this.form.checkout){var t=this.peak_period,e=t.start_date,n=t.end_date,i=t.days_limit,r=this.formatDate(e),s=this.formatDate(n);if(this.validateBooking()){console.log("Bookings from ".concat(e.split("T")[0]," to ").concat(n.split("T")[0]," require a minimum stay of ").concat(i," days.")),this.apartmentIsChecked=!0;var a=(new Date).getTime();this.btnText="Checking...",this.isDisabled=!0;var o={rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,checkin:this.form.checkin,checkout:this.form.checkout,children:this.form.children,persons:this.form.persons,expiry:a+36e5},l=JSON.stringify(o),c="searchParams";localStorage.setItem(c,l);var u=localStorage.getItem(c);JSON.parse(u);this.build(o),window.location.reload()}else alert("Bookings from ".concat(r," to ").concat(s," require a minimum stay of ").concat(i," days."))}else alert("Set your check-in and check-out dates correctly. They cannot be the same");else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")})),s(r,"checkApartmentAvailabity",(function(t){var e=this;this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout,this.form.persons=document.querySelector("#persons").value,this.form.rooms=document.querySelector("#rooms").value;var n=(new window.Date).getTime(),i={rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,checkin:this.form.checkin,checkout:this.form.checkout,persons:this.form.persons,expiry:n+36e5},r="searchParams",s=JSON.stringify(i);localStorage.getItem(r);if(localStorage.setItem(r,s),!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2)alert("Please select your check-in and check-out dates");else if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{var a=this.peak_period,o=a.start_date,l=a.end_date,c=a.days_limit,u=this.formatDate(o),d=this.formatDate(l);this.validateBooking()?(this.loading=!0,axios.get("/apartments",{params:{rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,children:this.form.children,adults:this.form.adults,apartment_id:t.id}}).then((function(t){return e.singleApartmentIsChecked=!0,e.showApartmentCount=!0,e.loading=!1,e.showNotification=!1,e.singleApartmentIsAvailable=t.data.apartments,Promise.resolve()})).catch((function(t){e.loading=!1}))):alert("Bookings from ".concat(u," to ").concat(d," require a minimum stay of ").concat(c," days."))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")})),s(r,"reserve",(function(t){var e=this,n=t.room;if(this.form.checkout||this.form.checkin)if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{document.querySelectorAll(".room-q");var i,r=[];i=s({},this.property.id,n.id),r.push(i),this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout;var a={apartment_quantity:r,propertyId:n.property_id,apID:n.id,check_in_checkout:this.form.check_in_checkout,ap:n};this.property_id=n.property_id,this.apartment_id=n.id,this.propertyIsLoading=!0,axios.post("/book/store",a).then((function(t){e.propertyLoading=!1,t.data?document.querySelector("#multiple-form").submit():(e.error_msg="It seems we could not further your request .Try a diffrent date.",e.roomsAv=[])})).catch((function(t){e.error_msg="It seems we could not further your request .Try a diffrent date."}))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")})),s(r,"reserveSingle",(function(t){var e=this,n=t;if(this.form.check_in_checkout&&!(this.form.check_in_checkout.split(" ").length<2))if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{this.apartment_id=n.id;document.querySelectorAll(".room-q");var i,r=[];i=s({},this.property.id,n.id),r.push(i);var a={apartment_quantity:r,propertyId:this.property.id,apID:n.id,check_in_checkout:this.form.check_in_checkout};this.propertyIsLoading=!0,axios.post("/book/store",a).then((function(t){e.propertyLoading=!1,t.data?document.querySelector("#single-form").submit():(e.error_msg="It seems we could not further your request .Try a diffrent date.",e.roomsAv=[])})).catch((function(t){e.error_msg="It seems we could not further your request .Try a diffrent date."}))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")})),s(r,"checkAvailabity",(function(){var t=this;this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout,this.form.persons=document.querySelector("#persons").value,this.form.rooms=document.querySelector("#rooms").value,this.apartmentIsChecked=!0;var e=(new window.Date).getTime(),n={rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,checkin:this.form.checkin,checkout:this.form.checkout,persons:this.form.persons,expiry:e+36e5},i=(localStorage.getItem("searchParams"),new URLSearchParams(n).toString()),r="".concat(window.location.origin).concat(window.location.pathname,"?").concat(i);window.history.pushState({path:r},"",r);var s="searchParams",a=JSON.stringify(n);localStorage.getItem(s);localStorage.setItem(s,a),!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2?alert("Please select your check-in and check-out dates"):this.isValidDate(this.form.checkin)&&this.isValidDate(this.form.checkout)?this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout)?alert("Set your check-in and check-out dates correctly"):this.form.checkin!==this.form.checkout?(this.propertyIsLoading=!0,axios.get("/apartments",{params:{rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,children:this.form.children,adults:this.form.adults}}).then((function(e){t.roomsAv=e.data.data,t.stays=e.data.nights,t.propertyIsLoading=!1,t.showApartmentCount=!0,t.showNotification=!0;var n=e.data.peak_periods;return n?(t.peakPeriodSelected="Your selected dates fall within the peak period "+"(".concat(n.from_date," to ").concat(n.to_date,"). "),t.openNotification=!0,t.openModal()):t.peakPeriodSelected=null,jQuery((function(){$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})})),Promise.resolve()})).catch((function(e){t.propertyIsLoading=!1}))):alert("Set your check-in and check-out dates correctly. They cannot be the same"):alert("Please select your check-in and check-out dates")})),r)}},4517:function(t,e,n){var i,r,s;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var o,l,c,u,d;n(9755).param;o=function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var o,l,c,u,d,h,f,p,m,g,v,y,b,_,E,S,T,w,k,C,x,A,I,D,L,P,O,R,M,N,F,$,j,B,U,H,G,q,W,V,K,z,Y,Q,X,Z,J,tt,et,nt,it,rt,st,at,ot,lt,ct,ut,dt,ht,ft,pt,mt,gt,vt,yt,bt,_t,Et,St,Tt,wt,kt,Ct,xt,At,It,Dt,Lt,Pt,Ot,Rt,Mt,Nt,Ft,$t,jt,Bt,Ut,Ht,Gt,qt,Wt,Vt,Kt,zt,Yt,Qt,Xt,Zt,Jt,te,ee,ne,ie,re,se,ae,oe,le,ce,ue,de,he,fe,pe,me,ge,ve,ye,be,_e,Ee,Se,Te,we,ke,Ce,xe,Ae,Ie,De,Le,Pe,Oe,Re,Me,Ne,Fe,$e,je,Be,Ue,He,Ge,qe,We,Ve,Ke,ze,Ye,Qe,Xe,Ze,Je,tn,en,nn,rn,sn,an,on,ln,cn,un,dn,hn,fn,pn,mn,gn,vn,yn,bn,_n,En,Sn,Tn,wn,kn,Cn,xn,An,In,Dn,Ln,Pn,On,Rn,Mn,Nn,Fn,$n,jn,Bn,Un,Hn,Gn,qn,Wn,Vn,Kn,zn,Yn,Qn,Xn,Zn,Jn,ti,ei,ni,ii,ri,si,ai,oi,li,ci,ui,di,hi,fi,pi,mi,gi,vi,yi,bi,_i,Ei,Si,Ti,wi=function(t){var e=!1,n={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n,i=e.getAttribute("data-target");i&&"#"!==i||(i=e.getAttribute("href")||""),"#"===i.charAt(0)&&(n=i,i=n="function"==typeof t.escapeSelector?t.escapeSelector(n).substr(1):n.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"));try{return t(document).find(i).length>0?i:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(n){t(n).trigger(e.end)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var s=i[r],a=e[r],o=a&&n.isElement(a)?"element":(l=a,{}.toString.call(l).match(/\s([a-zA-Z]+)/)[1].toLowerCase());if(!new RegExp(s).test(o))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+o+'" but expected type "'+s+'".')}var l}};return e=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},t.fn.emulateTransitionEnd=function(e){var i=this,r=!1;return t(this).one(n.TRANSITION_END,(function(){r=!0})),setTimeout((function(){r||n.triggerTransitionEnd(i)}),e),this},n.supportsTransitionEnd()&&(t.event.special[n.TRANSITION_END]={bindType:e.end,delegateType:e.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),n}(t),ki=(l="alert",u="."+(c="bs.alert"),d=(o=t).fn[l],h={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},f=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){o.removeData(this._element,c),this._element=null},e._getRootElement=function(t){var e=wi.getSelectorFromElement(t),n=!1;return e&&(n=o(e)[0]),n||(n=o(t).closest(".alert")[0]),n},e._triggerCloseEvent=function(t){var e=o.Event(h.CLOSE);return o(t).trigger(e),e},e._removeElement=function(t){var e=this;o(t).removeClass("show"),wi.supportsTransitionEnd()&&o(t).hasClass("fade")?o(t).one(wi.TRANSITION_END,(function(n){return e._destroyElement(t,n)})).emulateTransitionEnd(150):this._destroyElement(t)},e._destroyElement=function(t){o(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(e){return this.each((function(){var n=o(this),i=n.data(c);i||(i=new t(this),n.data(c,i)),"close"===e&&i[e](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),o(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',f._handleDismiss(new f)),o.fn[l]=f._jQueryInterface,o.fn[l].Constructor=f,o.fn[l].noConflict=function(){return o.fn[l]=d,f._jQueryInterface},m="button",v="."+(g="bs.button"),y=".data-api",b=(p=t).fn[m],_="active",E='[data-toggle^="button"]',S=".btn",T={CLICK_DATA_API:"click"+v+y,FOCUS_BLUR_DATA_API:"focus"+v+y+" blur"+v+y},w=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=p(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i=p(this._element).find("input")[0];if(i){if("radio"===i.type)if(i.checked&&p(this._element).hasClass(_))t=!1;else{var r=p(n).find(".active")[0];r&&p(r).removeClass(_)}if(t){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!p(this._element).hasClass(_),p(i).trigger("change")}i.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!p(this._element).hasClass(_)),t&&p(this._element).toggleClass(_)},e.dispose=function(){p.removeData(this._element,g),this._element=null},t._jQueryInterface=function(e){return this.each((function(){var n=p(this).data(g);n||(n=new t(this),p(this).data(g,n)),"toggle"===e&&n[e]()}))},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),p(document).on(T.CLICK_DATA_API,E,(function(t){t.preventDefault();var e=t.target;p(e).hasClass("btn")||(e=p(e).closest(S)),w._jQueryInterface.call(p(e),"toggle")})).on(T.FOCUS_BLUR_DATA_API,E,(function(t){var e=p(t.target).closest(S)[0];p(e).toggleClass("focus",/^focus(in)?$/.test(t.type))})),p.fn[m]=w._jQueryInterface,p.fn[m].Constructor=w,p.fn[m].noConflict=function(){return p.fn[m]=b,w._jQueryInterface},C="carousel",A="."+(x="bs.carousel"),I=".data-api",D=(k=t).fn[C],L={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},P={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},O="next",R="prev",M={SLIDE:"slide"+A,SLID:"slid"+A,KEYDOWN:"keydown"+A,MOUSEENTER:"mouseenter"+A,MOUSELEAVE:"mouseleave"+A,TOUCHEND:"touchend"+A,LOAD_DATA_API:"load"+A+I,CLICK_DATA_API:"click"+A+I},N="active",F={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},$=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(e),this._element=k(t)[0],this._indicatorsElement=k(this._element).find(F.INDICATORS)[0],this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(O)},e.nextWhenVisible=function(){!document.hidden&&k(this._element).is(":visible")&&"hidden"!==k(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(R)},e.pause=function(t){t||(this._isPaused=!0),k(this._element).find(F.NEXT_PREV)[0]&&wi.supportsTransitionEnd()&&(wi.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=k(this._element).find(F.ACTIVE_ITEM)[0];var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)k(this._element).one(M.SLID,(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var i=t>n?O:R;this._slide(i,this._items[t])}},e.dispose=function(){k(this._element).off(A),k.removeData(this._element,x),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=r({},L,t),wi.typeCheckConfig(C,t,P),t},e._addEventListeners=function(){var t=this;this._config.keyboard&&k(this._element).on(M.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(k(this._element).on(M.MOUSEENTER,(function(e){return t.pause(e)})).on(M.MOUSELEAVE,(function(e){return t.cycle(e)})),"ontouchstart"in document.documentElement&&k(this._element).on(M.TOUCHEND,(function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval)})))},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=k.makeArray(k(t).parent().find(F.ITEM)),this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===O,i=t===R,r=this._getItemIndex(e),s=this._items.length-1;if((i&&0===r||n&&r===s)&&!this._config.wrap)return e;var a=(r+(t===R?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(k(this._element).find(F.ACTIVE_ITEM)[0]),r=k.Event(M.SLIDE,{relatedTarget:t,direction:e,from:i,to:n});return k(this._element).trigger(r),r},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){k(this._indicatorsElement).find(F.ACTIVE).removeClass(N);var e=this._indicatorsElement.children[this._getItemIndex(t)];e&&k(e).addClass(N)}},e._slide=function(t,e){var n,i,r,s=this,a=k(this._element).find(F.ACTIVE_ITEM)[0],o=this._getItemIndex(a),l=e||a&&this._getItemByDirection(t,a),c=this._getItemIndex(l),u=Boolean(this._interval);if(t===O?(n="carousel-item-left",i="carousel-item-next",r="left"):(n="carousel-item-right",i="carousel-item-prev",r="right"),l&&k(l).hasClass(N))this._isSliding=!1;else if(!this._triggerSlideEvent(l,r).isDefaultPrevented()&&a&&l){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(l);var d=k.Event(M.SLID,{relatedTarget:l,direction:r,from:o,to:c});wi.supportsTransitionEnd()&&k(this._element).hasClass("slide")?(k(l).addClass(i),wi.reflow(l),k(a).addClass(n),k(l).addClass(n),k(a).one(wi.TRANSITION_END,(function(){k(l).removeClass(n+" "+i).addClass(N),k(a).removeClass(N+" "+i+" "+n),s._isSliding=!1,setTimeout((function(){return k(s._element).trigger(d)}),0)})).emulateTransitionEnd(600)):(k(a).removeClass(N),k(l).addClass(N),this._isSliding=!1,k(this._element).trigger(d)),u&&this.cycle()}},t._jQueryInterface=function(e){return this.each((function(){var n=k(this).data(x),i=r({},L,k(this).data());"object"==a(e)&&(i=r({},i,e));var s="string"==typeof e?e:i.slide;if(n||(n=new t(this,i),k(this).data(x,n)),"number"==typeof e)n.to(e);else if("string"==typeof s){if(void 0===n[s])throw new TypeError('No method named "'+s+'"');n[s]()}else i.interval&&(n.pause(),n.cycle())}))},t._dataApiClickHandler=function(e){var n=wi.getSelectorFromElement(this);if(n){var i=k(n)[0];if(i&&k(i).hasClass("carousel")){var s=r({},k(i).data(),k(this).data()),a=this.getAttribute("data-slide-to");a&&(s.interval=!1),t._jQueryInterface.call(k(i),s),a&&k(i).data(x).to(a),e.preventDefault()}}},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return L}}]),t}(),k(document).on(M.CLICK_DATA_API,F.DATA_SLIDE,$._dataApiClickHandler),k(window).on(M.LOAD_DATA_API,(function(){k(F.DATA_RIDE).each((function(){var t=k(this);$._jQueryInterface.call(t,t.data())}))})),k.fn[C]=$._jQueryInterface,k.fn[C].Constructor=$,k.fn[C].noConflict=function(){return k.fn[C]=D,$._jQueryInterface},B="collapse",H="."+(U="bs.collapse"),G=(j=t).fn[B],q={toggle:!0,parent:""},W={toggle:"boolean",parent:"(string|element)"},V={SHOW:"show"+H,SHOWN:"shown"+H,HIDE:"hide"+H,HIDDEN:"hidden"+H,CLICK_DATA_API:"click"+H+".data-api"},K="show",z="collapse",Y="collapsing",Q="collapsed",X="width",Z={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},J=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=j.makeArray(j('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=j(Z.DATA_TOGGLE),i=0;i<n.length;i++){var r=n[i],s=wi.getSelectorFromElement(r);null!==s&&j(s).filter(t).length>0&&(this._selector=s,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){j(this._element).hasClass(K)?this.hide():this.show()},e.show=function(){var e,n,i=this;if(!(this._isTransitioning||j(this._element).hasClass(K)||(this._parent&&0===(e=j.makeArray(j(this._parent).find(Z.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(e=null),e&&(n=j(e).not(this._selector).data(U))&&n._isTransitioning))){var r=j.Event(V.SHOW);if(j(this._element).trigger(r),!r.isDefaultPrevented()){e&&(t._jQueryInterface.call(j(e).not(this._selector),"hide"),n||j(e).data(U,null));var s=this._getDimension();j(this._element).removeClass(z).addClass(Y),this._element.style[s]=0,this._triggerArray.length>0&&j(this._triggerArray).removeClass(Q).attr("aria-expanded",!0),this.setTransitioning(!0);var a=function(){j(i._element).removeClass(Y).addClass(z).addClass(K),i._element.style[s]="",i.setTransitioning(!1),j(i._element).trigger(V.SHOWN)};if(wi.supportsTransitionEnd()){var o="scroll"+(s[0].toUpperCase()+s.slice(1));j(this._element).one(wi.TRANSITION_END,a).emulateTransitionEnd(600),this._element.style[s]=this._element[o]+"px"}else a()}}},e.hide=function(){var t=this;if(!this._isTransitioning&&j(this._element).hasClass(K)){var e=j.Event(V.HIDE);if(j(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();if(this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",wi.reflow(this._element),j(this._element).addClass(Y).removeClass(z).removeClass(K),this._triggerArray.length>0)for(var i=0;i<this._triggerArray.length;i++){var r=this._triggerArray[i],s=wi.getSelectorFromElement(r);null!==s&&(j(s).hasClass(K)||j(r).addClass(Q).attr("aria-expanded",!1))}this.setTransitioning(!0);var a=function(){t.setTransitioning(!1),j(t._element).removeClass(Y).addClass(z).trigger(V.HIDDEN)};this._element.style[n]="",wi.supportsTransitionEnd()?j(this._element).one(wi.TRANSITION_END,a).emulateTransitionEnd(600):a()}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){j.removeData(this._element,U),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=r({},q,t)).toggle=Boolean(t.toggle),wi.typeCheckConfig(B,t,W),t},e._getDimension=function(){return j(this._element).hasClass(X)?X:"height"},e._getParent=function(){var e=this,n=null;wi.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=j(this._config.parent)[0];var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return j(n).find(i).each((function(n,i){e._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])})),n},e._addAriaAndCollapsedClass=function(t,e){if(t){var n=j(t).hasClass(K);e.length>0&&j(e).toggleClass(Q,!n).attr("aria-expanded",n)}},t._getTargetFromElement=function(t){var e=wi.getSelectorFromElement(t);return e?j(e)[0]:null},t._jQueryInterface=function(e){return this.each((function(){var n=j(this),i=n.data(U),s=r({},q,n.data(),"object"==a(e)&&e);if(!i&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),i||(i=new t(this,s),n.data(U,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return q}}]),t}(),j(document).on(V.CLICK_DATA_API,Z.DATA_TOGGLE,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=j(this),n=wi.getSelectorFromElement(this);j(n).each((function(){var t=j(this),n=t.data(U)?"toggle":e.data();J._jQueryInterface.call(t,n)}))})),j.fn[B]=J._jQueryInterface,j.fn[B].Constructor=J,j.fn[B].noConflict=function(){return j.fn[B]=G,J._jQueryInterface},et="modal",it="."+(nt="bs.modal"),rt=(tt=t).fn[et],st={backdrop:!0,keyboard:!0,focus:!0,show:!0},at={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ot={HIDE:"hide"+it,HIDDEN:"hidden"+it,SHOW:"show"+it,SHOWN:"shown"+it,FOCUSIN:"focusin"+it,RESIZE:"resize"+it,CLICK_DISMISS:"click.dismiss"+it,KEYDOWN_DISMISS:"keydown.dismiss"+it,MOUSEUP_DISMISS:"mouseup.dismiss"+it,MOUSEDOWN_DISMISS:"mousedown.dismiss"+it,CLICK_DATA_API:"click"+it+".data-api"},lt="modal-open",ct="fade",ut="show",dt={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},ht=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=tt(t).find(dt.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isTransitioning&&!this._isShown){wi.supportsTransitionEnd()&&tt(this._element).hasClass(ct)&&(this._isTransitioning=!0);var n=tt.Event(ot.SHOW,{relatedTarget:t});tt(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),tt(document.body).addClass(lt),this._setEscapeEvent(),this._setResizeEvent(),tt(this._element).on(ot.CLICK_DISMISS,dt.DATA_DISMISS,(function(t){return e.hide(t)})),tt(this._dialog).on(ot.MOUSEDOWN_DISMISS,(function(){tt(e._element).one(ot.MOUSEUP_DISMISS,(function(t){tt(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var n=tt.Event(ot.HIDE);if(tt(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=wi.supportsTransitionEnd()&&tt(this._element).hasClass(ct);i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),tt(document).off(ot.FOCUSIN),tt(this._element).removeClass(ut),tt(this._element).off(ot.CLICK_DISMISS),tt(this._dialog).off(ot.MOUSEDOWN_DISMISS),i?tt(this._element).one(wi.TRANSITION_END,(function(t){return e._hideModal(t)})).emulateTransitionEnd(300):this._hideModal()}}},e.dispose=function(){tt.removeData(this._element,nt),tt(window,document,this._element,this._backdrop).off(it),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=r({},st,t),wi.typeCheckConfig(et,t,at),t},e._showElement=function(t){var e=this,n=wi.supportsTransitionEnd()&&tt(this._element).hasClass(ct);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&wi.reflow(this._element),tt(this._element).addClass(ut),this._config.focus&&this._enforceFocus();var i=tt.Event(ot.SHOWN,{relatedTarget:t}),r=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,tt(e._element).trigger(i)};n?tt(this._dialog).one(wi.TRANSITION_END,r).emulateTransitionEnd(300):r()},e._enforceFocus=function(){var t=this;tt(document).off(ot.FOCUSIN).on(ot.FOCUSIN,(function(e){document!==e.target&&t._element!==e.target&&0===tt(t._element).has(e.target).length&&t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?tt(this._element).on(ot.KEYDOWN_DISMISS,(function(e){27===e.which&&(e.preventDefault(),t.hide())})):this._isShown||tt(this._element).off(ot.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?tt(window).on(ot.RESIZE,(function(e){return t.handleUpdate(e)})):tt(window).off(ot.RESIZE)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop((function(){tt(document.body).removeClass(lt),t._resetAdjustments(),t._resetScrollbar(),tt(t._element).trigger(ot.HIDDEN)}))},e._removeBackdrop=function(){this._backdrop&&(tt(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=tt(this._element).hasClass(ct)?ct:"";if(this._isShown&&this._config.backdrop){var i=wi.supportsTransitionEnd()&&n;if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&tt(this._backdrop).addClass(n),tt(this._backdrop).appendTo(document.body),tt(this._element).on(ot.CLICK_DISMISS,(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())})),i&&wi.reflow(this._backdrop),tt(this._backdrop).addClass(ut),!t)return;if(!i)return void t();tt(this._backdrop).one(wi.TRANSITION_END,t).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){tt(this._backdrop).removeClass(ut);var r=function(){e._removeBackdrop(),t&&t()};wi.supportsTransitionEnd()&&tt(this._element).hasClass(ct)?tt(this._backdrop).one(wi.TRANSITION_END,r).emulateTransitionEnd(150):r()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){tt(dt.FIXED_CONTENT).each((function(e,n){var i=tt(n)[0].style.paddingRight,r=tt(n).css("padding-right");tt(n).data("padding-right",i).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")})),tt(dt.STICKY_CONTENT).each((function(e,n){var i=tt(n)[0].style.marginRight,r=tt(n).css("margin-right");tt(n).data("margin-right",i).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")})),tt(dt.NAVBAR_TOGGLER).each((function(e,n){var i=tt(n)[0].style.marginRight,r=tt(n).css("margin-right");tt(n).data("margin-right",i).css("margin-right",parseFloat(r)+t._scrollbarWidth+"px")}));var e=document.body.style.paddingRight,n=tt("body").css("padding-right");tt("body").data("padding-right",e).css("padding-right",parseFloat(n)+this._scrollbarWidth+"px")}},e._resetScrollbar=function(){tt(dt.FIXED_CONTENT).each((function(t,e){var n=tt(e).data("padding-right");void 0!==n&&tt(e).css("padding-right",n).removeData("padding-right")})),tt(dt.STICKY_CONTENT+", "+dt.NAVBAR_TOGGLER).each((function(t,e){var n=tt(e).data("margin-right");void 0!==n&&tt(e).css("margin-right",n).removeData("margin-right")}));var t=tt("body").data("padding-right");void 0!==t&&tt("body").css("padding-right",t).removeData("padding-right")},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each((function(){var i=tt(this).data(nt),s=r({},t.Default,tt(this).data(),"object"==a(e)&&e);if(i||(i=new t(this,s),tt(this).data(nt,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e](n)}else s.show&&i.show(n)}))},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return st}}]),t}(),tt(document).on(ot.CLICK_DATA_API,dt.DATA_TOGGLE,(function(t){var e,n=this,i=wi.getSelectorFromElement(this);i&&(e=tt(i)[0]);var s=tt(e).data(nt)?"toggle":r({},tt(e).data(),tt(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=tt(e).one(ot.SHOW,(function(t){t.isDefaultPrevented()||a.one(ot.HIDDEN,(function(){tt(n).is(":visible")&&n.focus()}))}));ht._jQueryInterface.call(tt(e),s,this)})),tt.fn[et]=ht._jQueryInterface,tt.fn[et].Constructor=ht,tt.fn[et].noConflict=function(){return tt.fn[et]=rt,ht._jQueryInterface},pt="tooltip",gt="."+(mt="bs.tooltip"),vt=(ft=t).fn[pt],yt="bs-tooltip",bt=new RegExp("(^|\\s)"+yt+"\\S+","g"),_t={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},Et={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},St={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Tt="show",wt="out",kt={HIDE:"hide"+gt,HIDDEN:"hidden"+gt,SHOW:"show"+gt,SHOWN:"shown"+gt,INSERTED:"inserted"+gt,CLICK:"click"+gt,FOCUSIN:"focusin"+gt,FOCUSOUT:"focusout"+gt,MOUSEENTER:"mouseenter"+gt,MOUSELEAVE:"mouseleave"+gt},Ct="fade",xt="show",At="hover",It="focus",Dt=function(){function t(t,n){if(void 0===e)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(n),this.tip=null,this._setListeners()}var n=t.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=ft(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),ft(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(ft(this.getTipElement()).hasClass(xt))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout),ft.removeData(this.element,this.constructor.DATA_KEY),ft(this.element).off(this.constructor.EVENT_KEY),ft(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&ft(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},n.show=function(){var n=this;if("none"===ft(this.element).css("display"))throw new Error("Please use show on visible elements");var i=ft.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){ft(this.element).trigger(i);var r=ft.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var s=this.getTipElement(),a=wi.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&ft(s).addClass(Ct);var o="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,l=this._getAttachment(o);this.addAttachmentClass(l);var c=!1===this.config.container?document.body:ft(this.config.container);ft(s).data(this.constructor.DATA_KEY,this),ft.contains(this.element.ownerDocument.documentElement,this.tip)||ft(s).appendTo(c),ft(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new e(this.element,s,{placement:l,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&n._handlePopperPlacementChange(t)},onUpdate:function(t){n._handlePopperPlacementChange(t)}}),ft(s).addClass(xt),"ontouchstart"in document.documentElement&&ft("body").children().on("mouseover",null,ft.noop);var u=function(){n.config.animation&&n._fixTransition();var t=n._hoverState;n._hoverState=null,ft(n.element).trigger(n.constructor.Event.SHOWN),t===wt&&n._leave(null,n)};wi.supportsTransitionEnd()&&ft(this.tip).hasClass(Ct)?ft(this.tip).one(wi.TRANSITION_END,u).emulateTransitionEnd(t._TRANSITION_DURATION):u()}},n.hide=function(t){var e=this,n=this.getTipElement(),i=ft.Event(this.constructor.Event.HIDE),r=function(){e._hoverState!==Tt&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),ft(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};ft(this.element).trigger(i),i.isDefaultPrevented()||(ft(n).removeClass(xt),"ontouchstart"in document.documentElement&&ft("body").children().off("mouseover",null,ft.noop),this._activeTrigger.click=!1,this._activeTrigger[It]=!1,this._activeTrigger[At]=!1,wi.supportsTransitionEnd()&&ft(this.tip).hasClass(Ct)?ft(n).one(wi.TRANSITION_END,r).emulateTransitionEnd(150):r(),this._hoverState="")},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(t){ft(this.getTipElement()).addClass(yt+"-"+t)},n.getTipElement=function(){return this.tip=this.tip||ft(this.config.template)[0],this.tip},n.setContent=function(){var t=ft(this.getTipElement());this.setElementContent(t.find(".tooltip-inner"),this.getTitle()),t.removeClass(Ct+" "+xt)},n.setElementContent=function(t,e){var n=this.config.html;"object"==a(e)&&(e.nodeType||e.jquery)?n?ft(e).parent().is(t)||t.empty().append(e):t.text(ft(e).text()):t[n?"html":"text"](e)},n.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},n._getAttachment=function(t){return Et[t.toUpperCase()]},n._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)ft(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n=e===At?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,i=e===At?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;ft(t.element).on(n,t.config.selector,(function(e){return t._enter(e)})).on(i,t.config.selector,(function(e){return t._leave(e)}))}ft(t.element).closest(".modal").on("hide.bs.modal",(function(){return t.hide()}))})),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var t=a(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||ft(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),ft(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?It:At]=!0),ft(e.getTipElement()).hasClass(xt)||e._hoverState===Tt?e._hoverState=Tt:(clearTimeout(e._timeout),e._hoverState=Tt,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){e._hoverState===Tt&&e.show()}),e.config.delay.show):e.show())},n._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||ft(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),ft(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?It:At]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=wt,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){e._hoverState===wt&&e.hide()}),e.config.delay.hide):e.hide())},n._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n._getConfig=function(t){return"number"==typeof(t=r({},this.constructor.Default,ft(this.element).data(),t)).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),wi.typeCheckConfig(pt,t,this.constructor.DefaultType),t},n._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._cleanTipClass=function(){var t=ft(this.getTipElement()),e=t.attr("class").match(bt);null!==e&&e.length>0&&t.removeClass(e.join(""))},n._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},n._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(ft(t).removeClass(Ct),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each((function(){var n=ft(this).data(mt),i="object"==a(e)&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,i),ft(this).data(mt,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return St}},{key:"NAME",get:function(){return pt}},{key:"DATA_KEY",get:function(){return mt}},{key:"Event",get:function(){return kt}},{key:"EVENT_KEY",get:function(){return gt}},{key:"DefaultType",get:function(){return _t}}]),t}(),ft.fn[pt]=Dt._jQueryInterface,ft.fn[pt].Constructor=Dt,ft.fn[pt].noConflict=function(){return ft.fn[pt]=vt,Dt._jQueryInterface},Dt),Ci=(Pt="popover",Rt="."+(Ot="bs.popover"),Mt=(Lt=t).fn[Pt],Nt="bs-popover",Ft=new RegExp("(^|\\s)"+Nt+"\\S+","g"),$t=r({},ki.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),jt=r({},ki.DefaultType,{content:"(string|element|function)"}),Bt={HIDE:"hide"+Rt,HIDDEN:"hidden"+Rt,SHOW:"show"+Rt,SHOWN:"shown"+Rt,INSERTED:"inserted"+Rt,CLICK:"click"+Rt,FOCUSIN:"focusin"+Rt,FOCUSOUT:"focusout"+Rt,MOUSEENTER:"mouseenter"+Rt,MOUSELEAVE:"mouseleave"+Rt},Ut=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(t){Lt(this.getTipElement()).addClass(Nt+"-"+t)},n.getTipElement=function(){return this.tip=this.tip||Lt(this.config.template)[0],this.tip},n.setContent=function(){var t=Lt(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var t=Lt(this.getTipElement()),e=t.attr("class").match(Ft);null!==e&&e.length>0&&t.removeClass(e.join(""))},e._jQueryInterface=function(t){return this.each((function(){var n=Lt(this).data(Ot),i="object"==a(t)?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new e(this,i),Lt(this).data(Ot,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return $t}},{key:"NAME",get:function(){return Pt}},{key:"DATA_KEY",get:function(){return Ot}},{key:"Event",get:function(){return Bt}},{key:"EVENT_KEY",get:function(){return Rt}},{key:"DefaultType",get:function(){return jt}}]),e}(ki),Lt.fn[Pt]=Ut._jQueryInterface,Lt.fn[Pt].Constructor=Ut,Lt.fn[Pt].noConflict=function(){return Lt.fn[Pt]=Mt,Ut._jQueryInterface},Gt="scrollspy",Wt="."+(qt="bs.scrollspy"),Vt=(Ht=t).fn[Gt],Kt={offset:10,method:"auto",target:""},zt={offset:"number",method:"string",target:"(string|element)"},Yt={ACTIVATE:"activate"+Wt,SCROLL:"scroll"+Wt,LOAD_DATA_API:"load"+Wt+".data-api"},Qt="active",Xt={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Zt="position",Jt=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+Xt.NAV_LINKS+","+this._config.target+" "+Xt.LIST_ITEMS+","+this._config.target+" "+Xt.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Ht(this._scrollElement).on(Yt.SCROLL,(function(t){return n._process(t)})),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":Zt,n="auto"===this._config.method?e:this._config.method,i=n===Zt?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ht.makeArray(Ht(this._selector)).map((function(t){var e,r=wi.getSelectorFromElement(t);if(r&&(e=Ht(r)[0]),e){var s=e.getBoundingClientRect();if(s.width||s.height)return[Ht(e)[n]().top+i,r]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){Ht.removeData(this._element,qt),Ht(this._scrollElement).off(Wt),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=r({},Kt,t)).target){var e=Ht(t.target).attr("id");e||(e=wi.getUID(Gt),Ht(t.target).attr("id",e)),t.target="#"+e}return wi.typeCheckConfig(Gt,t,zt),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",");e=e.map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}));var n=Ht(e.join(","));n.hasClass("dropdown-item")?(n.closest(Xt.DROPDOWN).find(Xt.DROPDOWN_TOGGLE).addClass(Qt),n.addClass(Qt)):(n.addClass(Qt),n.parents(Xt.NAV_LIST_GROUP).prev(Xt.NAV_LINKS+", "+Xt.LIST_ITEMS).addClass(Qt),n.parents(Xt.NAV_LIST_GROUP).prev(Xt.NAV_ITEMS).children(Xt.NAV_LINKS).addClass(Qt)),Ht(this._scrollElement).trigger(Yt.ACTIVATE,{relatedTarget:t})},e._clear=function(){Ht(this._selector).filter(Xt.ACTIVE).removeClass(Qt)},t._jQueryInterface=function(e){return this.each((function(){var n=Ht(this).data(qt);if(n||(n=new t(this,"object"==a(e)&&e),Ht(this).data(qt,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Kt}}]),t}(),Ht(window).on(Yt.LOAD_DATA_API,(function(){for(var t=Ht.makeArray(Ht(Xt.DATA_SPY)),e=t.length;e--;){var n=Ht(t[e]);Jt._jQueryInterface.call(n,n.data())}})),Ht.fn[Gt]=Jt._jQueryInterface,Ht.fn[Gt].Constructor=Jt,Ht.fn[Gt].noConflict=function(){return Ht.fn[Gt]=Vt,Jt._jQueryInterface},ne="."+(ee="bs.tab"),ie=(te=t).fn.tab,re={HIDE:"hide"+ne,HIDDEN:"hidden"+ne,SHOW:"show"+ne,SHOWN:"shown"+ne,CLICK_DATA_API:"click"+ne+".data-api"},se="active",ae="show",oe=".active",le="> li > .active",ce=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&te(this._element).hasClass(se)||te(this._element).hasClass("disabled"))){var e,n,i=te(this._element).closest(".nav, .list-group")[0],r=wi.getSelectorFromElement(this._element);if(i){var s="UL"===i.nodeName?le:oe;n=(n=te.makeArray(te(i).find(s)))[n.length-1]}var a=te.Event(re.HIDE,{relatedTarget:this._element}),o=te.Event(re.SHOW,{relatedTarget:n});if(n&&te(n).trigger(a),te(this._element).trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){r&&(e=te(r)[0]),this._activate(this._element,i);var l=function(){var e=te.Event(re.HIDDEN,{relatedTarget:t._element}),i=te.Event(re.SHOWN,{relatedTarget:n});te(n).trigger(e),te(t._element).trigger(i)};e?this._activate(e,e.parentNode,l):l()}}},e.dispose=function(){te.removeData(this._element,ee),this._element=null},e._activate=function(t,e,n){var i=this,r=("UL"===e.nodeName?te(e).find(le):te(e).children(oe))[0],s=n&&wi.supportsTransitionEnd()&&r&&te(r).hasClass("fade"),a=function(){return i._transitionComplete(t,r,n)};r&&s?te(r).one(wi.TRANSITION_END,a).emulateTransitionEnd(150):a()},e._transitionComplete=function(t,e,n){if(e){te(e).removeClass(ae+" "+se);var i=te(e.parentNode).find("> .dropdown-menu .active")[0];i&&te(i).removeClass(se),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(te(t).addClass(se),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),wi.reflow(t),te(t).addClass(ae),t.parentNode&&te(t.parentNode).hasClass("dropdown-menu")){var r=te(t).closest(".dropdown")[0];r&&te(r).find(".dropdown-toggle").addClass(se),t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(e){return this.each((function(){var n=te(this),i=n.data(ee);if(i||(i=new t(this),n.data(ee,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},i(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),te(document).on(re.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),ce._jQueryInterface.call(te(this),"show")})),te.fn.tab=ce._jQueryInterface,te.fn.tab.Constructor=ce,te.fn.tab.noConflict=function(){return te.fn.tab=ie,ce._jQueryInterface},function(){var t=!1,e="",n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i={transitionEndSupported:function(){return t},transitionEndSelector:function(){return e},isChar:function(t){return void 0===t.which||"number"==typeof t.which&&t.which>0&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!==t.which&&9!==t.which&&13!==t.which&&16!==t.which&&17!==t.which&&20!==t.which&&27!==t.which},assert:function(t,e,n){if(e)throw void 0===!t&&t.css("border","1px solid red"),console.error(n,t),n},describe:function(t){return void 0===t?"undefined":0===t.length?"(no matching elements)":t[0].outerHTML.split(">")[0]+">"}};return function(){for(var i in t=function(){if(window.QUnit)return!1;var t=document.createElement("bmd");for(var e in n)if(void 0!==t.style[e])return n[e];return!1}(),n)e+=" "+n[i]}(),i}(jQuery)),xi=(ue=jQuery,de="is-filled",he="is-focused",fe={BMD_FORM_GROUP:".bmd-form-group"},pe={},function(){function t(t,e,n){for(var i in void 0===n&&(n={}),this.$element=t,this.config=ue.extend(!0,{},pe,e),n)this[i]=n[i]}var e=t.prototype;return e.dispose=function(t){this.$element.data(t,null),this.$element=null,this.config=null},e.addFormGroupFocus=function(){this.$element.prop("disabled")||this.$bmdFormGroup.addClass(he)},e.removeFormGroupFocus=function(){this.$bmdFormGroup.removeClass(he)},e.removeIsFilled=function(){this.$bmdFormGroup.removeClass(de)},e.addIsFilled=function(){this.$bmdFormGroup.addClass(de)},e.findMdbFormGroup=function(t){void 0===t&&(t=!0);var e=this.$element.closest(fe.BMD_FORM_GROUP);return 0===e.length&&t&&ue.error("Failed to find "+fe.BMD_FORM_GROUP+" for "+Ci.describe(this.$element)),e},t}()),Ai=(me=jQuery,ve="has-danger",ye={FORM_GROUP:".form-group",BMD_FORM_GROUP:"."+(ge="bmd-form-group"),BMD_LABEL_WILDCARD:"label[class^='bmd-label'], label[class*=' bmd-label']"},be={validate:!1,formGroup:{required:!1},bmdFormGroup:{template:"<span class='"+ge+"'></span>",create:!0,required:!0},label:{required:!1,selectors:[".form-control-label","> label"],className:"bmd-label-static"},requiredClasses:[],invalidComponentMatches:[],convertInputSizeVariations:!0},_e={"form-control-lg":"bmd-form-group-lg","form-control-sm":"bmd-form-group-sm"},function(t){function e(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,me.extend(!0,{},be,n),i)||this)._rejectInvalidComponentMatches(),r.rejectWithoutRequiredStructure(),r._rejectWithoutRequiredClasses(),r.$formGroup=r.findFormGroup(r.config.formGroup.required),r.$bmdFormGroup=r.resolveMdbFormGroup(),r.$bmdLabel=r.resolveMdbLabel(),r.resolveMdbFormGroupSizing(),r.addFocusListener(),r.addChangeListener(),""!=r.$element.val()&&r.addIsFilled(),r}s(e,t);var n=e.prototype;return n.dispose=function(e){t.prototype.dispose.call(this,e),this.$bmdFormGroup=null,this.$formGroup=null},n.rejectWithoutRequiredStructure=function(){},n.addFocusListener=function(){var t=this;this.$element.on("focus",(function(){t.addFormGroupFocus()})).on("blur",(function(){t.removeFormGroupFocus()}))},n.addChangeListener=function(){var t=this;this.$element.on("keydown paste",(function(e){Ci.isChar(e)&&t.addIsFilled()})).on("keyup change",(function(){t.isEmpty()?t.removeIsFilled():t.addIsFilled(),t.config.validate&&(void 0===t.$element[0].checkValidity||t.$element[0].checkValidity()?t.removeHasDanger():t.addHasDanger())}))},n.addHasDanger=function(){this.$bmdFormGroup.addClass(ve)},n.removeHasDanger=function(){this.$bmdFormGroup.removeClass(ve)},n.isEmpty=function(){return null===this.$element.val()||void 0===this.$element.val()||""===this.$element.val()},n.resolveMdbFormGroup=function(){var t=this.findMdbFormGroup(!1);return void 0!==t&&0!==t.length||(!this.config.bmdFormGroup.create||void 0!==this.$formGroup&&0!==this.$formGroup.length?this.$formGroup.addClass(ge):this.outerElement().parent().hasClass("input-group")?this.outerElement().parent().wrap(this.config.bmdFormGroup.template):this.outerElement().wrap(this.config.bmdFormGroup.template),t=this.findMdbFormGroup(this.config.bmdFormGroup.required)),t},n.outerElement=function(){return this.$element},n.resolveMdbLabel=function(){var t=this.$bmdFormGroup.find(ye.BMD_LABEL_WILDCARD);return void 0!==t&&0!==t.length||void 0===(t=this.findMdbLabel(this.config.label.required))||0===t.length||t.addClass(this.config.label.className),t},n.findMdbLabel=function(t){void 0===t&&(t=!0);var e=null,n=this.config.label.selectors,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(r>=n.length)break;s=n[r++]}else{if((r=n.next()).done)break;s=r.value}var a=s;if(void 0!==(e=me.isFunction(a)?a(this):this.$bmdFormGroup.find(a))&&e.length>0)break}return 0===e.length&&t&&me.error("Failed to find "+ye.BMD_LABEL_WILDCARD+" within form-group for "+Ci.describe(this.$element)),e},n.findFormGroup=function(t){void 0===t&&(t=!0);var e=this.$element.closest(ye.FORM_GROUP);return 0===e.length&&t&&me.error("Failed to find "+ye.FORM_GROUP+" for "+Ci.describe(this.$element)),e},n.resolveMdbFormGroupSizing=function(){if(this.config.convertInputSizeVariations)for(var t in _e)this.$element.hasClass(t)&&this.$bmdFormGroup.addClass(_e[t])},n._rejectInvalidComponentMatches=function(){var t=this.config.invalidComponentMatches,e=Array.isArray(t),n=0;for(t=e?t:t[Symbol.iterator]();;){var i;if(e){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}i.rejectMatch(this.constructor.name,this.$element)}},n._rejectWithoutRequiredClasses=function(){var t=this.config.requiredClasses,e=Array.isArray(t),n=0;for(t=e?t:t[Symbol.iterator]();;){var i;if(e){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var r=i,s=!1;if(-1!==r.indexOf("||")){var a=r.split("||"),o=Array.isArray(a),l=0;for(a=o?a:a[Symbol.iterator]();;){var c;if(o){if(l>=a.length)break;c=a[l++]}else{if((l=a.next()).done)break;c=l.value}var u=c;if(this.$element.hasClass(u)){s=!0;break}}}else this.$element.hasClass(r)&&(s=!0);s||me.error(this.constructor.name+" element: "+Ci.describe(this.$element)+" requires class: "+r)}},e}(xi)),Ii=(Ee=jQuery,Se={label:{required:!1}},function(t){function e(e,n,i){var r;return(r=t.call(this,e,Ee.extend(!0,{},Se,n),i)||this).decorateMarkup(),r}s(e,t);var n=e.prototype;return n.decorateMarkup=function(){var t=Ee(this.config.template);this.$element.after(t),!1!==this.config.ripples&&t.bmdRipples()},n.outerElement=function(){return this.$element.parent().closest("."+this.outerClass)},n.rejectWithoutRequiredStructure=function(){Ci.assert(this.$element,"label"===!this.$element.parent().prop("tagName"),this.constructor.name+"'s "+Ci.describe(this.$element)+" parent element should be <label>."),Ci.assert(this.$element,!this.outerElement().hasClass(this.outerClass),this.constructor.name+"'s "+Ci.describe(this.$element)+" outer element should have class "+this.outerClass+".")},n.addFocusListener=function(){var t=this;this.$element.closest("label").hover((function(){t.addFormGroupFocus()}),(function(){t.removeFormGroupFocus()}))},n.addChangeListener=function(){var t=this;this.$element.change((function(){t.$element.blur()}))},e}(Ai)),Di=(Te=jQuery,ke="bmd."+(we="checkbox"),Ce="bmd"+(we.charAt(0).toUpperCase()+we.slice(1)),xe=Te.fn[Ce],Ae={template:"<span class='checkbox-decorator'><span class='check'></span></span>"},Ie=function(t){function e(e,n,i){return void 0===i&&(i={inputType:we,outerClass:we}),t.call(this,e,Te.extend(!0,Ae,n),i)||this}return s(e,t),e.prototype.dispose=function(e){void 0===e&&(e=ke),t.prototype.dispose.call(this,e)},e.matches=function(t){return"checkbox"===t.attr("type")},e.rejectMatch=function(t,e){Ci.assert(this.$element,this.matches(e),t+" component element "+Ci.describe(e)+" is invalid for type='checkbox'.")},e._jQueryInterface=function(t){return this.each((function(){var n=Te(this),i=n.data(ke);i||(i=new e(n,t),n.data(ke,i))}))},e}(Ii),Te.fn[Ce]=Ie._jQueryInterface,Te.fn[Ce].Constructor=Ie,Te.fn[Ce].noConflict=function(){return Te.fn[Ce]=xe,Ie._jQueryInterface},Ie),Li=(De=jQuery,Pe="bmd."+(Le="checkboxInline"),Oe="bmd"+(Le.charAt(0).toUpperCase()+Le.slice(1)),Re=De.fn[Oe],Me={bmdFormGroup:{create:!1,required:!1}},Ne=function(t){function e(e,n,i){return void 0===i&&(i={inputType:"checkbox",outerClass:"checkbox-inline"}),t.call(this,e,De.extend(!0,{},Me,n),i)||this}return s(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this,Pe)},e._jQueryInterface=function(t){return this.each((function(){var n=De(this),i=n.data(Pe);i||(i=new e(n,t),n.data(Pe,i))}))},e}(Di),De.fn[Oe]=Ne._jQueryInterface,De.fn[Oe].Constructor=Ne,De.fn[Oe].noConflict=function(){return De.fn[Oe]=Re,Ne._jQueryInterface},Fe=jQuery,je="bmd."+($e="collapseInline"),Be="bmd"+($e.charAt(0).toUpperCase()+$e.slice(1)),Ue=Fe.fn[Be],He={ANY_INPUT:"input, select, textarea"},Ge={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed",WIDTH:"width"},qe={},We=function(t){function e(e,n){var i;(i=t.call(this,e,Fe.extend(!0,{},qe,n))||this).$bmdFormGroup=i.findMdbFormGroup(!0);var r=e.data("target");i.$collapse=Fe(r),Ci.assert(e,0===i.$collapse.length,"Cannot find collapse target for "+Ci.describe(e)),Ci.assert(i.$collapse,!i.$collapse.hasClass(Ge.COLLAPSE),Ci.describe(i.$collapse)+" is expected to have the '"+Ge.COLLAPSE+"' class.  It is being targeted by "+Ci.describe(e));var s=i.$bmdFormGroup.find(He.ANY_INPUT);return s.length>0&&(i.$input=s.first()),i.$collapse.hasClass(Ge.WIDTH)||i.$collapse.addClass(Ge.WIDTH),i.$input&&(i.$collapse.on("shown.bs.collapse",(function(){i.$input.focus()})),i.$input.blur((function(){i.$collapse.collapse("hide")}))),i}return s(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this,je),this.$bmdFormGroup=null,this.$collapse=null,this.$input=null},e._jQueryInterface=function(t){return this.each((function(){var n=Fe(this),i=n.data(je);i||(i=new e(n,t),n.data(je,i))}))},e}(xi),Fe.fn[Be]=We._jQueryInterface,Fe.fn[Be].Constructor=We,Fe.fn[Be].noConflict=function(){return Fe.fn[Be]=Ue,We._jQueryInterface},Ve=jQuery,ze="bmd."+(Ke="file"),Ye="bmd"+(Ke.charAt(0).toUpperCase()+Ke.slice(1)),Qe=Ve.fn[Ye],Xe={},Ze={FILE:Ke,IS_FILE:"is-file"},Je=function(t){function e(e,n){var i;return(i=t.call(this,e,Ve.extend(!0,Xe,n))||this).$bmdFormGroup.addClass(Ze.IS_FILE),i}s(e,t);var n=e.prototype;return n.dispose=function(){t.prototype.dispose.call(this,ze)},e.matches=function(t){return"file"===t.attr("type")},e.rejectMatch=function(t,e){Ci.assert(this.$element,this.matches(e),t+" component element "+Ci.describe(e)+" is invalid for type='file'.")},n.outerElement=function(){return this.$element.parent().closest("."+Ze.FILE)},n.rejectWithoutRequiredStructure=function(){Ci.assert(this.$element,"label"===!this.outerElement().prop("tagName"),this.constructor.name+"'s "+Ci.describe(this.$element)+" parent element "+Ci.describe(this.outerElement())+" should be <label>."),Ci.assert(this.$element,!this.outerElement().hasClass(Ze.FILE),this.constructor.name+"'s "+Ci.describe(this.$element)+" parent element "+Ci.describe(this.outerElement())+" should have class ."+Ze.FILE+".")},n.addFocusListener=function(){var t=this;this.$bmdFormGroup.on("focus",(function(){t.addFormGroupFocus()})).on("blur",(function(){t.removeFormGroupFocus()}))},n.addChangeListener=function(){var t=this;this.$element.on("change",(function(){var e="";Ve.each(t.$element.files,(function(t,n){e+=n.name+"  , "})),(e=e.substring(0,e.length-2))?t.addIsFilled():t.removeIsFilled(),t.$bmdFormGroup.find("input.form-control[readonly]").val(e)}))},e._jQueryInterface=function(t){return this.each((function(){var n=Ve(this),i=n.data(ze);i||(i=new e(n,t),n.data(ze,i))}))},e}(Ai),Ve.fn[Ye]=Je._jQueryInterface,Ve.fn[Ye].Constructor=Je,Ve.fn[Ye].noConflict=function(){return Ve.fn[Ye]=Qe,Je._jQueryInterface},tn=jQuery,nn="bmd."+(en="radio"),rn="bmd"+(en.charAt(0).toUpperCase()+en.slice(1)),sn=tn.fn[rn],an={template:"<span class='bmd-radio'></span>"},on=function(t){function e(e,n,i){return void 0===i&&(i={inputType:en,outerClass:en}),t.call(this,e,tn.extend(!0,an,n),i)||this}return s(e,t),e.prototype.dispose=function(e){void 0===e&&(e=nn),t.prototype.dispose.call(this,e)},e.matches=function(t){return"radio"===t.attr("type")},e.rejectMatch=function(t,e){Ci.assert(this.$element,this.matches(e),t+" component element "+Ci.describe(e)+" is invalid for type='radio'.")},e._jQueryInterface=function(t){return this.each((function(){var n=tn(this),i=n.data(nn);i||(i=new e(n,t),n.data(nn,i))}))},e}(Ii),tn.fn[rn]=on._jQueryInterface,tn.fn[rn].Constructor=on,tn.fn[rn].noConflict=function(){return tn.fn[rn]=sn,on._jQueryInterface},on),Pi=(ln=jQuery,un="bmd."+(cn="radioInline"),dn="bmd"+(cn.charAt(0).toUpperCase()+cn.slice(1)),hn=ln.fn[dn],fn={bmdFormGroup:{create:!1,required:!1}},pn=function(t){function e(e,n,i){return void 0===i&&(i={inputType:"radio",outerClass:"radio-inline"}),t.call(this,e,ln.extend(!0,{},fn,n),i)||this}return s(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this,un)},e._jQueryInterface=function(t){return this.each((function(){var n=ln(this),i=n.data(un);i||(i=new e(n,t),n.data(un,i))}))},e}(Li),ln.fn[dn]=pn._jQueryInterface,ln.fn[dn].Constructor=pn,ln.fn[dn].noConflict=function(){return ln.fn[dn]=hn,pn._jQueryInterface},mn=jQuery,gn={requiredClasses:["form-control"]},function(t){function e(e,n){var i;return(i=t.call(this,e,mn.extend(!0,gn,n))||this).isEmpty()&&i.removeIsFilled(),i}return s(e,t),e}(Ai)),Oi=(vn=jQuery,bn="bmd."+(yn="select"),_n="bmd"+(yn.charAt(0).toUpperCase()+yn.slice(1)),En=vn.fn[_n],Sn={requiredClasses:["form-control||custom-select"]},Tn=function(t){function e(e,n){var i;return(i=t.call(this,e,vn.extend(!0,Sn,n))||this).addIsFilled(),i}return s(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this,bn)},e.matches=function(t){return"select"===t.prop("tagName")},e.rejectMatch=function(t,e){Ci.assert(this.$element,this.matches(e),t+" component element "+Ci.describe(e)+" is invalid for <select>.")},e._jQueryInterface=function(t){return this.each((function(){var n=vn(this),i=n.data(bn);i||(i=new e(n,t),n.data(bn,i))}))},e}(Pi),vn.fn[_n]=Tn._jQueryInterface,vn.fn[_n].Constructor=Tn,vn.fn[_n].noConflict=function(){return vn.fn[_n]=En,Tn._jQueryInterface},wn=jQuery,Cn="bmd."+(kn="switch"),xn="bmd"+(kn.charAt(0).toUpperCase()+kn.slice(1)),An=wn.fn[xn],In={template:"<span class='bmd-switch-track'></span>"},Dn=function(t){function e(e,n,i){return void 0===i&&(i={inputType:"checkbox",outerClass:"switch"}),t.call(this,e,wn.extend(!0,{},In,n),i)||this}return s(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this,Cn)},e._jQueryInterface=function(t){return this.each((function(){var n=wn(this),i=n.data(Cn);i||(i=new e(n,t),n.data(Cn,i))}))},e}(Di),wn.fn[xn]=Dn._jQueryInterface,wn.fn[xn].Constructor=Dn,wn.fn[xn].noConflict=function(){return wn.fn[xn]=An,Dn._jQueryInterface},Ln=jQuery,On="bmd."+(Pn="text"),Rn="bmd"+(Pn.charAt(0).toUpperCase()+Pn.slice(1)),Mn=Ln.fn[Rn],Nn={},Fn=function(t){function e(e,n){return t.call(this,e,Ln.extend(!0,Nn,n))||this}return s(e,t),e.prototype.dispose=function(e){void 0===e&&(e=On),t.prototype.dispose.call(this,e)},e.matches=function(t){return"text"===t.attr("type")},e.rejectMatch=function(t,e){Ci.assert(this.$element,this.matches(e),t+" component element "+Ci.describe(e)+" is invalid for type='text'.")},e._jQueryInterface=function(t){return this.each((function(){var n=Ln(this),i=n.data(On);i||(i=new e(n,t),n.data(On,i))}))},e}(Pi),Ln.fn[Rn]=Fn._jQueryInterface,Ln.fn[Rn].Constructor=Fn,Ln.fn[Rn].noConflict=function(){return Ln.fn[Rn]=Mn,Fn._jQueryInterface},$n=jQuery,Bn="bmd."+(jn="textarea"),Un="bmd"+(jn.charAt(0).toUpperCase()+jn.slice(1)),Hn=$n.fn[Un],Gn={},qn=function(t){function e(e,n){return t.call(this,e,$n.extend(!0,Gn,n))||this}return s(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this,Bn)},e.matches=function(t){return"textarea"===t.prop("tagName")},e.rejectMatch=function(t,e){Ci.assert(this.$element,this.matches(e),t+" component element "+Ci.describe(e)+" is invalid for <textarea>.")},e._jQueryInterface=function(t){return this.each((function(){var n=$n(this),i=n.data(Bn);i||(i=new e(n,t),n.data(Bn,i))}))},e}(Pi),$n.fn[Un]=qn._jQueryInterface,$n.fn[Un].Constructor=qn,$n.fn[Un].noConflict=function(){return $n.fn[Un]=Hn,qn._jQueryInterface},function(t){if("undefined"==typeof Popper)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var e="dropdown",n="bs.dropdown",r="."+n,s=".data-api",o=t.fn[e],l=new RegExp("38|40|27"),c={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+s,KEYDOWN_DATA_API:"keydown"+r+s,KEYUP_DATA_API:"keyup"+r+s,TRANSITION_END:"transitionend webkitTransitionEnd oTransitionEnd animationend webkitAnimationEnd oAnimationEnd"},u="disabled",d="show",h="showing",f="hiding",p="dropup",m="dropdown-menu-right",g='[data-toggle="dropdown"]',v=".dropdown-menu",y={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},b={placement:y.BOTTOM,offset:0,flip:!0},_={placement:"string",offset:"(number|string)",flip:"boolean"},E=function(){function s(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var o=s.prototype;return o.toggle=function(){var e=this;if(!this._element.disabled&&!t(this._element).hasClass(u)){var n=s._getParentFromElement(this._element),i=t(this._menu).hasClass(d);if(s._clearMenus(),!i){var r={relatedTarget:this._element},a=t.Event(c.SHOW,r);if(t(n).trigger(a),!a.isDefaultPrevented()){var o=this._element;t(n).hasClass(p)&&(t(this._menu).hasClass("dropdown-menu-left")||t(this._menu).hasClass(m))&&(o=n),this._popper=new Popper(o,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!t(n).closest(".navbar-nav").length&&t("body").children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).one(c.TRANSITION_END,(function(){t(n).trigger(t.Event(c.SHOWN,r)),t(e._menu).removeClass(h)})),t(this._menu).addClass(d+" "+h),t(n).addClass(d)}}}},o.dispose=function(){t.removeData(this._element,n),t(this._element).off(r),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},o.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},o._addEventListeners=function(){var e=this;t(this._element).on(c.CLICK,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},o._getConfig=function(n){var i=t(this._element).data();return void 0!==i.placement&&(i.placement=y[i.placement.toUpperCase()]),n=t.extend({},this.constructor.Default,t(this._element).data(),n),wi.typeCheckConfig(e,n,this.constructor.DefaultType),n},o._getMenuElement=function(){if(!this._menu){var e=s._getParentFromElement(this._element);this._menu=t(e).find(v)[0]}return this._menu},o._getPlacement=function(){var e=t(this._element).parent(),n=this._config.placement;return e.hasClass(p)||this._config.placement===y.TOP?(n=y.TOP,t(this._menu).hasClass(m)&&(n=y.TOPEND)):t(this._menu).hasClass(m)&&(n=y.BOTTOMEND),n},o._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},o._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:{offset:this._config.offset},flip:{enabled:this._config.flip}}};return this._inNavbar&&(t.modifiers.applyStyle={enabled:!this._inNavbar}),t},s._jQueryInterface=function(e){return this.each((function(){var i=t(this).data(n);if(i||(i=new s(this,"object"==a(e)?e:null),t(this).data(n,i)),"string"==typeof e){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e]()}}))},s._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var i=t.makeArray(t(g)),r=function(r){var a=s._getParentFromElement(i[r]),o=t(i[r]).data(n),l={relatedTarget:i[r]};if(!o)return"continue";var u=o._menu;if(!t(a).hasClass(d))return"continue";if(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(a,e.target))return"continue";var h=t.Event(c.HIDE,l);if(t(a).trigger(h),h.isDefaultPrevented())return"continue";"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),i[r].setAttribute("aria-expanded","false"),t(u).addClass(f).removeClass(d),t(a).removeClass(d),t(u).one(c.TRANSITION_END,(function(){t(a).trigger(t.Event(c.HIDDEN,l)),t(u).removeClass(f)}))},a=0;a<i.length;a++)r(a)},s._getParentFromElement=function(e){var n,i=wi.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},s._dataApiKeydownHandler=function(e){if(!(!l.test(e.which)||/button/i.test(e.target.tagName)&&32===e.which||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),e.stopPropagation(),this.disabled||t(this).hasClass(u)))){var n=s._getParentFromElement(this),i=t(n).hasClass(d);if((i||27===e.which&&32===e.which)&&(!i||27!==e.which&&32!==e.which)){var r=t(n).find(".dropdown-menu .dropdown-item:not(.disabled)").get();if(r.length){var a=r.indexOf(e.target);38===e.which&&a>0&&a--,40===e.which&&a<r.length-1&&a++,a<0&&(a=0),r[a].focus()}}else{if(27===e.which){var o=t(n).find(g)[0];t(o).trigger("focus")}t(this).trigger("click")}}},i(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return b}},{key:"DefaultType",get:function(){return _}}]),s}();t(document).on(c.KEYDOWN_DATA_API,g,E._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,v,E._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.KEYUP_DATA_API,E._clearMenus).on(c.CLICK_DATA_API,g,(function(e){e.preventDefault(),e.stopPropagation(),E._jQueryInterface.call(t(this),"toggle")})).on(c.CLICK_DATA_API,".dropdown form",(function(t){t.stopPropagation()})),t.fn[e]=E._jQueryInterface,t.fn[e].Constructor=E,t.fn[e].noConflict=function(){return t.fn[e]=o,E._jQueryInterface}}(jQuery),Wn=jQuery,Vn={CANVAS:".bmd-layout-canvas",CONTAINER:".bmd-layout-container",BACKDROP:".bmd-layout-backdrop"},Kn={canvas:{create:!0,required:!0,template:'<div class="bmd-layout-canvas"></div>'},backdrop:{create:!0,required:!0,template:'<div class="bmd-layout-backdrop"></div>'}},function(t){function e(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,Wn.extend(!0,{},Kn,n),i)||this).$container=r.findContainer(!0),r.$backdrop=r.resolveBackdrop(),r.resolveCanvas(),r}s(e,t);var n=e.prototype;return n.dispose=function(e){t.prototype.dispose.call(this,e),this.$container=null,this.$backdrop=null},n.resolveCanvas=function(){var t=this.findCanvas(!1);return void 0!==t&&0!==t.length||(this.config.canvas.create&&this.$container.wrap(this.config.canvas.template),t=this.findCanvas(this.config.canvas.required)),t},n.findCanvas=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.$container);var n=e.closest(Vn.CANVAS);return 0===n.length&&t&&Wn.error("Failed to find "+Vn.CANVAS+" for "+Ci.describe(e)),n},n.resolveBackdrop=function(){var t=this.findBackdrop(!1);return void 0!==t&&0!==t.length||(this.config.backdrop.create&&this.$container.append(this.config.backdrop.template),t=this.findBackdrop(this.config.backdrop.required)),t},n.findBackdrop=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.$container);var n=e.find("> "+Vn.BACKDROP);return 0===n.length&&t&&Wn.error("Failed to find "+Vn.BACKDROP+" for "+Ci.describe(e)),n},n.findContainer=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.$element);var n=e.closest(Vn.CONTAINER);return 0===n.length&&t&&Wn.error("Failed to find "+Vn.CONTAINER+" for "+Ci.describe(e)),n},e}(xi));zn=jQuery,Qn="bmd."+(Yn="drawer"),Xn="bmd"+(Yn.charAt(0).toUpperCase()+Yn.slice(1)),Zn=zn.fn[Xn],Jn={ESCAPE:27},ti="bmd-drawer-in",ei={focusSelector:"a, button, input"},ni=function(t){function e(e,n){var i;return(i=t.call(this,e,zn.extend(!0,{},ei,n))||this).$toggles=zn('[data-toggle="drawer"][href="#'+i.$element[0].id+'"], [data-toggle="drawer"][data-target="#'+i.$element[0].id+'"]'),i._addAria(),i.$backdrop.keydown((function(t){t.which===Jn.ESCAPE&&i.hide()})).click((function(){i.hide()})),i.$element.keydown((function(t){t.which===Jn.ESCAPE&&i.hide()})),i.$toggles.click((function(){i.toggle()})),i}s(e,t);var n=e.prototype;return n.dispose=function(){t.prototype.dispose.call(this,Qn),this.$toggles=null},n.toggle=function(){this._isOpen()?this.hide():this.show()},n.show=function(){if(!this._isForcedClosed()&&!this._isOpen()){this.$toggles.attr("aria-expanded",!0),this.$element.attr("aria-expanded",!0),this.$element.attr("aria-hidden",!1);var t=this.$element.find(this.config.focusSelector);t.length>0&&t.first().focus(),this.$container.addClass(ti),this.$backdrop.addClass("in")}},n.hide=function(){this._isOpen()&&(this.$toggles.attr("aria-expanded",!1),this.$element.attr("aria-expanded",!1),this.$element.attr("aria-hidden",!0),this.$container.removeClass(ti),this.$backdrop.removeClass("in"))},n._isOpen=function(){return this.$container.hasClass(ti)},n._isForcedClosed=function(){return this.$container.hasClass("bmd-drawer-out")},n._addAria=function(){var t=this._isOpen();this.$element.attr("aria-expanded",t),this.$element.attr("aria-hidden",t),this.$toggles.length&&this.$toggles.attr("aria-expanded",t)},e._jQueryInterface=function(t){return this.each((function(){var n=zn(this),i=n.data(Qn);i||(i=new e(n,t),n.data(Qn,i))}))},e}(Oi),zn.fn[Xn]=ni._jQueryInterface,zn.fn[Xn].Constructor=ni,zn.fn[Xn].noConflict=function(){return zn.fn[Xn]=Zn,ni._jQueryInterface},ii=jQuery,si="bmd."+(ri="ripples"),ai="bmd"+(ri.charAt(0).toUpperCase()+ri.slice(1)),oi=ii.fn[ai],li={CONTAINER:".ripple-container",DECORATOR:".ripple-decorator"},ci={container:{template:"<div class='ripple-container'></div>"},decorator:{template:"<div class='ripple-decorator'></div>"},trigger:{start:"mousedown touchstart",end:"mouseup mouseleave touchend"},touchUserAgentRegex:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,duration:500},ui=function(){function t(t,e){var n=this;this.$element=t,this.config=ii.extend(!0,{},ci,e),this.$element.on(this.config.trigger.start,(function(t){n._onStartRipple(t)}))}var e=t.prototype;return e.dispose=function(){this.$element.data(si,null),this.$element=null,this.$container=null,this.$decorator=null,this.config=null},e._onStartRipple=function(t){var e=this;if(!this._isTouch()||"mousedown"!==t.type){this._findOrCreateContainer();var n=this._getRelY(t),i=this._getRelX(t);(n||i)&&(this.$decorator.css({left:i,top:n,"background-color":this._getRipplesColor()}),this._forceStyleApplication(),this.rippleOn(),setTimeout((function(){e.rippleEnd()}),this.config.duration),this.$element.on(this.config.trigger.end,(function(){e.$decorator&&(e.$decorator.data("mousedown","off"),"off"===e.$decorator.data("animating")&&e.rippleOut())})))}},e._findOrCreateContainer=function(){(!this.$container||!this.$container.length>0)&&(this.$element.append(this.config.container.template),this.$container=this.$element.find(li.CONTAINER)),this.$container.append(this.config.decorator.template),this.$decorator=this.$container.find(li.DECORATOR)},e._forceStyleApplication=function(){return window.getComputedStyle(this.$decorator[0]).opacity},e._getRelX=function(t){var e=this.$container.offset();return this._isTouch()?1===(t=t.originalEvent).touches.length&&t.touches[0].pageX-e.left:t.pageX-e.left},e._getRelY=function(t){var e=this.$container.offset();return this._isTouch()?1===(t=t.originalEvent).touches.length&&t.touches[0].pageY-e.top:t.pageY-e.top},e._getRipplesColor=function(){return this.$element.data("ripple-color")?this.$element.data("ripple-color"):window.getComputedStyle(this.$element[0]).color},e._isTouch=function(){return this.config.touchUserAgentRegex.test(navigator.userAgent)},e.rippleEnd=function(){this.$decorator&&(this.$decorator.data("animating","off"),"off"===this.$decorator.data("mousedown")&&this.rippleOut(this.$decorator))},e.rippleOut=function(){var t=this;this.$decorator.off(),Ci.transitionEndSupported()?this.$decorator.addClass("ripple-out"):this.$decorator.animate({opacity:0},100,(function(){t.$decorator.trigger("transitionend")})),this.$decorator.on(Ci.transitionEndSelector(),(function(){t.$decorator&&(t.$decorator.remove(),t.$decorator=null)}))},e.rippleOn=function(){var t=this,e=this._getNewSize();Ci.transitionEndSupported()?this.$decorator.css({"-ms-transform":"scale("+e+")","-moz-transform":"scale("+e+")","-webkit-transform":"scale("+e+")",transform:"scale("+e+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):this.$decorator.animate({width:2*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),height:2*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),"margin-left":-1*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),"margin-top":-1*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),opacity:.2},this.config.duration,(function(){t.$decorator.trigger("transitionend")}))},e._getNewSize=function(){return Math.max(this.$element.outerWidth(),this.$element.outerHeight())/this.$decorator.outerWidth()*2.5},t._jQueryInterface=function(e){return this.each((function(){var n=ii(this),i=n.data(si);i||(i=new t(n,e),n.data(si,i))}))},t}(),ii.fn[ai]=ui._jQueryInterface,ii.fn[ai].Constructor=ui,ii.fn[ai].noConflict=function(){return ii.fn[ai]=oi,ui._jQueryInterface},di=jQuery,fi="bmd."+(hi="autofill"),pi="bmd"+(hi.charAt(0).toUpperCase()+hi.slice(1)),mi=di.fn[pi],gi={},vi=function(t){function e(e,n){var i;return(i=t.call(this,e,di.extend(!0,{},gi,n))||this)._watchLoading(),i._attachEventHandlers(),i}s(e,t);var n=e.prototype;return n.dispose=function(){t.prototype.dispose.call(this,fi)},n._watchLoading=function(){var t=this;setTimeout((function(){clearInterval(t._onLoading)}),1e4)},n._onLoading=function(){setInterval((function(){di("input[type!=checkbox]").each((function(t,e){var n=di(e);n.val()&&n.val()!==n.attr("value")&&n.trigger("change")}))}),100)},n._attachEventHandlers=function(){var t=null;di(document).on("focus","input",(function(e){var n=di(e.currentTarget).closest("form").find("input").not("[type=file]").not('[class*="picker"]');t=setInterval((function(){n.each((function(t,e){var n=di(e);n.val()!==n.attr("value")&&n.trigger("change")}))}),100)})).on("blur",".form-group input",(function(){clearInterval(t)}))},e._jQueryInterface=function(t){return this.each((function(){var n=di(this),i=n.data(fi);i||(i=new e(n,t),n.data(fi,i))}))},e}(xi),di.fn[pi]=vi._jQueryInterface,di.fn[pi].Constructor=vi,di.fn[pi].noConflict=function(){return di.fn[pi]=mi,vi._jQueryInterface},Popper.Defaults.modifiers.computeStyle.gpuAcceleration=!1,yi=jQuery,bi="bmd.bootstrapMaterialDesign",_i="bootstrapMaterialDesign",Ei=yi.fn[_i],Si={global:{validate:!1,label:{className:"bmd-label-static"}},autofill:{selector:"body"},checkbox:{selector:".checkbox > label > input[type=checkbox]"},checkboxInline:{selector:"label.checkbox-inline > input[type=checkbox]"},collapseInline:{selector:'.bmd-collapse-inline [data-toggle="collapse"]'},drawer:{selector:".bmd-layout-drawer"},file:{selector:"input[type=file]"},radio:{selector:".radio > label > input[type=radio]"},radioInline:{selector:"label.radio-inline > input[type=radio]"},ripples:{selector:[".btn:not(.ripple-none)",".card-image:not(.ripple-none)",".navbar a:not(.ripple-none)",".dropdown-menu a:not(.ripple-none)",".nav-tabs a:not(.ripple-none)",".pagination li:not(.active):not(.disabled) a:not(.ripple-none)",".ripple"]},select:{selector:["select"]},switch:{selector:".switch > label > input[type=checkbox]"},text:{selector:["input.form-control:not([type=hidden]):not([type=checkbox]):not([type=radio]):not([type=file]):not([type=button]):not([type=submit]):not([type=reset])"]},textarea:{selector:["textarea.form-control"]},arrive:!0,instantiation:["ripples","checkbox","checkboxInline","collapseInline","drawer","radio","radioInline","switch","text","textarea","autofill"]},Ti=function(){function t(t,e){var n=this;this.$element=t,this.config=yi.extend(!0,{},Si,e);var i=yi(document),r=function(t){var e=n.config[t];if(e){var r=n._resolveSelector(e);e=yi.extend(!0,{},n.config.global,e);var s="bmd"+(t.charAt(0).toUpperCase()+t.slice(1));try{yi(r)[s](e),document.arrive&&n.config.arrive&&i.arrive(r,(function(){yi(this)[s](e)}))}catch(t){var a="Failed to instantiate component: $('"+r+"')["+s+"]("+e+")";throw console.error(a,t,"\nSelected elements: ",yi(r)),t}}},s=this.config.instantiation,a=Array.isArray(s),o=0;for(s=a?s:s[Symbol.iterator]();;){var l;if(a){if(o>=s.length)break;l=s[o++]}else{if((o=s.next()).done)break;l=o.value}r(l)}}var e=t.prototype;return e.dispose=function(){this.$element.data(bi,null),this.$element=null,this.config=null},e._resolveSelector=function(t){var e=t.selector;return Array.isArray(e)&&(e=e.join(", ")),e},t._jQueryInterface=function(e){return this.each((function(){var n=yi(this),i=n.data(bi);i||(i=new t(n,e),n.data(bi,i))}))},t}(),yi.fn[_i]=Ti._jQueryInterface,yi.fn[_i].Constructor=Ti,yi.fn[_i].noConflict=function(){return yi.fn[_i]=Ei,Ti._jQueryInterface}},"object"==a(e)?o(n(9755),n(8981)):(r=[n(9755),n(8981)],void 0===(s="function"==typeof(i=o)?i.apply(e,r):i)||(t.exports=s)),jQuery((function(){h.init(),$("body").bootstrapMaterialDesign(),window_width=$(window).width(),$navbar=$(".navbar[color-on-scroll]"),scroll_distance=$navbar.attr("color-on-scroll")||500,$navbar_collapse=$(".navbar").find(".navbar-collapse"),$('[data-toggle="tooltip"], [rel="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),0!=$(".navbar-color-on-scroll").length&&$(window).on("scroll",materialKit.checkScrollForTransparentNavbar),materialKit.checkScrollForTransparentNavbar()})),$("body").on("click",(function(t){if(!$(t.target).closest("#people-number").length&&!$(t.target).closest("#people-dropdown").length){var e=$(".guest-dropdown");e.hasClass("show")&&e.animate({opacity:0}).removeClass("show").addClass("d-none")}})),$(document).on("click",".close-dropdown",(function(t){t.preventDefault();var e=$(".guest-dropdown");console.log(e),e.hasClass("show")&&e.animate({opacity:0}).removeClass("show").addClass("d-none")})),$(document).on("click",".people-number",(function(t){var e=$(".guest-dropdown");e.hasClass("show")?e.animate({opacity:0}).removeClass("show").addClass("d-none"):e.animate({opacity:1}).addClass("show").removeClass("d-none")})),$(document).on("click",".sidebar-toggle",(function(t){var e=$(this);e.hasClass("sidebar-opened")?(e.removeClass("sidebar-opened"),$(".sidebar-overlay").addClass("d-none"),$(".mobile-sidebar").css("transform","translate(-280px)").removeClass("sidebar-opened"),$(".sidebar-section").addClass("card"),$(".material-icons.filter").text("sort")):($(".sidebar-section").removeClass("card"),e.addClass("sidebar-opened"),$(".mobile-sidebar").css("transform","translate(0px)").addClass("sidebar-opened"),$(".sidebar-overlay").removeClass("d-none"),$(".material-icons.filter").text("clear"))})),$loading_spinner=$(".loading-spinner"),$login_form=$(".login-form"),$register_form=$(".register-form"),$auth_spinner=$(".auth-spinner"),$email_error=$("#auth-error"),$auth_email_error=$("#auth-email-error"),$phone_number=$("#auth-phone-number-error"),$(document).on("click",".auth-form",(function(t){t.preventDefault();var e=$(this);$loading_spinner.removeClass("d-none");var n=e.data("to");$login_form.addClass("d-none"),$register_form.addClass("d-none"),setTimeout((function(){"register"==n?$register_form.removeClass("d-none"):$login_form.removeClass("d-none"),$loading_spinner.addClass("d-none")}),900)})),$("#loadModal").on("hidden.bs.modal",(function(){$loading_spinner.removeClass("d-none"),$login_form.addClass("d-none"),$register_form.addClass("d-none"),$email_error.css("display","none").text(""),$(document).find("label.error").remove()})),$rvalidator=$(".register-form").validate({rules:{first_name:"required",last_name:"required",phone_number:{required:!0,number:!0},password:{required:!0,minlength:8},password_confirmation:{required:!0,minlength:8,equalTo:"#r-password"},email:{required:!0,email:!0}},messages:{first_name:"Please enter your first name",last_name:"Please enter your last name",password:{required:"Please provide a password",minlength:"Your password must be at least 8 characters long"},confirm_password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"},email:"Please enter a valid email address"}}),$validator=$(".login-form").validate({rules:{password:{required:!0,minlength:8},email:{required:!0,email:!0}},messages:{password:{required:"Please provide a password",minlength:"Your password must be at least 8 characters long"},confirm_password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"},email:"Please enter a valid email address"}}),$(document).on("submit",".register-form",(function(t){t.preventDefault();var e=$(this);if(!e.valid())return $rvalidator.focusInvalid(),!1;$(".auth-form-button").attr("disabled",!0),$(".lt").addClass("d-none"),$auth_spinner.removeClass("d-none"),$.ajax({url:e.attr("action"),type:"POST",data:e.serialize(),beforeSend:function(){}}).done((function(t){location.reload()})).fail((function(t){$auth_spinner.addClass("d-none"),$(".lt").removeClass("d-none"),$(".auth-form-button").attr("disabled",!1),$auth_email_error.css("display","block").text(t.responseJSON.errors.email[0]),$phone_number.css("display","block").text(t.responseJSON.errors.phone_number[0]),setTimeout((function(){$auth_email_error.css("display","none")}),2e3)}))})),$(document).on("submit",".login-form",(function(t){t.preventDefault();var e=$(this);if(!e.valid())return $validator.focusInvalid(),!1;$(".auth-form-button").attr("disabled",!0),$(".lt").addClass("d-none"),$auth_spinner.removeClass("d-none"),$.ajax({url:e.attr("action"),type:"POST",data:e.serialize(),beforeSend:function(){}}).done((function(t){location.reload()})).fail((function(t){$auth_spinner.addClass("d-none"),$(".lt").removeClass("d-none"),$(".auth-form-button").attr("disabled",!1),$email_error.css("display","block").text(t.responseJSON.error),setTimeout((function(){$email_error.css("display","none")}),2e3)}))})),$(document).on("click",".navbar-toggler",(function(){$toggle=$(this),1==materialKit.misc.navbar_menu_visible?($("html").removeClass("nav-open"),materialKit.misc.navbar_menu_visible=0,$("#bodyClick").remove(),setTimeout((function(){$toggle.removeClass("toggled")}),550),$("html").removeClass("nav-open-absolute")):(setTimeout((function(){$toggle.addClass("toggled")}),580),div='<div id="bodyClick"></div>',$(div).appendTo("body").click((function(){$("html").removeClass("nav-open"),$("nav").hasClass("navbar-absolute")&&$("html").removeClass("nav-open-absolute"),materialKit.misc.navbar_menu_visible=0,$("#bodyClick").remove(),setTimeout((function(){$toggle.removeClass("toggled")}),550)})),$("nav").hasClass("navbar-absolute")&&$("html").addClass("nav-open-absolute"),$("html").addClass("nav-open"),materialKit.misc.navbar_menu_visible=1)})),materialKit={misc:{navbar_menu_visible:0,window_width:0,transparent:!0,fixedTop:!1,navbar_initialized:!1,isWindow:document.documentMode||/Edge/.test(navigator.userAgent)},checkScrollForParallax:function(){oVal=$(window).scrollTop()/3,undefined.css({transform:"translate3d(0,"+oVal+"px,0)","-webkit-transform":"translate3d(0,"+oVal+"px,0)","-ms-transform":"translate3d(0,"+oVal+"px,0)","-o-transform":"translate3d(0,"+oVal+"px,0)"})},checkScrollForTransparentNavbar:(l=function(){$(document).scrollTop()>scroll_distance?materialKit.misc.transparent&&(materialKit.misc.transparent=!1,$(".navbar-color-on-scroll").removeClass("navbar-transparent")):materialKit.misc.transparent||(materialKit.misc.transparent=!0,$(".navbar-color-on-scroll").addClass("navbar-transparent"))},c=17,function(){var t=this,e=arguments;clearTimeout(d),d=setTimeout((function(){d=null,u||l.apply(t,e)}),c),u&&!d&&l.apply(t,e)})};var h={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(t){for(var e=0;e<t.length;e++){var n=t[e].string;if(this.versionSearchString=t[e].subString,-1!==n.indexOf(t[e].subString))return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!==e){var n=t.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(t.substring(n+3)):parseFloat(t.substring(e+this.versionSearchString.length+1))}},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]}},4424:(t,e,n)=>{"use strict";var i={};n.r(i),n.d(i,{addresses:()=>hl,attributes:()=>kl,attributesCheckboxes:()=>xl,bookingPropertyServicesTotal:()=>Ml,bookingServicesTotal:()=>Rl,bookingSubTotal:()=>Ol,bookingTotal:()=>Pl,bookings:()=>Ll,comments:()=>al,default_shipping:()=>vl,edit:()=>Sl,errors:()=>yl,images:()=>ol,links:()=>Il,loading:()=>bl,locationSearch:()=>Al,locations:()=>fl,loggedIn:()=>dl,message:()=>il,meta:()=>Nl,next_page_url:()=>Dl,notification:()=>ll,properties:()=>wl,propertyLoading:()=>Cl,reviews:()=>sl,reviewsMeta:()=>rl,shipping:()=>gl,showForm:()=>El,total:()=>ml,user:()=>_l,userType:()=>Tl,voucher:()=>pl,wishlist:()=>ul,wishlistCount:()=>cl});var r={};n.r(r),n.d(r,{Loading:()=>Ul,clearMessage:()=>Wl,setAttributes:()=>Jl,setAttributesCheckboxes:()=>nc,setBookingPropertyServicesTotal:()=>uc,setBookingServicesTotal:()=>cc,setBookingSubTotal:()=>lc,setBookingTotal:()=>oc,setBookings:()=>ac,setComments:()=>Bl,setCoupon:()=>Fl,setEditMode:()=>Yl,setFormErrors:()=>Ql,setIsSaved:()=>tc,setLinks:()=>rc,setLocationSearch:()=>ic,setLoggedIn:()=>zl,setMessage:()=>$l,setMeta:()=>dc,setNextPageUrl:()=>sc,setNotification:()=>ql,setProperties:()=>Zl,setPropertyLoading:()=>ec,setReviews:()=>jl,setReviewsMeta:()=>Hl,setShowForm:()=>Gl,setUser:()=>Kl,setUserType:()=>Xl,setWishlist:()=>Vl});var s={};n.r(s),n.d(s,{applyVoucher:()=>vc,attrFilter:()=>yc,checkInput:()=>Hc,clearError:()=>jc,clearErrors:()=>Bc,createComment:()=>Fc,createReviews:()=>Nc,deleteBooking:()=>Dc,deleteWishlist:()=>kc,flashMessage:()=>gc,forgotPassword:()=>Mc,getBookings:()=>Tc,getProperties:()=>_c,getReviews:()=>$c,lSearch:()=>bc,login:()=>Cc,register:()=>xc,registerGuest:()=>Ic,resetPassword:()=>Pc,ruleE:()=>qc,saveProperty:()=>wc,setADl:()=>Rc,updateBooking:()=>Sc,updateCartMeta:()=>Ec,updateLocations:()=>Oc,updatePassword:()=>Lc,updateProfile:()=>Ac,validateEmail:()=>Gc,validateForm:()=>Uc});var a=Object.freeze({}),o=Array.isArray;function l(t){return null==t}function c(t){return null!=t}function u(t){return!0===t}function d(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function h(t){return"function"==typeof t}function f(t){return null!==t&&"object"==typeof t}var p=Object.prototype.toString;function m(t){return"[object Object]"===p.call(t)}function g(t){return"[object RegExp]"===p.call(t)}function v(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function y(t){return c(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function b(t){return null==t?"":Array.isArray(t)||m(t)&&t.toString===p?JSON.stringify(t,null,2):String(t)}function _(t){var e=parseFloat(t);return isNaN(e)?t:e}function E(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var S=E("slot,component",!0),T=E("key,ref,slot,slot-scope,is");function w(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var k=Object.prototype.hasOwnProperty;function C(t,e){return k.call(t,e)}function x(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var A=/-(\w)/g,I=x((function(t){return t.replace(A,(function(t,e){return e?e.toUpperCase():""}))})),D=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),L=/\B([A-Z])/g,P=x((function(t){return t.replace(L,"-$1").toLowerCase()}));var O=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function R(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function M(t,e){for(var n in e)t[n]=e[n];return t}function N(t){for(var e={},n=0;n<t.length;n++)t[n]&&M(e,t[n]);return e}function F(t,e,n){}var j=function(t,e,n){return!1},B=function(t){return t};function U(t,e){if(t===e)return!0;var n=f(t),i=f(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every((function(t,n){return U(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||s)return!1;var a=Object.keys(t),o=Object.keys(e);return a.length===o.length&&a.every((function(n){return U(t[n],e[n])}))}catch(t){return!1}}function H(t,e){for(var n=0;n<t.length;n++)if(U(t[n],e))return n;return-1}function G(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function q(t,e){return t===e?0===t&&1/t!=1/e:t==t||e==e}var W="data-server-rendered",V=["component","directive","filter"],K=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:F,parsePlatformTagName:B,mustUseProp:j,async:!0,_lifecycleHooks:K},Y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Q(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function X(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var Z=new RegExp("[^".concat(Y.source,".$_\\d]"));var J="__proto__"in{},tt="undefined"!=typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),it=et&&et.indexOf("msie 9.0")>0,rt=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var st=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var at,ot=et&&et.match(/firefox\/(\d+)/),lt={}.watch,ct=!1;if(tt)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ct=!0}}),window.addEventListener("test-passive",null,ut)}catch(t){}var dt=function(){return void 0===at&&(at=!tt&&void 0!==n.g&&(n.g.process&&"server"===n.g.process.env.VUE_ENV)),at},ht=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"==typeof t&&/native code/.test(t.toString())}var pt,mt="undefined"!=typeof Symbol&&ft(Symbol)&&"undefined"!=typeof Reflect&&ft(Reflect.ownKeys);pt="undefined"!=typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var gt=null;function vt(t){void 0===t&&(t=null),t||gt&&gt._scope.off(),gt=t,t&&t._scope.on()}var yt=function(){function t(t,e,n,i,r,s,a,o){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),bt=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function _t(t){return new yt(void 0,void 0,void 0,String(t))}function Et(t){var e=new yt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var St=0,Tt=[],wt=function(){for(var t=0;t<Tt.length;t++){var e=Tt[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}Tt.length=0},kt=function(){function t(){this._pending=!1,this.id=St++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,Tt.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,i=e.length;n<i;n++){0,e[n].update()}},t}();kt.target=null;var Ct=[];function xt(t){Ct.push(t),kt.target=t}function At(){Ct.pop(),kt.target=Ct[Ct.length-1]}var It=Array.prototype,Dt=Object.create(It);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=It[t];X(Dt,t,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,s=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),s}))}));var Lt=Object.getOwnPropertyNames(Dt),Pt={},Ot=!0;function Rt(t){Ot=t}var Mt={notify:F,depend:F,addSub:F,removeSub:F},Nt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Mt:new kt,this.vmCount=0,X(t,"__ob__",this),o(t)){if(!n)if(J)t.__proto__=Dt;else for(var i=0,r=Lt.length;i<r;i++){X(t,a=Lt[i],Dt[a])}e||this.observeArray(t)}else{var s=Object.keys(t);for(i=0;i<s.length;i++){var a;$t(t,a=s[i],Pt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ft(t[e],!1,this.mock)},t}();function Ft(t,e,n){return t&&C(t,"__ob__")&&t.__ob__ instanceof Nt?t.__ob__:!Ot||!n&&dt()||!o(t)&&!m(t)||!Object.isExtensible(t)||t.__v_skip||Wt(t)||t instanceof yt?void 0:new Nt(t,e,n)}function $t(t,e,n,i,r,s){var a=new kt,l=Object.getOwnPropertyDescriptor(t,e);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||n!==Pt&&2!==arguments.length||(n=t[e]);var d=!r&&Ft(n,!1,s);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(t):n;return kt.target&&(a.depend(),d&&(d.dep.depend(),o(e)&&Ut(e))),Wt(e)&&!r?e.value:e},set:function(e){var i=c?c.call(t):n;if(q(i,e)){if(u)u.call(t,e);else{if(c)return;if(!r&&Wt(i)&&!Wt(e))return void(i.value=e);n=e}d=!r&&Ft(e,!1,s),a.notify()}}}),a}}function jt(t,e,n){if(!qt(t)){var i=t.__ob__;return o(t)&&v(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),i&&!i.shallow&&i.mock&&Ft(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||i&&i.vmCount?n:i?($t(i.value,e,n,void 0,i.shallow,i.mock),i.dep.notify(),n):(t[e]=n,n)}}function Bt(t,e){if(o(t)&&v(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||qt(t)||C(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ut(t){for(var e=void 0,n=0,i=t.length;n<i;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&Ut(e)}function Ht(t){return Gt(t,!0),X(t,"__v_isShallow",!0),t}function Gt(t,e){if(!qt(t)){Ft(t,e,dt());0}}function qt(t){return!(!t||!t.__v_isReadonly)}function Wt(t){return!(!t||!0!==t.__v_isRef)}function Vt(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Wt(t))return t.value;var i=t&&t.__ob__;return i&&i.dep.depend(),t},set:function(t){var i=e[n];Wt(i)&&!Wt(t)?i.value=t:e[n]=t}})}var Kt=x((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}}));function zt(t,e){function n(){var t=n.fns;if(!o(t))return ln(t,null,arguments,e,"v-on handler");for(var i=t.slice(),r=0;r<i.length;r++)ln(i[r],null,arguments,e,"v-on handler")}return n.fns=t,n}function Yt(t,e,n,i,r,s){var a,o,c,d;for(a in t)o=t[a],c=e[a],d=Kt(a),l(o)||(l(c)?(l(o.fns)&&(o=t[a]=zt(o,s)),u(d.once)&&(o=t[a]=r(d.name,o,d.capture)),n(d.name,o,d.capture,d.passive,d.params)):o!==c&&(c.fns=o,t[a]=c));for(a in e)l(t[a])&&i((d=Kt(a)).name,e[a],d.capture)}function Qt(t,e,n){var i;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var r=t[e];function s(){n.apply(this,arguments),w(i.fns,s)}l(r)?i=zt([s]):c(r.fns)&&u(r.merged)?(i=r).fns.push(s):i=zt([r,s]),i.merged=!0,t[e]=i}function Xt(t,e,n,i,r){if(c(e)){if(C(e,n))return t[n]=e[n],r||delete e[n],!0;if(C(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function Zt(t){return d(t)?[_t(t)]:o(t)?te(t):void 0}function Jt(t){return c(t)&&c(t.text)&&!1===t.isComment}function te(t,e){var n,i,r,s,a=[];for(n=0;n<t.length;n++)l(i=t[n])||"boolean"==typeof i||(s=a[r=a.length-1],o(i)?i.length>0&&(Jt((i=te(i,"".concat(e||"","_").concat(n)))[0])&&Jt(s)&&(a[r]=_t(s.text+i[0].text),i.shift()),a.push.apply(a,i)):d(i)?Jt(s)?a[r]=_t(s.text+i):""!==i&&a.push(_t(i)):Jt(i)&&Jt(s)?a[r]=_t(s.text+i.text):(u(t._isVList)&&c(i.tag)&&l(i.key)&&c(e)&&(i.key="__vlist".concat(e,"_").concat(n,"__")),a.push(i)));return a}var ee=1,ne=2;function ie(t,e,n,i,r,s){return(o(n)||d(n))&&(r=i,i=n,n=void 0),u(s)&&(r=ne),function(t,e,n,i,r){if(c(n)&&c(n.__ob__))return bt();c(n)&&c(n.is)&&(e=n.is);if(!e)return bt();0;o(i)&&h(i[0])&&((n=n||{}).scopedSlots={default:i[0]},i.length=0);r===ne?i=Zt(i):r===ee&&(i=function(t){for(var e=0;e<t.length;e++)if(o(t[e]))return Array.prototype.concat.apply([],t);return t}(i));var s,a;if("string"==typeof e){var l=void 0;a=t.$vnode&&t.$vnode.ns||z.getTagNamespace(e),s=z.isReservedTag(e)?new yt(z.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!c(l=ti(t.$options,"components",e))?new yt(e,n,i,void 0,void 0,t):qn(l,n,t,i,e)}else s=qn(e,n,t,i);return o(s)?s:c(s)?(c(a)&&re(s,a),c(n)&&function(t){f(t.style)&&Tn(t.style);f(t.class)&&Tn(t.class)}(n),s):bt()}(t,e,n,i,r)}function re(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),c(t.children))for(var i=0,r=t.children.length;i<r;i++){var s=t.children[i];c(s.tag)&&(l(s.ns)||u(n)&&"svg"!==s.tag)&&re(s,e,n)}}function se(t,e){var n,i,r,s,a=null;if(o(t)||"string"==typeof t)for(a=new Array(t.length),n=0,i=t.length;n<i;n++)a[n]=e(t[n],n);else if("number"==typeof t)for(a=new Array(t),n=0;n<t;n++)a[n]=e(n+1,n);else if(f(t))if(mt&&t[Symbol.iterator]){a=[];for(var l=t[Symbol.iterator](),u=l.next();!u.done;)a.push(e(u.value,a.length)),u=l.next()}else for(r=Object.keys(t),a=new Array(r.length),n=0,i=r.length;n<i;n++)s=r[n],a[n]=e(t[s],s,n);return c(a)||(a=[]),a._isVList=!0,a}function ae(t,e,n,i){var r,s=this.$scopedSlots[t];s?(n=n||{},i&&(n=M(M({},i),n)),r=s(n)||(h(e)?e():e)):r=this.$slots[t]||(h(e)?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function oe(t){return ti(this.$options,"filters",t,!0)||B}function le(t,e){return o(t)?-1===t.indexOf(e):t!==e}function ce(t,e,n,i,r){var s=z.keyCodes[e]||n;return r&&i&&!z.keyCodes[e]?le(r,i):s?le(s,t):i?P(i)!==e:void 0===t}function ue(t,e,n,i,r){if(n)if(f(n)){o(n)&&(n=N(n));var s=void 0,a=function(a){if("class"===a||"style"===a||T(a))s=t;else{var o=t.attrs&&t.attrs.type;s=i||z.mustUseProp(e,o,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=I(a),c=P(a);l in s||c in s||(s[a]=n[a],r&&((t.on||(t.on={}))["update:".concat(a)]=function(t){n[a]=t}))};for(var l in n)a(l)}else;return t}function de(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||fe(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),"__static__".concat(t),!1),i}function he(t,e,n){return fe(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function fe(t,e,n){if(o(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&pe(t[i],"".concat(e,"_").concat(i),n);else pe(t,e,n)}function pe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function me(t,e){if(e)if(m(e)){var n=t.on=t.on?M({},t.on):{};for(var i in e){var r=n[i],s=e[i];n[i]=r?[].concat(r,s):s}}else;return t}function ge(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var s=t[r];o(s)?ge(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return i&&(e.$key=i),e}function ve(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"==typeof i&&i&&(t[e[n]]=e[n+1])}return t}function ye(t,e){return"string"==typeof t?e+t:t}function be(t){t._o=he,t._n=_,t._s=b,t._l=se,t._t=ae,t._q=U,t._i=H,t._m=de,t._f=oe,t._k=ce,t._b=ue,t._v=_t,t._e=bt,t._u=ge,t._g=me,t._d=ve,t._p=ye}function _e(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var s=t[i],a=s.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==e&&s.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(s);else{var o=a.slot,l=n[o]||(n[o]=[]);"template"===s.tag?l.push.apply(l,s.children||[]):l.push(s)}}for(var c in n)n[c].every(Ee)&&delete n[c];return n}function Ee(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Se(t){return t.isComment&&t.asyncFactory}function Te(t,e,n,i){var r,s=Object.keys(n).length>0,o=e?!!e.$stable:!s,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&i&&i!==a&&l===i.$key&&!s&&!i.$hasNormal)return i;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=we(t,n,c,e[c]))}else r={};for(var u in n)u in r||(r[u]=ke(n,u));return e&&Object.isExtensible(e)&&(e._normalized=r),X(r,"$stable",o),X(r,"$key",l),X(r,"$hasNormal",s),r}function we(t,e,n,i){var r=function(){var e=gt;vt(t);var n=arguments.length?i.apply(null,arguments):i({}),r=(n=n&&"object"==typeof n&&!o(n)?[n]:Zt(n))&&n[0];return vt(e),n&&(!r||1===n.length&&r.isComment&&!Se(r))?void 0:n};return i.proxy&&Object.defineProperty(e,n,{get:r,enumerable:!0,configurable:!0}),r}function ke(t,e){return function(){return t[e]}}function Ce(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};X(e,"_v_attr_proxy",!0),xe(e,t.$attrs,a,t,"$attrs")}return t._attrsProxy},get listeners(){t._listenersProxy||xe(t._listenersProxy={},t.$listeners,a,t,"$listeners");return t._listenersProxy},get slots(){return function(t){t._slotsProxy||Ie(t._slotsProxy={},t.$scopedSlots);return t._slotsProxy}(t)},emit:O(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return Vt(t,e,n)}))}}}function xe(t,e,n,i,r){var s=!1;for(var a in e)a in t?e[a]!==n[a]&&(s=!0):(s=!0,Ae(t,a,i,r));for(var a in t)a in e||(s=!0,delete t[a]);return s}function Ae(t,e,n,i){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[i][e]}})}function Ie(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}var De,Le=null;function Pe(t,e){return(t.__esModule||mt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),f(t)?e.extend(t):t}function Oe(t){if(o(t))for(var e=0;e<t.length;e++){var n=t[e];if(c(n)&&(c(n.componentOptions)||Se(n)))return n}}function Re(t,e){De.$on(t,e)}function Me(t,e){De.$off(t,e)}function Ne(t,e){var n=De;return function i(){null!==e.apply(null,arguments)&&n.$off(t,i)}}function Fe(t,e,n){De=t,Yt(e,n||{},Re,Me,Ne,t),De=void 0}var $e=null;function je(t){var e=$e;return $e=t,function(){$e=e}}function Be(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ue(t,e){if(e){if(t._directInactive=!1,Be(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ue(t.$children[n]);Ge(t,"activated")}}function He(t,e){if(!(e&&(t._directInactive=!0,Be(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)He(t.$children[n]);Ge(t,"deactivated")}}function Ge(t,e,n,i){void 0===i&&(i=!0),xt();var r=gt;i&&vt(t);var s=t.$options[e],a="".concat(e," hook");if(s)for(var o=0,l=s.length;o<l;o++)ln(s[o],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),i&&vt(r),At()}var qe=[],We=[],Ve={},Ke=!1,ze=!1,Ye=0;var Qe=0,Xe=Date.now;if(tt&&!nt){var Ze=window.performance;Ze&&"function"==typeof Ze.now&&Xe()>document.createEvent("Event").timeStamp&&(Xe=function(){return Ze.now()})}var Je=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function tn(){var t,e;for(Qe=Xe(),ze=!0,qe.sort(Je),Ye=0;Ye<qe.length;Ye++)(t=qe[Ye]).before&&t.before(),e=t.id,Ve[e]=null,t.run();var n=We.slice(),i=qe.slice();Ye=qe.length=We.length=0,Ve={},Ke=ze=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ue(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Ge(i,"updated")}}(i),wt(),ht&&z.devtools&&ht.emit("flush")}function en(t){var e=t.id;if(null==Ve[e]&&(t!==kt.target||!t.noRecurse)){if(Ve[e]=!0,ze){for(var n=qe.length-1;n>Ye&&qe[n].id>t.id;)n--;qe.splice(n+1,0,t)}else qe.push(t);Ke||(Ke=!0,_n(tn))}}var nn="watcher";"".concat(nn," callback"),"".concat(nn," getter"),"".concat(nn," cleanup");var rn;var sn=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=rn,!t&&rn&&(this.index=(rn.scopes||(rn.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=rn;try{return rn=this,t()}finally{rn=e}}else 0},t.prototype.on=function(){rn=this},t.prototype.off=function(){rn=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},t}();function an(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function on(t,e,n){xt();try{if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{if(!1===r[s].call(i,t,e,n))return}catch(t){cn(t,i,"errorCaptured hook")}}cn(t,e,n)}finally{At()}}function ln(t,e,n,i,r){var s;try{(s=n?t.apply(e,n):t.call(e))&&!s._isVue&&y(s)&&!s._handled&&(s.catch((function(t){return on(t,i,r+" (Promise/async)")})),s._handled=!0)}catch(t){on(t,i,r)}return s}function cn(t,e,n){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,n)}catch(e){e!==t&&un(e,null,"config.errorHandler")}un(t,e,n)}function un(t,e,n){if(!tt||"undefined"==typeof console)throw t;console.error(t)}var dn,hn=!1,fn=[],pn=!1;function mn(){pn=!1;var t=fn.slice(0);fn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ft(Promise)){var gn=Promise.resolve();dn=function(){gn.then(mn),st&&setTimeout(F)},hn=!0}else if(nt||"undefined"==typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())dn="undefined"!=typeof setImmediate&&ft(setImmediate)?function(){setImmediate(mn)}:function(){setTimeout(mn,0)};else{var vn=1,yn=new MutationObserver(mn),bn=document.createTextNode(String(vn));yn.observe(bn,{characterData:!0}),dn=function(){vn=(vn+1)%2,bn.data=String(vn)},hn=!0}function _n(t,e){var n;if(fn.push((function(){if(t)try{t.call(e)}catch(t){on(t,e,"nextTick")}else n&&n(e)})),pn||(pn=!0,dn()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}function En(t){return function(e,n){if(void 0===n&&(n=gt),n)return function(t,e,n){var i=t.$options;i[e]=Qn(i[e],n)}(n,t,e)}}En("beforeMount"),En("mounted"),En("beforeUpdate"),En("updated"),En("beforeDestroy"),En("destroyed"),En("activated"),En("deactivated"),En("serverPrefetch"),En("renderTracked"),En("renderTriggered"),En("errorCaptured");var Sn=new pt;function Tn(t){return wn(t,Sn),Sn.clear(),t}function wn(t,e){var n,i,r=o(t);if(!(!r&&!f(t)||t.__v_skip||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(r)for(n=t.length;n--;)wn(t[n],e);else if(Wt(t))wn(t.value,e);else for(n=(i=Object.keys(t)).length;n--;)wn(t[i[n]],e)}}var kn=0,Cn=function(){function t(t,e,n,i,r){var s,a;s=this,void 0===(a=rn&&!rn._vm?rn:t?t._scope:void 0)&&(a=rn),a&&a.active&&a.effects.push(s),(this.vm=t)&&r&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++kn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="",h(e)?this.getter=e:(this.getter=function(t){if(!Z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=F)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;xt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;on(t,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Tn(t),At(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():en(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||f(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');ln(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}(),xn={enumerable:!0,configurable:!0,get:F,set:F};function An(t,e,n){xn.get=function(){return this[e][n]},xn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,xn)}function In(t){var e=t.$options;if(e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props=Ht({}),r=t.$options._propKeys=[],s=!t.$parent;s||Rt(!1);var a=function(s){r.push(s);var a=ei(s,e,n,t);$t(i,s,a),s in t||An(t,"_props",s)};for(var o in e)a(o);Rt(!0)}(t,e.props),function(t){var e=t.$options,n=e.setup;if(n){var i=t._setupContext=Ce(t);vt(t),xt();var r=ln(n,null,[t._props||Ht({}),i],t,"setup");if(At(),vt(),h(r))e.render=r;else if(f(r))if(t._setupState=r,r.__sfc){var s=t._setupProxy={};for(var a in r)"__sfc"!==a&&Vt(s,r,a)}else for(var a in r)Q(a)||Vt(t,r,a)}}(t),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?F:O(e[n],t)}(t,e.methods),e.data)!function(t){var e=t.$options.data;e=t._data=h(e)?function(t,e){xt();try{return t.call(e,e)}catch(t){return on(t,e,"data()"),{}}finally{At()}}(e,t):e||{},m(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);for(;r--;){var s=n[r];0,i&&C(i,s)||Q(s)||An(t,"_data",s)}var a=Ft(e);a&&a.vmCount++}(t);else{var n=Ft(t._data={});n&&n.vmCount++}e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=dt();for(var r in e){var s=e[r],a=h(s)?s:s.get;0,i||(n[r]=new Cn(t,a||F,F,Dn)),r in t||Ln(t,r,s)}}(t,e.computed),e.watch&&e.watch!==lt&&function(t,e){for(var n in e){var i=e[n];if(o(i))for(var r=0;r<i.length;r++)Rn(t,n,i[r]);else Rn(t,n,i)}}(t,e.watch)}var Dn={lazy:!0};function Ln(t,e,n){var i=!dt();h(n)?(xn.get=i?Pn(e):On(n),xn.set=F):(xn.get=n.get?i&&!1!==n.cache?Pn(e):On(n.get):F,xn.set=n.set||F),Object.defineProperty(t,e,xn)}function Pn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),kt.target&&e.depend(),e.value}}function On(t){return function(){return t.call(this,this)}}function Rn(t,e,n,i){return m(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}function Mn(t,e){if(t){for(var n=Object.create(null),i=mt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var s=i[r];if("__ob__"!==s){var a=t[s].from;if(a in e._provided)n[s]=e._provided[a];else if("default"in t[s]){var o=t[s].default;n[s]=h(o)?o.call(e):o}else 0}}return n}}var Nn=0;function Fn(t){var e=t.options;if(t.super){var n=Fn(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}(t);i&&M(t.extendOptions,i),(e=t.options=Jn(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function $n(t,e,n,i,r){var s,l=this,c=r.options;C(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var d=u(c._compiled),h=!d;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||a,this.injections=Mn(c.inject,i),this.slots=function(){return l.$slots||Te(i,t.scopedSlots,l.$slots=_e(n,i)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Te(i,t.scopedSlots,this.slots())}}),d&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Te(i,t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var a=ie(s,t,e,n,r,h);return a&&!o(a)&&(a.fnScopeId=c._scopeId,a.fnContext=i),a}:this._c=function(t,e,n,i){return ie(s,t,e,n,i,h)}}function jn(t,e,n,i,r){var s=Et(t);return s.fnContext=n,s.fnOptions=i,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function Bn(t,e){for(var n in e)t[I(n)]=e[n]}function Un(t){return t.name||t.__name||t._componentTag}be($n.prototype);var Hn={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Hn.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;c(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,$e)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,i,r){var s=i.data.scopedSlots,o=t.$scopedSlots,l=!!(s&&!s.$stable||o!==a&&!o.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),c=!!(r||t.$options._renderChildren||l),u=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=r;var d=i.data.attrs||a;t._attrsProxy&&xe(t._attrsProxy,d,u.data&&u.data.attrs||a,t,"$attrs")&&(c=!0),t.$attrs=d,n=n||a;var h=t.$options._parentListeners;if(t._listenersProxy&&xe(t._listenersProxy,n,h||a,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Fe(t,n,h),e&&t.$options.props){Rt(!1);for(var f=t._props,p=t.$options._propKeys||[],m=0;m<p.length;m++){var g=p[m],v=t.$options.props;f[g]=ei(g,v,e,t)}Rt(!0),t.$options.propsData=e}c&&(t.$slots=_e(r,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Ge(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,We.push(e)):Ue(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?He(e,!0):e.$destroy())}},Gn=Object.keys(Hn);function qn(t,e,n,i,r){if(!l(t)){var s=n.$options._base;if(f(t)&&(t=s.extend(t)),"function"==typeof t){var d;if(l(t.cid)&&(t=function(t,e){if(u(t.error)&&c(t.errorComp))return t.errorComp;if(c(t.resolved))return t.resolved;var n=Le;if(n&&c(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),u(t.loading)&&c(t.loadingComp))return t.loadingComp;if(n&&!c(t.owners)){var i=t.owners=[n],r=!0,s=null,a=null;n.$on("hook:destroyed",(function(){return w(i,n)}));var o=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==s&&(clearTimeout(s),s=null),null!==a&&(clearTimeout(a),a=null))},d=G((function(n){t.resolved=Pe(n,e),r?i.length=0:o(!0)})),h=G((function(e){c(t.errorComp)&&(t.error=!0,o(!0))})),p=t(d,h);return f(p)&&(y(p)?l(t.resolved)&&p.then(d,h):y(p.component)&&(p.component.then(d,h),c(p.error)&&(t.errorComp=Pe(p.error,e)),c(p.loading)&&(t.loadingComp=Pe(p.loading,e),0===p.delay?t.loading=!0:s=setTimeout((function(){s=null,l(t.resolved)&&l(t.error)&&(t.loading=!0,o(!1))}),p.delay||200)),c(p.timeout)&&(a=setTimeout((function(){a=null,l(t.resolved)&&h(null)}),p.timeout)))),r=!1,t.loading?t.loadingComp:t.resolved}}(d=t,s),void 0===t))return function(t,e,n,i,r){var s=bt();return s.asyncFactory=t,s.asyncMeta={data:e,context:n,children:i,tag:r},s}(d,e,n,i,r);e=e||{},Fn(t),c(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var r=e.on||(e.on={}),s=r[i],a=e.model.callback;c(s)?(o(s)?-1===s.indexOf(a):s!==a)&&(r[i]=[a].concat(s)):r[i]=a}(t.options,e);var h=function(t,e,n){var i=e.options.props;if(!l(i)){var r={},s=t.attrs,a=t.props;if(c(s)||c(a))for(var o in i){var u=P(o);Xt(r,a,o,u,!0)||Xt(r,s,o,u,!1)}return r}}(e,t);if(u(t.options.functional))return function(t,e,n,i,r){var s=t.options,l={},u=s.props;if(c(u))for(var d in u)l[d]=ei(d,u,e||a);else c(n.attrs)&&Bn(l,n.attrs),c(n.props)&&Bn(l,n.props);var h=new $n(n,l,r,i,t),f=s.render.call(null,h._c,h);if(f instanceof yt)return jn(f,n,h.parent,s);if(o(f)){for(var p=Zt(f)||[],m=new Array(p.length),g=0;g<p.length;g++)m[g]=jn(p[g],n,h.parent,s);return m}}(t,h,e,n,i);var p=e.on;if(e.on=e.nativeOn,u(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Gn.length;n++){var i=Gn[n],r=e[i],s=Hn[i];r===s||r&&r._merged||(e[i]=r?Wn(s,r):s)}}(e);var g=Un(t.options)||r;return new yt("vue-component-".concat(t.cid).concat(g?"-".concat(g):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:p,tag:r,children:i},d)}}}function Wn(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}var Vn=F,Kn=z.optionMergeStrategies;function zn(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var i,r,s,a=mt?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(i=a[o])&&(r=t[i],s=e[i],n&&C(t,i)?r!==s&&m(r)&&m(s)&&zn(r,s):jt(t,i,s));return t}function Yn(t,e,n){return n?function(){var i=h(e)?e.call(n,n):e,r=h(t)?t.call(n,n):t;return i?zn(i,r):r}:e?t?function(){return zn(h(e)?e.call(this,this):e,h(t)?t.call(this,this):t)}:e:t}function Qn(t,e){var n=e?t?t.concat(e):o(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Xn(t,e,n,i){var r=Object.create(t||null);return e?M(r,e):r}Kn.data=function(t,e,n){return n?Yn(t,e,n):e&&"function"!=typeof e?t:Yn(t,e)},K.forEach((function(t){Kn[t]=Qn})),V.forEach((function(t){Kn[t+"s"]=Xn})),Kn.watch=function(t,e,n,i){if(t===lt&&(t=void 0),e===lt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var s in M(r,t),e){var a=r[s],l=e[s];a&&!o(a)&&(a=[a]),r[s]=a?a.concat(l):o(l)?l:[l]}return r},Kn.props=Kn.methods=Kn.inject=Kn.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return M(r,t),e&&M(r,e),r},Kn.provide=function(t,e){return t?function(){var n=Object.create(null);return zn(n,h(t)?t.call(this):t),e&&zn(n,h(e)?e.call(this):e,!1),n}:e};var Zn=function(t,e){return void 0===e?t:e};function Jn(t,e,n){if(h(e)&&(e=e.options),function(t,e){var n=t.props;if(n){var i,r,s={};if(o(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(s[I(r)]={type:null});else if(m(n))for(var a in n)r=n[a],s[I(a)]=m(r)?r:{type:r};t.props=s}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(o(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(m(n))for(var s in n){var a=n[s];i[s]=m(a)?M({from:s},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];h(i)&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=Jn(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Jn(t,e.mixins[i],n);var s,a={};for(s in t)l(s);for(s in e)C(t,s)||l(s);function l(i){var r=Kn[i]||Zn;a[i]=r(t[i],e[i],n,i)}return a}function ti(t,e,n,i){if("string"==typeof n){var r=t[e];if(C(r,n))return r[n];var s=I(n);if(C(r,s))return r[s];var a=D(s);return C(r,a)?r[a]:r[n]||r[s]||r[a]}}function ei(t,e,n,i){var r=e[t],s=!C(n,t),a=n[t],o=si(Boolean,r.type);if(o>-1)if(s&&!C(r,"default"))a=!1;else if(""===a||a===P(t)){var l=si(String,r.type);(l<0||o<l)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!C(e,"default"))return;var i=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return h(i)&&"Function"!==ii(e.type)?i.call(t):i}(i,r,t);var c=Ot;Rt(!0),Ft(a),Rt(c)}return a}var ni=/^\s*function (\w+)/;function ii(t){var e=t&&t.toString().match(ni);return e?e[1]:""}function ri(t,e){return ii(t)===ii(e)}function si(t,e){if(!o(e))return ri(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(ri(e[n],t))return n;return-1}function ai(t){this._init(t)}function oi(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var s=Un(t)||Un(n.options);var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Jn(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)An(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)Ln(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,V.forEach((function(t){a[t]=n[t]})),s&&(a.options.components[s]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=M({},a.options),r[i]=a,a}}function li(t){return t&&(Un(t.Ctor.options)||t.tag)}function ci(t,e){return o(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!g(t)&&t.test(e)}function ui(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var s in n){var a=n[s];if(a){var o=a.name;o&&!e(o)&&di(n,s,i,r)}}}function di(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,w(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Nn++,e._isVue=!0,e.__v_skip=!0,e._scope=new sn(!0),e._scope._vm=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Jn(Fn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Fe(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=_e(e._renderChildren,i),t.$scopedSlots=n?Te(t.$parent,n.data.scopedSlots,t.$slots):a,t._c=function(e,n,i,r){return ie(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return ie(t,e,n,i,r,!0)};var r=n&&n.data;$t(t,"$attrs",r&&r.attrs||a,null,!0),$t(t,"$listeners",e._parentListeners||a,null,!0)}(e),Ge(e,"beforeCreate",void 0,!1),function(t){var e=Mn(t.$options.inject,t);e&&(Rt(!1),Object.keys(e).forEach((function(n){$t(t,n,e[n])})),Rt(!0))}(e),In(e),function(t){var e=t.$options.provide;if(e){var n=h(e)?e.call(t):e;if(!f(n))return;for(var i=an(t),r=mt?Reflect.ownKeys(n):Object.keys(n),s=0;s<r.length;s++){var a=r[s];Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))}}}(e),Ge(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(ai),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=jt,t.prototype.$delete=Bt,t.prototype.$watch=function(t,e,n){var i=this;if(m(e))return Rn(i,t,e,n);(n=n||{}).user=!0;var r=new Cn(i,t,e,n);if(n.immediate){var s='callback for immediate watcher "'.concat(r.expression,'"');xt(),ln(e,i,[r.value],i,s),At()}return function(){r.teardown()}}}(ai),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(o(t))for(var r=0,s=t.length;r<s;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(o(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var s,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var l=a.length;l--;)if((s=a[l])===e||s.fn===e){a.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?R(n):n;for(var i=R(arguments,1),r='event handler for "'.concat(t,'"'),s=0,a=n.length;s<a;s++)ln(n[s],e,i,e,r)}return e}}(ai),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,s=je(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),s(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var a=n;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ge(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||w(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ge(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(ai),function(t){be(t.prototype),t.prototype.$nextTick=function(t){return _n(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&e._isMounted&&(e.$scopedSlots=Te(e.$parent,r.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Ie(e._slotsProxy,e.$scopedSlots)),e.$vnode=r;try{vt(e),Le=e,t=i.call(e._renderProxy,e.$createElement)}catch(n){on(n,e,"render"),t=e._vnode}finally{Le=null,vt()}return o(t)&&1===t.length&&(t=t[0]),t instanceof yt||(t=bt()),t.parent=r,t}}(ai);var hi=[String,RegExp,Array],fi={name:"keep-alive",abstract:!0,props:{include:hi,exclude:hi,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,i=t.vnodeToCache,r=t.keyToCache;if(i){var s=i.tag,a=i.componentInstance,o=i.componentOptions;e[r]={name:li(o),tag:s,componentInstance:a},n.push(r),this.max&&n.length>parseInt(this.max)&&di(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)di(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){ui(t,(function(t){return ci(e,t)}))})),this.$watch("exclude",(function(e){ui(t,(function(t){return!ci(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Oe(t),n=e&&e.componentOptions;if(n){var i=li(n),r=this.include,s=this.exclude;if(r&&(!i||!ci(r,i))||s&&i&&ci(s,i))return e;var a=this.cache,o=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;a[l]?(e.componentInstance=a[l].componentInstance,w(o,l),o.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||t&&t[0]}},pi={KeepAlive:fi};!function(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:Vn,extend:M,mergeOptions:Jn,defineReactive:$t},t.set=jt,t.delete=Bt,t.nextTick=_n,t.observable=function(t){return Ft(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,M(t.options.components,pi),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=R(arguments,1);return n.unshift(this),h(t.install)?t.install.apply(t,n):h(t)&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Jn(this.options,t),this}}(t),oi(t),function(t){V.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&m(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&h(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(ai),Object.defineProperty(ai.prototype,"$isServer",{get:dt}),Object.defineProperty(ai.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ai,"FunctionalRenderContext",{value:$n}),ai.version="2.7.14";var mi=E("style,class"),gi=E("input,textarea,option,select,progress"),vi=function(t,e,n){return"value"===n&&gi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},yi=E("contenteditable,draggable,spellcheck"),bi=E("events,caret,typing,plaintext-only"),_i=function(t,e){return ki(e)||"false"===e?"false":"contenteditable"===t&&bi(e)?e:"true"},Ei=E("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Si="http://www.w3.org/1999/xlink",Ti=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},wi=function(t){return Ti(t)?t.slice(6,t.length):""},ki=function(t){return null==t||!1===t};function Ci(t){for(var e=t.data,n=t,i=t;c(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=xi(i.data,e));for(;c(n=n.parent);)n&&n.data&&(e=xi(e,n.data));return function(t,e){if(c(t)||c(e))return Ai(t,Ii(e));return""}(e.staticClass,e.class)}function xi(t,e){return{staticClass:Ai(t.staticClass,e.staticClass),class:c(t.class)?[t.class,e.class]:e.class}}function Ai(t,e){return t?e?t+" "+e:t:e||""}function Ii(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,r=t.length;i<r;i++)c(e=Ii(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):f(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Di={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Li=E("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Pi=E("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Oi=function(t){return Li(t)||Pi(t)};function Ri(t){return Pi(t)?"svg":"math"===t?"math":void 0}var Mi=Object.create(null);var Ni=E("text,number,password,search,email,tel,url");function Fi(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var $i=Object.freeze({__proto__:null,createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Di[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),ji={create:function(t,e){Bi(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Bi(t,!0),Bi(e))},destroy:function(t){Bi(t,!0)}};function Bi(t,e){var n=t.data.ref;if(c(n)){var i=t.context,r=t.componentInstance||t.elm,s=e?null:r,a=e?void 0:r;if(h(n))ln(n,i,[s],i,"template ref function");else{var l=t.data.refInFor,u="string"==typeof n||"number"==typeof n,d=Wt(n),f=i.$refs;if(u||d)if(l){var p=u?f[n]:n.value;e?o(p)&&w(p,r):o(p)?p.includes(r)||p.push(r):u?(f[n]=[r],Ui(i,n,f[n])):n.value=[r]}else if(u){if(e&&f[n]!==r)return;f[n]=a,Ui(i,n,s)}else if(d){if(e&&n.value!==r)return;n.value=s}else 0}}}function Ui(t,e,n){var i=t._setupState;i&&C(i,e)&&(Wt(i[e])?i[e].value=n:i[e]=n)}var Hi=new yt("",{},[]),Gi=["create","activate","update","remove","destroy"];function qi(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&c(t.data)===c(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=c(n=t.data)&&c(n=n.attrs)&&n.type,r=c(n=e.data)&&c(n=n.attrs)&&n.type;return i===r||Ni(i)&&Ni(r)}(t,e)||u(t.isAsyncPlaceholder)&&l(e.asyncFactory.error))}function Wi(t,e,n){var i,r,s={};for(i=e;i<=n;++i)c(r=t[i].key)&&(s[r]=i);return s}var Vi={create:Ki,update:Ki,destroy:function(t){Ki(t,Hi)}};function Ki(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,s=t===Hi,a=e===Hi,o=Yi(t.data.directives,t.context),l=Yi(e.data.directives,e.context),c=[],u=[];for(n in l)i=o[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Xi(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Xi(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Xi(c[n],"inserted",e,t)};s?Qt(e,"insert",d):d()}u.length&&Qt(e,"postpatch",(function(){for(var n=0;n<u.length;n++)Xi(u[n],"componentUpdated",e,t)}));if(!s)for(n in o)l[n]||Xi(o[n],"unbind",t,t,a)}(t,e)}var zi=Object.create(null);function Yi(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++){if((i=t[n]).modifiers||(i.modifiers=zi),r[Qi(i)]=i,e._setupState&&e._setupState.__sfc){var s=i.def||ti(e,"_setupState","v-"+i.name);i.def="function"==typeof s?{bind:s,update:s}:s}i.def=i.def||ti(e.$options,"directives",i.name)}return r}function Qi(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function Xi(t,e,n,i,r){var s=t.def&&t.def[e];if(s)try{s(n.elm,t,n,i,r)}catch(i){on(i,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var Zi=[ji,Vi];function Ji(t,e){var n=e.componentOptions;if(!(c(n)&&!1===n.Ctor.options.inheritAttrs||l(t.data.attrs)&&l(e.data.attrs))){var i,r,s=e.elm,a=t.data.attrs||{},o=e.data.attrs||{};for(i in(c(o.__ob__)||u(o._v_attr_proxy))&&(o=e.data.attrs=M({},o)),o)r=o[i],a[i]!==r&&tr(s,i,r,e.data.pre);for(i in(nt||rt)&&o.value!==a.value&&tr(s,"value",o.value),a)l(o[i])&&(Ti(i)?s.removeAttributeNS(Si,wi(i)):yi(i)||s.removeAttribute(i))}}function tr(t,e,n,i){i||t.tagName.indexOf("-")>-1?er(t,e,n):Ei(e)?ki(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):yi(e)?t.setAttribute(e,_i(e,n)):Ti(e)?ki(n)?t.removeAttributeNS(Si,wi(e)):t.setAttributeNS(Si,e,n):er(t,e,n)}function er(t,e,n){if(ki(n))t.removeAttribute(e);else{if(nt&&!it&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var nr={create:Ji,update:Ji};function ir(t,e){var n=e.elm,i=e.data,r=t.data;if(!(l(i.staticClass)&&l(i.class)&&(l(r)||l(r.staticClass)&&l(r.class)))){var s=Ci(e),a=n._transitionClasses;c(a)&&(s=Ai(s,Ii(a))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var rr,sr,ar,or,lr,cr,ur={create:ir,update:ir},dr=/[\w).+\-_$\]]/;function hr(t){var e,n,i,r,s,a=!1,o=!1,l=!1,c=!1,u=0,d=0,h=0,f=0;for(i=0;i<t.length;i++)if(n=e,e=t.charCodeAt(i),a)39===e&&92!==n&&(a=!1);else if(o)34===e&&92!==n&&(o=!1);else if(l)96===e&&92!==n&&(l=!1);else if(c)47===e&&92!==n&&(c=!1);else if(124!==e||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||u||d||h){switch(e){case 34:o=!0;break;case 39:a=!0;break;case 96:l=!0;break;case 40:h++;break;case 41:h--;break;case 91:d++;break;case 93:d--;break;case 123:u++;break;case 125:u--}if(47===e){for(var p=i-1,m=void 0;p>=0&&" "===(m=t.charAt(p));p--);m&&dr.test(m)||(c=!0)}}else void 0===r?(f=i+1,r=t.slice(0,i).trim()):g();function g(){(s||(s=[])).push(t.slice(f,i).trim()),f=i+1}if(void 0===r?r=t.slice(0,i).trim():0!==f&&g(),s)for(i=0;i<s.length;i++)r=fr(r,s[i]);return r}function fr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'.concat(e,'")(').concat(t,")");var i=e.slice(0,n),r=e.slice(n+1);return'_f("'.concat(i,'")(').concat(t).concat(")"!==r?","+r:r)}function pr(t,e){console.error("[Vue compiler]: ".concat(t))}function mr(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function gr(t,e,n,i,r){(t.props||(t.props=[])).push(kr({name:e,value:n,dynamic:r},i)),t.plain=!1}function vr(t,e,n,i,r){(r?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(kr({name:e,value:n,dynamic:r},i)),t.plain=!1}function yr(t,e,n,i){t.attrsMap[e]=n,t.attrsList.push(kr({name:e,value:n},i))}function br(t,e,n,i,r,s,a,o){(t.directives||(t.directives=[])).push(kr({name:e,rawName:n,value:i,arg:r,isDynamicArg:s,modifiers:a},o)),t.plain=!1}function _r(t,e,n){return n?"_p(".concat(e,',"').concat(t,'")'):t+e}function Er(t,e,n,i,r,s,o,l){var c;(i=i||a).right?l?e="(".concat(e,")==='click'?'contextmenu':(").concat(e,")"):"click"===e&&(e="contextmenu",delete i.right):i.middle&&(l?e="(".concat(e,")==='click'?'mouseup':(").concat(e,")"):"click"===e&&(e="mouseup")),i.capture&&(delete i.capture,e=_r("!",e,l)),i.once&&(delete i.once,e=_r("~",e,l)),i.passive&&(delete i.passive,e=_r("&",e,l)),i.native?(delete i.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var u=kr({value:n.trim(),dynamic:l},o);i!==a&&(u.modifiers=i);var d=c[e];Array.isArray(d)?r?d.unshift(u):d.push(u):c[e]=d?r?[u,d]:[d,u]:u,t.plain=!1}function Sr(t,e,n){var i=Tr(t,":"+e)||Tr(t,"v-bind:"+e);if(null!=i)return hr(i);if(!1!==n){var r=Tr(t,e);if(null!=r)return JSON.stringify(r)}}function Tr(t,e,n){var i;if(null!=(i=t.attrsMap[e]))for(var r=t.attrsList,s=0,a=r.length;s<a;s++)if(r[s].name===e){r.splice(s,1);break}return n&&delete t.attrsMap[e],i}function wr(t,e){for(var n=t.attrsList,i=0,r=n.length;i<r;i++){var s=n[i];if(e.test(s.name))return n.splice(i,1),s}}function kr(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Cr(t,e,n){var i=n||{},r=i.number,s="$$v",a=s;i.trim&&(a="(typeof ".concat(s," === 'string'")+"? ".concat(s,".trim()")+": ".concat(s,")")),r&&(a="_n(".concat(a,")"));var o=xr(e,a);t.model={value:"(".concat(e,")"),expression:JSON.stringify(e),callback:"function (".concat(s,") {").concat(o,"}")}}function xr(t,e){var n=function(t){if(t=t.trim(),rr=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<rr-1)return(or=t.lastIndexOf("."))>-1?{exp:t.slice(0,or),key:'"'+t.slice(or+1)+'"'}:{exp:t,key:null};sr=t,or=lr=cr=0;for(;!Ir();)Dr(ar=Ar())?Pr(ar):91===ar&&Lr(ar);return{exp:t.slice(0,lr),key:t.slice(lr+1,cr)}}(t);return null===n.key?"".concat(t,"=").concat(e):"$set(".concat(n.exp,", ").concat(n.key,", ").concat(e,")")}function Ar(){return sr.charCodeAt(++or)}function Ir(){return or>=rr}function Dr(t){return 34===t||39===t}function Lr(t){var e=1;for(lr=or;!Ir();)if(Dr(t=Ar()))Pr(t);else if(91===t&&e++,93===t&&e--,0===e){cr=or;break}}function Pr(t){for(var e=t;!Ir()&&(t=Ar())!==e;);}var Or,Rr="__r",Mr="__c";function Nr(t,e,n){var i=Or;return function r(){null!==e.apply(null,arguments)&&jr(t,r,n,i)}}var Fr=hn&&!(ot&&Number(ot[1])<=53);function $r(t,e,n,i){if(Fr){var r=Qe,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}Or.addEventListener(t,e,ct?{capture:n,passive:i}:n)}function jr(t,e,n,i){(i||Or).removeEventListener(t,e._wrapper||e,n)}function Br(t,e){if(!l(t.data.on)||!l(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Or=e.elm||t.elm,function(t){if(c(t[Rr])){var e=nt?"change":"input";t[e]=[].concat(t[Rr],t[e]||[]),delete t[Rr]}c(t[Mr])&&(t.change=[].concat(t[Mr],t.change||[]),delete t[Mr])}(n),Yt(n,i,$r,jr,Nr,e.context),Or=void 0}}var Ur,Hr={create:Br,update:Br,destroy:function(t){return Br(t,Hi)}};function Gr(t,e){if(!l(t.data.domProps)||!l(e.data.domProps)){var n,i,r=e.elm,s=t.data.domProps||{},a=e.data.domProps||{};for(n in(c(a.__ob__)||u(a._v_attr_proxy))&&(a=e.data.domProps=M({},a)),s)n in a||(r[n]="");for(n in a){if(i=a[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===s[n])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===n&&"PROGRESS"!==r.tagName){r._value=i;var o=l(i)?"":String(i);qr(r,o)&&(r.value=o)}else if("innerHTML"===n&&Pi(r.tagName)&&l(r.innerHTML)){(Ur=Ur||document.createElement("div")).innerHTML="<svg>".concat(i,"</svg>");for(var d=Ur.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;d.firstChild;)r.appendChild(d.firstChild)}else if(i!==s[n])try{r[n]=i}catch(t){}}}}function qr(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(c(i)){if(i.number)return _(n)!==_(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Wr={create:Gr,update:Gr},Vr=x((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function Kr(t){var e=zr(t.style);return t.staticStyle?M(t.staticStyle,e):e}function zr(t){return Array.isArray(t)?N(t):"string"==typeof t?Vr(t):t}var Yr,Qr=/^--/,Xr=/\s*!important$/,Zr=function(t,e,n){if(Qr.test(e))t.style.setProperty(e,n);else if(Xr.test(n))t.style.setProperty(P(e),n.replace(Xr,""),"important");else{var i=ts(e);if(Array.isArray(n))for(var r=0,s=n.length;r<s;r++)t.style[i]=n[r];else t.style[i]=n}},Jr=["Webkit","Moz","ms"],ts=x((function(t){if(Yr=Yr||document.createElement("div").style,"filter"!==(t=I(t))&&t in Yr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Jr.length;n++){var i=Jr[n]+e;if(i in Yr)return i}}));function es(t,e){var n=e.data,i=t.data;if(!(l(n.staticStyle)&&l(n.style)&&l(i.staticStyle)&&l(i.style))){var r,s,a=e.elm,o=i.staticStyle,u=i.normalizedStyle||i.style||{},d=o||u,h=zr(e.data.style)||{};e.data.normalizedStyle=c(h.__ob__)?M({},h):h;var f=function(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=Kr(r.data))&&M(i,n);(n=Kr(t.data))&&M(i,n);for(var s=t;s=s.parent;)s.data&&(n=Kr(s.data))&&M(i,n);return i}(e,!0);for(s in d)l(f[s])&&Zr(a,s,"");for(s in f)(r=f[s])!==d[s]&&Zr(a,s,null==r?"":r)}}var ns={create:es,update:es},is=/\s+/;function rs(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(is).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ss(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(is).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" ".concat(t.getAttribute("class")||""," "),i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function as(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&M(e,os(t.name||"v")),M(e,t),e}return"string"==typeof t?os(t):void 0}}var os=x((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ls=tt&&!it,cs="transition",us="animation",ds="transition",hs="transitionend",fs="animation",ps="animationend";ls&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ds="WebkitTransition",hs="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fs="WebkitAnimation",ps="webkitAnimationEnd"));var ms=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function gs(t){ms((function(){ms(t)}))}function vs(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),rs(t,e))}function ys(t,e){t._transitionClasses&&w(t._transitionClasses,e),ss(t,e)}function bs(t,e,n){var i=Es(t,e),r=i.type,s=i.timeout,a=i.propCount;if(!r)return n();var o=r===cs?hs:ps,l=0,c=function(){t.removeEventListener(o,u),n()},u=function(e){e.target===t&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),s+1),t.addEventListener(o,u)}var _s=/\b(transform|all)(,|$)/;function Es(t,e){var n,i=window.getComputedStyle(t),r=(i[ds+"Delay"]||"").split(", "),s=(i[ds+"Duration"]||"").split(", "),a=Ss(r,s),o=(i[fs+"Delay"]||"").split(", "),l=(i[fs+"Duration"]||"").split(", "),c=Ss(o,l),u=0,d=0;return e===cs?a>0&&(n=cs,u=a,d=s.length):e===us?c>0&&(n=us,u=c,d=l.length):d=(n=(u=Math.max(a,c))>0?a>c?cs:us:null)?n===cs?s.length:l.length:0,{type:n,timeout:u,propCount:d,hasTransform:n===cs&&_s.test(i[ds+"Property"])}}function Ss(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Ts(e)+Ts(t[n])})))}function Ts(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ws(t,e){var n=t.elm;c(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=as(t.data.transition);if(!l(i)&&!c(n._enterCb)&&1===n.nodeType){for(var r=i.css,s=i.type,a=i.enterClass,o=i.enterToClass,u=i.enterActiveClass,d=i.appearClass,p=i.appearToClass,m=i.appearActiveClass,g=i.beforeEnter,v=i.enter,y=i.afterEnter,b=i.enterCancelled,E=i.beforeAppear,S=i.appear,T=i.afterAppear,w=i.appearCancelled,k=i.duration,C=$e,x=$e.$vnode;x&&x.parent;)C=x.context,x=x.parent;var A=!C._isMounted||!t.isRootInsert;if(!A||S||""===S){var I=A&&d?d:a,D=A&&m?m:u,L=A&&p?p:o,P=A&&E||g,O=A&&h(S)?S:v,R=A&&T||y,M=A&&w||b,N=_(f(k)?k.enter:k);0;var F=!1!==r&&!it,$=xs(O),j=n._enterCb=G((function(){F&&(ys(n,L),ys(n,D)),j.cancelled?(F&&ys(n,I),M&&M(n)):R&&R(n),n._enterCb=null}));t.data.show||Qt(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),O&&O(n,j)})),P&&P(n),F&&(vs(n,I),vs(n,D),gs((function(){ys(n,I),j.cancelled||(vs(n,L),$||(Cs(N)?setTimeout(j,N):bs(n,s,j)))}))),t.data.show&&(e&&e(),O&&O(n,j)),F||$||j()}}}function ks(t,e){var n=t.elm;c(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=as(t.data.transition);if(l(i)||1!==n.nodeType)return e();if(!c(n._leaveCb)){var r=i.css,s=i.type,a=i.leaveClass,o=i.leaveToClass,u=i.leaveActiveClass,d=i.beforeLeave,h=i.leave,p=i.afterLeave,m=i.leaveCancelled,g=i.delayLeave,v=i.duration,y=!1!==r&&!it,b=xs(h),E=_(f(v)?v.leave:v);0;var S=n._leaveCb=G((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(ys(n,o),ys(n,u)),S.cancelled?(y&&ys(n,a),m&&m(n)):(e(),p&&p(n)),n._leaveCb=null}));g?g(T):T()}function T(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),y&&(vs(n,a),vs(n,u),gs((function(){ys(n,a),S.cancelled||(vs(n,o),b||(Cs(E)?setTimeout(S,E):bs(n,s,S)))}))),h&&h(n,S),y||b||S())}}function Cs(t){return"number"==typeof t&&!isNaN(t)}function xs(t){if(l(t))return!1;var e=t.fns;return c(e)?xs(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function As(t,e){!0!==e.data.show&&ws(e)}var Is=function(t){var e,n,i={},r=t.modules,s=t.nodeOps;for(e=0;e<Gi.length;++e)for(i[Gi[e]]=[],n=0;n<r.length;++n)c(r[n][Gi[e]])&&i[Gi[e]].push(r[n][Gi[e]]);function a(t){var e=s.parentNode(t);c(e)&&s.removeChild(e,t)}function h(t,e,n,r,a,o,l){if(c(t.elm)&&c(o)&&(t=o[l]=Et(t)),t.isRootInsert=!a,!function(t,e,n,r){var s=t.data;if(c(s)){var a=c(t.componentInstance)&&s.keepAlive;if(c(s=s.hook)&&c(s=s.init)&&s(t,!1),c(t.componentInstance))return f(t,e),p(n,t.elm,r),u(a)&&function(t,e,n,r){var s,a=t;for(;a.componentInstance;)if(c(s=(a=a.componentInstance._vnode).data)&&c(s=s.transition)){for(s=0;s<i.activate.length;++s)i.activate[s](Hi,a);e.push(a);break}p(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var d=t.data,h=t.children,g=t.tag;c(g)?(t.elm=t.ns?s.createElementNS(t.ns,g):s.createElement(g,t),y(t),m(t,h,e),c(d)&&v(t,e),p(n,t.elm,r)):u(t.isComment)?(t.elm=s.createComment(t.text),p(n,t.elm,r)):(t.elm=s.createTextNode(t.text),p(n,t.elm,r))}}function f(t,e){c(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),y(t)):(Bi(t),e.push(t))}function p(t,e,n){c(t)&&(c(n)?s.parentNode(n)===t&&s.insertBefore(t,e,n):s.appendChild(t,e))}function m(t,e,n){if(o(e)){0;for(var i=0;i<e.length;++i)h(e[i],n,t.elm,null,!0,e,i)}else d(t.text)&&s.appendChild(t.elm,s.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return c(t.tag)}function v(t,n){for(var r=0;r<i.create.length;++r)i.create[r](Hi,t);c(e=t.data.hook)&&(c(e.create)&&e.create(Hi,t),c(e.insert)&&n.push(t))}function y(t){var e;if(c(e=t.fnScopeId))s.setStyleScope(t.elm,e);else for(var n=t;n;)c(e=n.context)&&c(e=e.$options._scopeId)&&s.setStyleScope(t.elm,e),n=n.parent;c(e=$e)&&e!==t.context&&e!==t.fnContext&&c(e=e.$options._scopeId)&&s.setStyleScope(t.elm,e)}function b(t,e,n,i,r,s){for(;i<=r;++i)h(n[i],s,t,e,!1,n,i)}function _(t){var e,n,r=t.data;if(c(r))for(c(e=r.hook)&&c(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(c(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function S(t,e,n){for(;e<=n;++e){var i=t[e];c(i)&&(c(i.tag)?(T(i),_(i)):a(i.elm))}}function T(t,e){if(c(e)||c(t.data)){var n,r=i.remove.length+1;for(c(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&a(t)}return n.listeners=e,n}(t.elm,r),c(n=t.componentInstance)&&c(n=n._vnode)&&c(n.data)&&T(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);c(n=t.data.hook)&&c(n=n.remove)?n(t,e):e()}else a(t.elm)}function w(t,e,n,i){for(var r=n;r<i;r++){var s=e[r];if(c(s)&&qi(t,s))return r}}function k(t,e,n,r,a,o){if(t!==e){c(e.elm)&&c(r)&&(e=r[a]=Et(e));var d=e.elm=t.elm;if(u(t.isAsyncPlaceholder))c(e.asyncFactory.resolved)?A(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(u(e.isStatic)&&u(t.isStatic)&&e.key===t.key&&(u(e.isCloned)||u(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;c(p)&&c(f=p.hook)&&c(f=f.prepatch)&&f(t,e);var m=t.children,v=e.children;if(c(p)&&g(e)){for(f=0;f<i.update.length;++f)i.update[f](t,e);c(f=p.hook)&&c(f=f.update)&&f(t,e)}l(e.text)?c(m)&&c(v)?m!==v&&function(t,e,n,i,r){var a,o,u,d=0,f=0,p=e.length-1,m=e[0],g=e[p],v=n.length-1,y=n[0],_=n[v],E=!r;for(;d<=p&&f<=v;)l(m)?m=e[++d]:l(g)?g=e[--p]:qi(m,y)?(k(m,y,i,n,f),m=e[++d],y=n[++f]):qi(g,_)?(k(g,_,i,n,v),g=e[--p],_=n[--v]):qi(m,_)?(k(m,_,i,n,v),E&&s.insertBefore(t,m.elm,s.nextSibling(g.elm)),m=e[++d],_=n[--v]):qi(g,y)?(k(g,y,i,n,f),E&&s.insertBefore(t,g.elm,m.elm),g=e[--p],y=n[++f]):(l(a)&&(a=Wi(e,d,p)),l(o=c(y.key)?a[y.key]:w(y,e,d,p))?h(y,i,t,m.elm,!1,n,f):qi(u=e[o],y)?(k(u,y,i,n,f),e[o]=void 0,E&&s.insertBefore(t,u.elm,m.elm)):h(y,i,t,m.elm,!1,n,f),y=n[++f]);d>p?b(t,l(n[v+1])?null:n[v+1].elm,n,f,v,i):f>v&&S(e,d,p)}(d,m,v,n,o):c(v)?(c(t.text)&&s.setTextContent(d,""),b(d,null,v,0,v.length-1,n)):c(m)?S(m,0,m.length-1):c(t.text)&&s.setTextContent(d,""):t.text!==e.text&&s.setTextContent(d,e.text),c(p)&&c(f=p.hook)&&c(f=f.postpatch)&&f(t,e)}}}function C(t,e,n){if(u(n)&&c(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var x=E("attrs,class,staticClass,staticStyle,key");function A(t,e,n,i){var r,s=e.tag,a=e.data,o=e.children;if(i=i||a&&a.pre,e.elm=t,u(e.isComment)&&c(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(c(a)&&(c(r=a.hook)&&c(r=r.init)&&r(e,!0),c(r=e.componentInstance)))return f(e,n),!0;if(c(s)){if(c(o))if(t.hasChildNodes())if(c(r=a)&&c(r=r.domProps)&&c(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var l=!0,d=t.firstChild,h=0;h<o.length;h++){if(!d||!A(d,o[h],n,i)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else m(e,o,n);if(c(a)){var p=!1;for(var g in a)if(!x(g)){p=!0,v(e,n);break}!p&&a.class&&Tn(a.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,r){if(!l(e)){var a,o=!1,d=[];if(l(t))o=!0,h(e,d);else{var f=c(t.nodeType);if(!f&&qi(t,e))k(t,e,d,null,null,r);else{if(f){if(1===t.nodeType&&t.hasAttribute(W)&&(t.removeAttribute(W),n=!0),u(n)&&A(t,e,d))return C(e,d,!0),t;a=t,t=new yt(s.tagName(a).toLowerCase(),{},[],void 0,a)}var p=t.elm,m=s.parentNode(p);if(h(e,d,p._leaveCb?null:m,s.nextSibling(p)),c(e.parent))for(var v=e.parent,y=g(e);v;){for(var b=0;b<i.destroy.length;++b)i.destroy[b](v);if(v.elm=e.elm,y){for(var E=0;E<i.create.length;++E)i.create[E](Hi,v);var T=v.data.hook.insert;if(T.merged)for(var w=1;w<T.fns.length;w++)T.fns[w]()}else Bi(v);v=v.parent}c(m)?S([t],0,0):c(t.tag)&&_(t)}}return C(e,d,o),e.elm}c(t)&&_(t)}}({nodeOps:$i,modules:[nr,ur,Hr,Wr,ns,tt?{create:As,activate:As,remove:function(t,e){!0!==t.data.show?ks(t,e):e()}}:{}].concat(Zi)});it&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Fs(t,"input")}));var Ds={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Qt(n,"postpatch",(function(){Ds.componentUpdated(t,e,n)})):Ls(t,e,n.context),t._vOptions=[].map.call(t.options,Rs)):("textarea"===n.tag||Ni(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ms),t.addEventListener("compositionend",Ns),t.addEventListener("change",Ns),it&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ls(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Rs);if(r.some((function(t,e){return!U(t,i[e])})))(t.multiple?e.value.some((function(t){return Os(t,r)})):e.value!==e.oldValue&&Os(e.value,r))&&Fs(t,"change")}}};function Ls(t,e,n){Ps(t,e,n),(nt||rt)&&setTimeout((function(){Ps(t,e,n)}),0)}function Ps(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var s,a,o=0,l=t.options.length;o<l;o++)if(a=t.options[o],r)s=H(i,Rs(a))>-1,a.selected!==s&&(a.selected=s);else if(U(Rs(a),i))return void(t.selectedIndex!==o&&(t.selectedIndex=o));r||(t.selectedIndex=-1)}}function Os(t,e){return e.every((function(e){return!U(e,t)}))}function Rs(t){return"_value"in t?t._value:t.value}function Ms(t){t.target.composing=!0}function Ns(t){t.target.composing&&(t.target.composing=!1,Fs(t.target,"input"))}function Fs(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function $s(t){return!t.componentInstance||t.data&&t.data.transition?t:$s(t.componentInstance._vnode)}var js={bind:function(t,e,n){var i=e.value,r=(n=$s(n)).data&&n.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,ws(n,(function(){t.style.display=s}))):t.style.display=i?s:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=$s(n)).data&&n.data.transition?(n.data.show=!0,i?ws(n,(function(){t.style.display=t.__vOriginalDisplay})):ks(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},Bs={model:Ds,show:js},Us={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Hs(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Hs(Oe(e.children)):t}function Gs(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var i in r)e[I(i)]=r[i];return e}function qs(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Ws=function(t){return t.tag||Se(t)},Vs=function(t){return"show"===t.name},Ks={name:"transition",props:Us,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ws)).length){0;var i=this.mode;0;var r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var s=Hs(r);if(!s)return r;if(this._leaving)return qs(t,r);var a="__transition-".concat(this._uid,"-");s.key=null==s.key?s.isComment?a+"comment":a+s.tag:d(s.key)?0===String(s.key).indexOf(a)?s.key:a+s.key:s.key;var o=(s.data||(s.data={})).transition=Gs(this),l=this._vnode,c=Hs(l);if(s.data.directives&&s.data.directives.some(Vs)&&(s.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(s,c)&&!Se(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var u=c.data.transition=M({},o);if("out-in"===i)return this._leaving=!0,Qt(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),qs(t,r);if("in-out"===i){if(Se(s))return l;var h,f=function(){h()};Qt(o,"afterEnter",f),Qt(o,"enterCancelled",f),Qt(u,"delayLeave",(function(t){h=t}))}}return r}}},zs=M({tag:String,moveClass:String},Us);delete zs.mode;var Ys={props:zs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=je(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],a=Gs(this),o=0;o<r.length;o++){if((u=r[o]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))s.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(i){var l=[],c=[];for(o=0;o<i.length;o++){var u;(u=i[o]).data.transition=a,u.data.pos=u.elm.getBoundingClientRect(),n[u.key]?l.push(u):c.push(u)}this.kept=t(e,null,l),this.removed=c}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Qs),t.forEach(Xs),t.forEach(Zs),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;vs(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(hs,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(hs,t),n._moveCb=null,ys(n,e))})}})))},methods:{hasMove:function(t,e){if(!ls)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){ss(n,t)})),rs(n,e),n.style.display="none",this.$el.appendChild(n);var i=Es(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Qs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Xs(t){t.data.newPos=t.elm.getBoundingClientRect()}function Zs(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate(".concat(i,"px,").concat(r,"px)"),s.transitionDuration="0s"}}var Js={Transition:Ks,TransitionGroup:Ys};ai.config.mustUseProp=vi,ai.config.isReservedTag=Oi,ai.config.isReservedAttr=mi,ai.config.getTagNamespace=Ri,ai.config.isUnknownElement=function(t){if(!tt)return!0;if(Oi(t))return!1;if(t=t.toLowerCase(),null!=Mi[t])return Mi[t];var e=document.createElement(t);return t.indexOf("-")>-1?Mi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Mi[t]=/HTMLUnknownElement/.test(e.toString())},M(ai.options.directives,Bs),M(ai.options.components,Js),ai.prototype.__patch__=tt?Is:F,ai.prototype.$mount=function(t,e){return function(t,e,n){var i;t.$el=e,t.$options.render||(t.$options.render=bt),Ge(t,"beforeMount"),i=function(){t._update(t._render(),n)},new Cn(t,i,F,{before:function(){t._isMounted&&!t._isDestroyed&&Ge(t,"beforeUpdate")}},!0),n=!1;var r=t._preWatchers;if(r)for(var s=0;s<r.length;s++)r[s].run();return null==t.$vnode&&(t._isMounted=!0,Ge(t,"mounted")),t}(this,t=t&&tt?Fi(t):void 0,e)},tt&&setTimeout((function(){z.devtools&&ht&&ht.emit("init",ai)}),0);var ta=/\{\{((?:.|\r?\n)+?)\}\}/g,ea=/[-.*+?^${}()|[\]\/\\]/g,na=x((function(t){var e=t[0].replace(ea,"\\$&"),n=t[1].replace(ea,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}));var ia={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Tr(t,"class");n&&(t.staticClass=JSON.stringify(n.replace(/\s+/g," ").trim()));var i=Sr(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:".concat(t.staticClass,",")),t.classBinding&&(e+="class:".concat(t.classBinding,",")),e}};var ra,sa={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Tr(t,"style");n&&(t.staticStyle=JSON.stringify(Vr(n)));var i=Sr(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:".concat(t.staticStyle,",")),t.styleBinding&&(e+="style:(".concat(t.styleBinding,"),")),e}},aa=function(t){return(ra=ra||document.createElement("div")).innerHTML=t,ra.textContent},oa=E("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),la=E("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ca=E("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),ua=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,da=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ha="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(Y.source,"]*"),fa="((?:".concat(ha,"\\:)?").concat(ha,")"),pa=new RegExp("^<".concat(fa)),ma=/^\s*(\/?)>/,ga=new RegExp("^<\\/".concat(fa,"[^>]*>")),va=/^<!DOCTYPE [^>]+>/i,ya=/^<!\--/,ba=/^<!\[/,_a=E("script,style,textarea",!0),Ea={},Sa={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Ta=/&(?:lt|gt|quot|amp|#39);/g,wa=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,ka=E("pre,textarea",!0),Ca=function(t,e){return t&&ka(t)&&"\n"===e[0]};function xa(t,e){var n=e?wa:Ta;return t.replace(n,(function(t){return Sa[t]}))}function Aa(t,e){for(var n,i,r=[],s=e.expectHTML,a=e.isUnaryTag||j,o=e.canBeLeftOpenTag||j,l=0,c=function(){if(n=t,i&&_a(i)){var c=0,h=i.toLowerCase(),f=Ea[h]||(Ea[h]=new RegExp("([\\s\\S]*?)(</"+h+"[^>]*>)","i"));S=t.replace(f,(function(t,n,i){return c=i.length,_a(h)||"noscript"===h||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Ca(h,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));l+=t.length-S.length,t=S,d(h,l-c,l)}else{var p=t.indexOf("<");if(0===p){if(ya.test(t)){var m=t.indexOf("--\x3e");if(m>=0)return e.shouldKeepComment&&e.comment&&e.comment(t.substring(4,m),l,l+m+3),u(m+3),"continue"}if(ba.test(t)){var g=t.indexOf("]>");if(g>=0)return u(g+2),"continue"}var v=t.match(va);if(v)return u(v[0].length),"continue";var y=t.match(ga);if(y){var b=l;return u(y[0].length),d(y[1],b,l),"continue"}var _=function(){var e=t.match(pa);if(e){var n={tagName:e[1],attrs:[],start:l};u(e[0].length);for(var i=void 0,r=void 0;!(i=t.match(ma))&&(r=t.match(da)||t.match(ua));)r.start=l,u(r[0].length),r.end=l,n.attrs.push(r);if(i)return n.unarySlash=i[1],u(i[0].length),n.end=l,n}}();if(_)return function(t){var n=t.tagName,l=t.unarySlash;s&&("p"===i&&ca(n)&&d(i),o(n)&&i===n&&d(n));for(var c=a(n)||!!l,u=t.attrs.length,h=new Array(u),f=0;f<u;f++){var p=t.attrs[f],m=p[3]||p[4]||p[5]||"",g="a"===n&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:p[1],value:xa(m,g)}}c||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h,start:t.start,end:t.end}),i=n);e.start&&e.start(n,h,c,t.start,t.end)}(_),Ca(_.tagName,t)&&u(1),"continue"}var E=void 0,S=void 0,T=void 0;if(p>=0){for(S=t.slice(p);!(ga.test(S)||pa.test(S)||ya.test(S)||ba.test(S)||(T=S.indexOf("<",1))<0);)p+=T,S=t.slice(p);E=t.substring(0,p)}p<0&&(E=t),E&&u(E.length),e.chars&&E&&e.chars(E,l-E.length,l)}if(t===n)return e.chars&&e.chars(t),"break"};t;){if("break"===c())break}function u(e){l+=e,t=t.substring(e)}function d(t,n,s){var a,o;if(null==n&&(n=l),null==s&&(s=l),t)for(o=t.toLowerCase(),a=r.length-1;a>=0&&r[a].lowerCasedTag!==o;a--);else a=0;if(a>=0){for(var c=r.length-1;c>=a;c--)e.end&&e.end(r[c].tag,n,s);r.length=a,i=a&&r[a-1].tag}else"br"===o?e.start&&e.start(t,[],!0,n,s):"p"===o&&(e.start&&e.start(t,[],!1,n,s),e.end&&e.end(t,n,s))}d()}var Ia,Da,La,Pa,Oa,Ra,Ma,Na,Fa=/^@|^v-on:/,$a=/^v-|^@|^:|^#/,ja=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ba=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ua=/^\(|\)$/g,Ha=/^\[.*\]$/,Ga=/:(.*)$/,qa=/^:|^\.|^v-bind:/,Wa=/\.[^.\]]+(?=[^\]]*$)/g,Va=/^v-slot(:|$)|^#/,Ka=/[\r\n]/,za=/[ \f\t\r\n]+/g,Ya=x(aa),Qa="_empty_";function Xa(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:ro(e),rawAttrsMap:{},parent:n,children:[]}}function Za(t,e){Ia=e.warn||pr,Ra=e.isPreTag||j,Ma=e.mustUseProp||j,Na=e.getTagNamespace||j;var n=e.isReservedTag||j;(function(t){return!(!(t.component||t.attrsMap[":is"]||t.attrsMap["v-bind:is"])&&(t.attrsMap.is?n(t.attrsMap.is):n(t.tag)))}),La=mr(e.modules,"transformNode"),Pa=mr(e.modules,"preTransformNode"),Oa=mr(e.modules,"postTransformNode"),Da=e.delimiters;var i,r,s=[],a=!1!==e.preserveWhitespace,o=e.whitespace,l=!1,c=!1;function u(t){if(d(t),l||t.processed||(t=Ja(t,e)),s.length||t===i||i.if&&(t.elseif||t.else)&&eo(i,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)a=t,o=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children),o&&o.if&&eo(o,{exp:a.elseif,block:a});else{if(t.slotScope){var n=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[n]=t}r.children.push(t),t.parent=r}var a,o;t.children=t.children.filter((function(t){return!t.slotScope})),d(t),t.pre&&(l=!1),Ra(t.tag)&&(c=!1);for(var u=0;u<Oa.length;u++)Oa[u](t,e)}function d(t){if(!c)for(var e=void 0;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return Aa(t,{warn:Ia,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,n,a,o,d){var h=r&&r.ns||Na(t);nt&&"svg"===h&&(n=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];so.test(i.name)||(i.name=i.name.replace(ao,""),e.push(i))}return e}(n));var f,p=Xa(t,n,r);h&&(p.ns=h),"style"!==(f=p).tag&&("script"!==f.tag||f.attrsMap.type&&"text/javascript"!==f.attrsMap.type)||dt()||(p.forbidden=!0);for(var m=0;m<Pa.length;m++)p=Pa[m](p,e)||p;l||(!function(t){null!=Tr(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(l=!0)),Ra(p.tag)&&(c=!0),l?function(t){var e=t.attrsList,n=e.length;if(n)for(var i=t.attrs=new Array(n),r=0;r<n;r++)i[r]={name:e[r].name,value:JSON.stringify(e[r].value)},null!=e[r].start&&(i[r].start=e[r].start,i[r].end=e[r].end);else t.pre||(t.plain=!0)}(p):p.processed||(to(p),function(t){var e=Tr(t,"v-if");if(e)t.if=e,eo(t,{exp:e,block:t});else{null!=Tr(t,"v-else")&&(t.else=!0);var n=Tr(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){var e=Tr(t,"v-once");null!=e&&(t.once=!0)}(p)),i||(i=p),a?u(p):(r=p,s.push(p))},end:function(t,e,n){var i=s[s.length-1];s.length-=1,r=s[s.length-1],u(i)},chars:function(t,e,n){if(r&&(!nt||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var i,s=r.children;if(t=c||t.trim()?"script"===(i=r).tag||"style"===i.tag?t:Ya(t):s.length?o?"condense"===o&&Ka.test(t)?"":" ":a?" ":"":""){c||"condense"!==o||(t=t.replace(za," "));var u=void 0,d=void 0;!l&&" "!==t&&(u=function(t,e){var n=e?na(e):ta;if(n.test(t)){for(var i,r,s,a=[],o=[],l=n.lastIndex=0;i=n.exec(t);){(r=i.index)>l&&(o.push(s=t.slice(l,r)),a.push(JSON.stringify(s)));var c=hr(i[1].trim());a.push("_s(".concat(c,")")),o.push({"@binding":c}),l=r+i[0].length}return l<t.length&&(o.push(s=t.slice(l)),a.push(JSON.stringify(s))),{expression:a.join("+"),tokens:o}}}(t,Da))?d={type:2,expression:u.expression,tokens:u.tokens,text:t}:" "===t&&s.length&&" "===s[s.length-1].text||(d={type:3,text:t}),d&&s.push(d)}}},comment:function(t,e,n){if(r){var i={type:3,text:t,isComment:!0};0,r.children.push(i)}}}),i}function Ja(t,e){var n;!function(t){var e=Sr(t,"key");if(e){t.key=e}}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Sr(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Tr(t,"scope"),t.slotScope=e||Tr(t,"slot-scope")):(e=Tr(t,"slot-scope"))&&(t.slotScope=e);var n=Sr(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||vr(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot")));if("template"===t.tag){if(a=wr(t,Va)){0;var i=no(a),r=i.name,s=i.dynamic;t.slotTarget=r,t.slotTargetDynamic=s,t.slotScope=a.value||Qa}}else{var a;if(a=wr(t,Va)){0;var o=t.scopedSlots||(t.scopedSlots={}),l=no(a),c=l.name,u=(s=l.dynamic,o[c]=Xa("template",[],t));u.slotTarget=c,u.slotTargetDynamic=s,u.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=u,!0})),u.slotScope=a.value||Qa,t.children=[],t.plain=!1}}}(t),"slot"===(n=t).tag&&(n.slotName=Sr(n,"name")),function(t){var e;(e=Sr(t,"is"))&&(t.component=e);null!=Tr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var i=0;i<La.length;i++)t=La[i](t,e)||t;return function(t){var e,n,i,r,s,a,o,l,c=t.attrsList;for(e=0,n=c.length;e<n;e++){if(i=r=c[e].name,s=c[e].value,$a.test(i))if(t.hasBindings=!0,(a=io(i.replace($a,"")))&&(i=i.replace(Wa,"")),qa.test(i))i=i.replace(qa,""),s=hr(s),(l=Ha.test(i))&&(i=i.slice(1,-1)),a&&(a.prop&&!l&&"innerHtml"===(i=I(i))&&(i="innerHTML"),a.camel&&!l&&(i=I(i)),a.sync&&(o=xr(s,"$event"),l?Er(t,'"update:"+('.concat(i,")"),o,null,!1,0,c[e],!0):(Er(t,"update:".concat(I(i)),o,null,!1,0,c[e]),P(i)!==I(i)&&Er(t,"update:".concat(P(i)),o,null,!1,0,c[e])))),a&&a.prop||!t.component&&Ma(t.tag,t.attrsMap.type,i)?gr(t,i,s,c[e],l):vr(t,i,s,c[e],l);else if(Fa.test(i))i=i.replace(Fa,""),(l=Ha.test(i))&&(i=i.slice(1,-1)),Er(t,i,s,a,!1,0,c[e],l);else{var u=(i=i.replace($a,"")).match(Ga),d=u&&u[1];l=!1,d&&(i=i.slice(0,-(d.length+1)),Ha.test(d)&&(d=d.slice(1,-1),l=!0)),br(t,i,r,s,d,l,a,c[e])}else vr(t,i,JSON.stringify(s),c[e]),!t.component&&"muted"===i&&Ma(t.tag,t.attrsMap.type,i)&&gr(t,i,"true",c[e])}}(t),t}function to(t){var e;if(e=Tr(t,"v-for")){var n=function(t){var e=t.match(ja);if(!e)return;var n={};n.for=e[2].trim();var i=e[1].trim().replace(Ua,""),r=i.match(Ba);r?(n.alias=i.replace(Ba,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i;return n}(e);n&&M(t,n)}}function eo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function no(t){var e=t.name.replace(Va,"");return e||"#"!==t.name[0]&&(e="default"),Ha.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'.concat(e,'"'),dynamic:!1}}function io(t){var e=t.match(Wa);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function ro(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].name]=t[n].value;return e}var so=/^xmlns:NS\d+/,ao=/^NS\d+:/;function oo(t){return Xa(t.tag,t.attrsList.slice(),t.parent)}var lo=[ia,sa,{preTransformNode:function(t,e){if("input"===t.tag){var n=t.attrsMap;if(!n["v-model"])return;var i=void 0;if((n[":type"]||n["v-bind:type"])&&(i=Sr(t,"type")),n.type||i||!n["v-bind"]||(i="(".concat(n["v-bind"],").type")),i){var r=Tr(t,"v-if",!0),s=r?"&&(".concat(r,")"):"",a=null!=Tr(t,"v-else",!0),o=Tr(t,"v-else-if",!0),l=oo(t);to(l),yr(l,"type","checkbox"),Ja(l,e),l.processed=!0,l.if="(".concat(i,")==='checkbox'")+s,eo(l,{exp:l.if,block:l});var c=oo(t);Tr(c,"v-for",!0),yr(c,"type","radio"),Ja(c,e),eo(l,{exp:"(".concat(i,")==='radio'")+s,block:c});var u=oo(t);return Tr(u,"v-for",!0),yr(u,":type",i),Ja(u,e),eo(l,{exp:r,block:u}),a?l.else=!0:o&&(l.elseif=o),l}}}}];var co,uo,ho={model:function(t,e,n){n;var i=e.value,r=e.modifiers,s=t.tag,a=t.attrsMap.type;if(t.component)return Cr(t,i,r),!1;if("select"===s)!function(t,e,n){var i=n&&n.number,r='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(i?"_n(val)":"val","})"),s="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = ".concat(r,";");a="".concat(a," ").concat(xr(e,s)),Er(t,"change",a,null,!0)}(t,i,r);else if("input"===s&&"checkbox"===a)!function(t,e,n){var i=n&&n.number,r=Sr(t,"value")||"null",s=Sr(t,"true-value")||"true",a=Sr(t,"false-value")||"false";gr(t,"checked","Array.isArray(".concat(e,")")+"?_i(".concat(e,",").concat(r,")>-1")+("true"===s?":(".concat(e,")"):":_q(".concat(e,",").concat(s,")"))),Er(t,"change","var $$a=".concat(e,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(s,"):(").concat(a,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(i?"_n("+r+")":r,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(xr(e,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(xr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(xr(e,"$$c"),"}"),null,!0)}(t,i,r);else if("input"===s&&"radio"===a)!function(t,e,n){var i=n&&n.number,r=Sr(t,"value")||"null";r=i?"_n(".concat(r,")"):r,gr(t,"checked","_q(".concat(e,",").concat(r,")")),Er(t,"change",xr(e,r),null,!0)}(t,i,r);else if("input"===s||"textarea"===s)!function(t,e,n){var i=t.attrsMap.type;0;var r=n||{},s=r.lazy,a=r.number,o=r.trim,l=!s&&"range"!==i,c=s?"change":"range"===i?Rr:"input",u="$event.target.value";o&&(u="$event.target.value.trim()");a&&(u="_n(".concat(u,")"));var d=xr(e,u);l&&(d="if($event.target.composing)return;".concat(d));gr(t,"value","(".concat(e,")")),Er(t,c,d,null,!0),(o||a)&&Er(t,"blur","$forceUpdate()")}(t,i,r);else{if(!z.isReservedTag(s))return Cr(t,i,r),!1}return!0},text:function(t,e){e.value&&gr(t,"textContent","_s(".concat(e.value,")"),e)},html:function(t,e){e.value&&gr(t,"innerHTML","_s(".concat(e.value,")"),e)}},fo={expectHTML:!0,modules:lo,directives:ho,isPreTag:function(t){return"pre"===t},isUnaryTag:oa,mustUseProp:vi,canBeLeftOpenTag:la,isReservedTag:Oi,getTagNamespace:Ri,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(lo)},po=x((function(t){return E("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function mo(t,e){t&&(co=po(e.staticKeys||""),uo=e.isReservedTag||j,go(t),vo(t,!1))}function go(t){if(t.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||S(t.tag)||!uo(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(co)))}(t),1===t.type){if(!uo(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var i=t.children[e];go(i),i.static||(t.static=!1)}if(t.ifConditions)for(e=1,n=t.ifConditions.length;e<n;e++){var r=t.ifConditions[e].block;go(r),r.static||(t.static=!1)}}}function vo(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,i=t.children.length;n<i;n++)vo(t.children[n],e||!!t.for);if(t.ifConditions)for(n=1,i=t.ifConditions.length;n<i;n++)vo(t.ifConditions[n].block,e)}}var yo=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,bo=/\([^)]*?\);*$/,_o=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Eo={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},So={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},To=function(t){return"if(".concat(t,")return null;")},wo={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:To("$event.target !== $event.currentTarget"),ctrl:To("!$event.ctrlKey"),shift:To("!$event.shiftKey"),alt:To("!$event.altKey"),meta:To("!$event.metaKey"),left:To("'button' in $event && $event.button !== 0"),middle:To("'button' in $event && $event.button !== 1"),right:To("'button' in $event && $event.button !== 2")};function ko(t,e){var n=e?"nativeOn:":"on:",i="",r="";for(var s in t){var a=Co(t[s]);t[s]&&t[s].dynamic?r+="".concat(s,",").concat(a,","):i+='"'.concat(s,'":').concat(a,",")}return i="{".concat(i.slice(0,-1),"}"),r?n+"_d(".concat(i,",[").concat(r.slice(0,-1),"])"):n+i}function Co(t){if(!t)return"function(){}";if(Array.isArray(t))return"[".concat(t.map((function(t){return Co(t)})).join(","),"]");var e=_o.test(t.value),n=yo.test(t.value),i=_o.test(t.value.replace(bo,""));if(t.modifiers){var r="",s="",a=[],o=function(e){if(wo[e])s+=wo[e],Eo[e]&&a.push(e);else if("exact"===e){var n=t.modifiers;s+=To(["ctrl","shift","alt","meta"].filter((function(t){return!n[t]})).map((function(t){return"$event.".concat(t,"Key")})).join("||"))}else a.push(e)};for(var l in t.modifiers)o(l);a.length&&(r+=function(t){return"if(!$event.type.indexOf('key')&&"+"".concat(t.map(xo).join("&&"),")return null;")}(a)),s&&(r+=s);var c=e?"return ".concat(t.value,".apply(null, arguments)"):n?"return (".concat(t.value,").apply(null, arguments)"):i?"return ".concat(t.value):t.value;return"function($event){".concat(r).concat(c,"}")}return e||n?t.value:"function($event){".concat(i?"return ".concat(t.value):t.value,"}")}function xo(t){var e=parseInt(t,10);if(e)return"$event.keyCode!==".concat(e);var n=Eo[t],i=So[t];return"_k($event.keyCode,"+"".concat(JSON.stringify(t),",")+"".concat(JSON.stringify(n),",")+"$event.key,"+"".concat(JSON.stringify(i))+")"}var Ao={on:function(t,e){t.wrapListeners=function(t){return"_g(".concat(t,",").concat(e.value,")")}},bind:function(t,e){t.wrapData=function(n){return"_b(".concat(n,",'").concat(t.tag,"',").concat(e.value,",").concat(e.modifiers&&e.modifiers.prop?"true":"false").concat(e.modifiers&&e.modifiers.sync?",true":"",")")}},cloak:F},Io=function(t){this.options=t,this.warn=t.warn||pr,this.transforms=mr(t.modules,"transformCode"),this.dataGenFns=mr(t.modules,"genData"),this.directives=M(M({},Ao),t.directives);var e=t.isReservedTag||j;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Do(t,e){var n=new Io(e),i=t?"script"===t.tag?"null":Lo(t,n):'_c("div")';return{render:"with(this){return ".concat(i,"}"),staticRenderFns:n.staticRenderFns}}function Lo(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Po(t,e);if(t.once&&!t.onceProcessed)return Oo(t,e);if(t.for&&!t.forProcessed)return No(t,e);if(t.if&&!t.ifProcessed)return Ro(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',i=Bo(t,e),r="_t(".concat(n).concat(i?",function(){return ".concat(i,"}"):""),s=t.attrs||t.dynamicAttrs?Go((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:I(t.name),value:t.value,dynamic:t.dynamic}}))):null,a=t.attrsMap["v-bind"];!s&&!a||i||(r+=",null");s&&(r+=",".concat(s));a&&(r+="".concat(s?"":",null",",").concat(a));return r+")"}(t,e);var n=void 0;if(t.component)n=function(t,e,n){var i=e.inlineTemplate?null:Bo(e,n,!0);return"_c(".concat(t,",").concat(Fo(e,n)).concat(i?",".concat(i):"",")")}(t.component,t,e);else{var i=void 0,r=e.maybeComponent(t);(!t.plain||t.pre&&r)&&(i=Fo(t,e));var s=void 0,a=e.options.bindings;r&&a&&!1!==a.__isScriptSetup&&(s=function(t,e){var n=I(e),i=D(n),r=function(r){return t[e]===r?e:t[n]===r?n:t[i]===r?i:void 0},s=r("setup-const")||r("setup-reactive-const");if(s)return s;var a=r("setup-let")||r("setup-ref")||r("setup-maybe-ref");if(a)return a}(a,t.tag)),s||(s="'".concat(t.tag,"'"));var o=t.inlineTemplate?null:Bo(t,e,!0);n="_c(".concat(s).concat(i?",".concat(i):"").concat(o?",".concat(o):"",")")}for(var l=0;l<e.transforms.length;l++)n=e.transforms[l](t,n);return n}return Bo(t,e)||"void 0"}function Po(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return ".concat(Lo(t,e),"}")),e.pre=n,"_m(".concat(e.staticRenderFns.length-1).concat(t.staticInFor?",true":"",")")}function Oo(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Ro(t,e);if(t.staticInFor){for(var n="",i=t.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o(".concat(Lo(t,e),",").concat(e.onceId++,",").concat(n,")"):Lo(t,e)}return Po(t,e)}function Ro(t,e,n,i){return t.ifProcessed=!0,Mo(t.ifConditions.slice(),e,n,i)}function Mo(t,e,n,i){if(!t.length)return i||"_e()";var r=t.shift();return r.exp?"(".concat(r.exp,")?").concat(s(r.block),":").concat(Mo(t,e,n,i)):"".concat(s(r.block));function s(t){return n?n(t,e):t.once?Oo(t,e):Lo(t,e)}}function No(t,e,n,i){var r=t.for,s=t.alias,a=t.iterator1?",".concat(t.iterator1):"",o=t.iterator2?",".concat(t.iterator2):"";return t.forProcessed=!0,"".concat(i||"_l","((").concat(r,"),")+"function(".concat(s).concat(a).concat(o,"){")+"return ".concat((n||Lo)(t,e))+"})"}function Fo(t,e){var n="{",i=function(t,e){var n=t.directives;if(!n)return;var i,r,s,a,o="directives:[",l=!1;for(i=0,r=n.length;i<r;i++){s=n[i],a=!0;var c=e.directives[s.name];c&&(a=!!c(t,s,e.warn)),a&&(l=!0,o+='{name:"'.concat(s.name,'",rawName:"').concat(s.rawName,'"').concat(s.value?",value:(".concat(s.value,"),expression:").concat(JSON.stringify(s.value)):"").concat(s.arg?",arg:".concat(s.isDynamicArg?s.arg:'"'.concat(s.arg,'"')):"").concat(s.modifiers?",modifiers:".concat(JSON.stringify(s.modifiers)):"","},"))}if(l)return o.slice(0,-1)+"]"}(t,e);i&&(n+=i+","),t.key&&(n+="key:".concat(t.key,",")),t.ref&&(n+="ref:".concat(t.ref,",")),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'.concat(t.tag,'",'));for(var r=0;r<e.dataGenFns.length;r++)n+=e.dataGenFns[r](t);if(t.attrs&&(n+="attrs:".concat(Go(t.attrs),",")),t.props&&(n+="domProps:".concat(Go(t.props),",")),t.events&&(n+="".concat(ko(t.events,!1),",")),t.nativeEvents&&(n+="".concat(ko(t.nativeEvents,!0),",")),t.slotTarget&&!t.slotScope&&(n+="slot:".concat(t.slotTarget,",")),t.scopedSlots&&(n+="".concat(function(t,e,n){var i=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||$o(n)})),r=!!t.if;if(!i)for(var s=t.parent;s;){if(s.slotScope&&s.slotScope!==Qa||s.for){i=!0;break}s.if&&(r=!0),s=s.parent}var a=Object.keys(e).map((function(t){return jo(e[t],n)})).join(",");return"scopedSlots:_u([".concat(a,"]").concat(i?",null,true":"").concat(!i&&r?",null,false,".concat(function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a)):"",")")}(t,t.scopedSlots,e),",")),t.model&&(n+="model:{value:".concat(t.model.value,",callback:").concat(t.model.callback,",expression:").concat(t.model.expression,"},")),t.inlineTemplate){var s=function(t,e){var n=t.children[0];0;if(n&&1===n.type){var i=Do(n,e.options);return"inlineTemplate:{render:function(){".concat(i.render,"},staticRenderFns:[").concat(i.staticRenderFns.map((function(t){return"function(){".concat(t,"}")})).join(","),"]}")}}(t,e);s&&(n+="".concat(s,","))}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b(".concat(n,',"').concat(t.tag,'",').concat(Go(t.dynamicAttrs),")")),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function $o(t){return 1===t.type&&("slot"===t.tag||t.children.some($o))}function jo(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Ro(t,e,jo,"null");if(t.for&&!t.forProcessed)return No(t,e,jo);var i=t.slotScope===Qa?"":String(t.slotScope),r="function(".concat(i,"){")+"return ".concat("template"===t.tag?t.if&&n?"(".concat(t.if,")?").concat(Bo(t,e)||"undefined",":undefined"):Bo(t,e)||"undefined":Lo(t,e),"}"),s=i?"":",proxy:true";return"{key:".concat(t.slotTarget||'"default"',",fn:").concat(r).concat(s,"}")}function Bo(t,e,n,i,r){var s=t.children;if(s.length){var a=s[0];if(1===s.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var o=n?e.maybeComponent(a)?",1":",0":"";return"".concat((i||Lo)(a,e)).concat(o)}var l=n?function(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(1===r.type){if(Uo(r)||r.ifConditions&&r.ifConditions.some((function(t){return Uo(t.block)}))){n=2;break}(e(r)||r.ifConditions&&r.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(s,e.maybeComponent):0,c=r||Ho;return"[".concat(s.map((function(t){return c(t,e)})).join(","),"]").concat(l?",".concat(l):"")}}function Uo(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Ho(t,e){return 1===t.type?Lo(t,e):3===t.type&&t.isComment?function(t){return"_e(".concat(JSON.stringify(t.text),")")}(t):"_v(".concat(2===(n=t).type?n.expression:qo(JSON.stringify(n.text)),")");var n}function Go(t){for(var e="",n="",i=0;i<t.length;i++){var r=t[i],s=qo(r.value);r.dynamic?n+="".concat(r.name,",").concat(s,","):e+='"'.concat(r.name,'":').concat(s,",")}return e="{".concat(e.slice(0,-1),"}"),n?"_d(".concat(e,",[").concat(n.slice(0,-1),"])"):e}function qo(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function Wo(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),F}}function Vo(t){var e=Object.create(null);return function(n,i,r){(i=M({},i)).warn;delete i.warn;var s=i.delimiters?String(i.delimiters)+n:n;if(e[s])return e[s];var a=t(n,i);var o={},l=[];return o.render=Wo(a.render,l),o.staticRenderFns=a.staticRenderFns.map((function(t){return Wo(t,l)})),e[s]=o}}var Ko,zo,Yo=(Ko=function(t,e){var n=Za(t.trim(),e);!1!==e.optimize&&mo(n,e);var i=Do(n,e);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(t){function e(e,n){var i=Object.create(t),r=[],s=[];if(n)for(var a in n.modules&&(i.modules=(t.modules||[]).concat(n.modules)),n.directives&&(i.directives=M(Object.create(t.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(i[a]=n[a]);i.warn=function(t,e,n){(n?s:r).push(t)};var o=Ko(e.trim(),i);return o.errors=r,o.tips=s,o}return{compile:e,compileToFunctions:Vo(e)}}),Qo=Yo(fo).compileToFunctions;function Xo(t){return(zo=zo||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',zo.innerHTML.indexOf("&#10;")>0}var Zo=!!tt&&Xo(!1),Jo=!!tt&&Xo(!0),tl=x((function(t){var e=Fi(t);return e&&e.innerHTML})),el=ai.prototype.$mount;ai.prototype.$mount=function(t,e){if((t=t&&Fi(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=tl(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(i){0;var r=Qo(i,{outputSourceRange:!1,shouldDecodeNewlines:Zo,shouldDecodeNewlinesForHref:Jo,delimiters:n.delimiters,comments:n.comments},this),s=r.render,a=r.staticRenderFns;n.render=s,n.staticRenderFns=a}}return el.call(this,t,e)},ai.compile=Qo;n(3587);var nl=n(629);var il=function(t){return t.message},rl=function(t){return t.reviewsMeta},sl=function(t){return t.reviews},al=function(t){return t.comments},ol=function(t){return t.images},ll=function(t){return t.notification},cl=function(t){return t.wishlist.length},ul=function(t){return t.wishlist},dl=function(t){return t.loggedIn},hl=function(t){return t.addresses},fl=function(t){return t.locations},pl=function(t){return t.voucher},ml=function(t){return t.total},gl=function(t){return t.shipping},vl=function(t){return t.default_shipping},yl=function(t){return t.errors},bl=function(t){return t.loadn},_l=function(t){return t.user},El=function(t){return t.showForm},Sl=function(t){return t.editMode},Tl=function(t){return t.userType},wl=function(t){return t.properties.filter((function(t){return!t.reservation_id}))},kl=function(t){return t.attributes},Cl=function(t){return t.propertyLoading},xl=function(t){return t.attributesCheckboxes},Al=function(t){return t.locationSearch},Il=function(t){return t.links},Dl=function(t){return t.next_page_url},Ll=function(t){return t.bookings},Pl=function(t){return t.bookingTotal},Ol=function(t){return t.bookingSubTotal},Rl=function(t){return t.bookingServicesTotal},Ml=function(t){return t.bookingPropertyServicesTotal},Nl=function(t){return t.meta},Fl=(n(6486),function(t,e){t.voucher.push(e)}),$l=function(t,e){t.message=e},jl=function(t,e){t.reviews=e},Bl=function(t,e){t.comments=e},Ul=function(t,e){t.loadn=e},Hl=function(t,e){t.reviewsMeta=e},Gl=function(t,e){t.showForm=e},ql=function(t,e){t.notification=e},Wl=function(t,e){t.message=null},Vl=function(t,e){t.wishlist=e},Kl=function(t,e){t.user=e},zl=function(t,e){t.loggedIn=e},Yl=function(t,e){t.editMode=e},Ql=function(t,e){t.errors=e},Xl=function(t,e){t.userType=e},Zl=function(t,e){t.properties=e},Jl=function(t,e){t.attributes=e},tc=function(t,e){t.properties=e},ec=function(t,e){t.propertyLoading=e},nc=function(t,e){t.attributesCheckboxes=e},ic=function(t,e){t.locationSearch=e},rc=function(t,e){t.links.push(e)},sc=function(t,e){t.next_page_url=e},ac=function(t,e){t.bookings=e},oc=function(t,e){t.bookingTotal=e},lc=function(t,e){t.bookingSubTotal=e},cc=function(t,e){t.bookingServicesTotal=e},uc=function(t,e){t.bookingPropertyServicesTotal=e},dc=function(t,e){t.meta=e},hc=n(9669),fc=n.n(hc);function pc(t){return pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(t)}function mc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==pc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==pc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===pc(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gc=function(t,e){var n=t.commit;n("setMessage",e),setTimeout((function(){n("clearMessage")}),3e3)},vc=function(t,e){var n=t.commit;fc().post("/checkout/coupon",{coupon:e}).then((function(t){return n("setCoupon",t.data),Promise.resolve()})).catch((function(t){}))},yc=function(t){for(var e=t.commit,n=document.querySelectorAll("input.filter-property:checked"),i=[],r=0;r<n.length;r++);for(r=0;r<n.length;r++)n[r].checked&&i.push(n[r].name+"="+n[r].value);e("setAttributesCheckboxes",i)},bc=function(t){var e=t.commit,n=[];document.querySelectorAll(".location-search").forEach((function(t,e){n.push(t.name+"="+t.value)})),e("setLocationSearch",n)},_c=function(t,e){var n=t.commit;return n("setPropertyLoading",!0),fc().get(e).then((function(t){return n("setProperties",t.data.data),n("setMeta",t.data.meta),n("setAttributes",t.data.attributes),n("setLinks",t.data.links),n("setNextPageUrl",t.data.links.next),n("setPropertyLoading",!1),jQuery((function(){$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})})),Promise.resolve()})).catch((function(t){n("setPropertyLoading",!1),n("setProperties",[])}))},Ec=function(t,e){(0,t.commit)("setCartMeta",e)},Sc=function(t,e){var n=t.commit,i=e.product_variation_id,r=e.quantity;return fc().post("/api/cart",{product_variation_id:i,quantity:r}).then((function(t){return n("setBooking",t.data),Promise.resolve()}))},Tc=function(t){var e=t.commit;return e("Loading",!0),fc().get("/api/cart").then((function(t){return e("setBooking",t.data),Promise.resolve()})).catch((function(){}))},wc=function(t,e){t.commit;var n=t.dispatch,i=e.property_id;e.context;return fc().post("/api/saved",{property_id:i}).then((function(t){return"added"==t.data.status?(document.querySelector(".is_not_saved_"+i).classList.add("d-none"),document.querySelector(".is_saved_"+i).classList.remove("d-none")):(document.querySelector(".is_saved_"+i).classList.add("d-none"),document.querySelector(".is_not_saved_"+i).classList.remove("d-none")),Promise.resolve()})).catch((function(t){n("flashMessage","Sorry your item could not be saved.Please try again")}))},kc=function(t,e){var n=t.commit,i=e.id;return fc().delete("/api/wishlist/delete/"+i).then((function(t){return n("appendToWishlist",t.data.data),Promise.resolve()}))},Cc=function(t,e){var n=t.commit,i=e.email,r=e.password,s=e.redirect,a=e.context;return fc().post("/login",{email:i,password:r}).then((function(t){return s&&(window.location.href=t.data.url),n("setLoggedIn",1),n("setUser",t.data.user),n("setShowForm",!1),n("setUserType",t.data.user_type),n("setEditMode",!0),Promise.resolve()})).catch((function(t){a.loading=!1,void 0!==t.response.data.errors?n("setFormErrors",t.response.data.error):n("setFormErrors",{general:"We could register you.Please try again later"})}))},xc=function(t,e){var n=t.commit,i=e.context,r=e.redirect,s=void 0!==r&&r;return fc().post("/register",i.form).then((function(t){s&&(window.location.href=t.data.url),n("setLoggedIn",1),n("setUser",t.data.user),n("setShowForm",!1),n("setUserType",t.data.user_type),n("setEditMode",!0)})).catch((function(t){i.loading=!1,void 0!==t.response.data.errors?n("setFormErrors",t.response.data.errors):n("setFormErrors",{general:"We could not register you.Please try again later"})}))},Ac=function(t,e){t.dispatch;var n=t.commit,i=e.form,r=e.id;return fc().put("/profile/"+r,{first_name:i.first_name,last_name:i.last_name,email:i.email,phone_number:i.phone_number}).then((function(t){return console.log(t),n("setShowForm",!1),n("setUser",t.data.user),n("setEditMode",!1),Promise.resolve()})).catch((function(){n("setShowForm",!0)}))},Ic=function(t,e){t.dispatch;var n=t.commit,i=e.form;return fc().post("/guests",{first_name:i.first_name,last_name:i.last_name,email:i.email,phone_number:i.phone_number}).then((function(t){return n("setLoggedIn",1),n("setShowForm",!1),n("setUser",t.data.guest_user),n("setUserType",t.data.user_type),Promise.resolve()})).catch((function(){n("setShowForm",!0)}))},Dc=function(t,e){var n=t.commit,i=e.context,r=e.booking_id,s=e.property_id,a=e.amount;fc().post("delete/"+r,{property_id:s}).then((function(t){var e=parseInt(t.data.data.total),r=parseInt(a)+e;return i.amount=r,console.log(i.amount),n("setBookingSubTotal",e),n("setBookings",t.data.data.bookings),n("setBookingTotal",r),Promise.resolve()}))},Lc=function(t,e){var n=t.commit,i=(t.dispatch,e.payload),r=e.context;return fc().put("/change/password",i).then((function(t){r.loading=!1,n("setMessage",t.data.message)})).catch((function(t){r.loading=!1,500!=t.response.status?t.response.data.errors&&(r.error=t.response.data.errors,n("setFormErrors",t.response.data.errors)):r.error="We could not change your password at the moment .Please try again"}))},Pc=function(t,e){var n=t.commit,i=e.payload,r=e.context;return fc().post("/reset/password",i).then((function(t){r.loading=!1,n("setMessage",t.data.message)})).catch((function(t){if(r.loading=!1,500==t.response.status)return r.error="We could not send your password reset link",void n("setFormErrors","We could not send your password reset link");t.response.data.errors&&n("setFormErrors",t.response.data.errors)}))},Oc=function(t,e){(0,t.commit)("addToLocations",e)},Rc=function(t,e){var n=t.commit;n("addToAddress",e.data.data),n("addToLocations",e.data.meta.countries),n("setShipping",e.data.meta.shipping),n("setDefaultShipping",e.data.meta.default_shipping)},Mc=function(t,e){var n=t.commit,i=e.payload,r=e.context;return fc().post("/password/reset/link",i).then((function(t){r.loading=!1,n("setMessage",t.data.message)})).catch((function(t){if(r.loading=!1,500!=t.response.status)t.response.data.errors&&n("setFormErrors",t.response.data.errors);else{n("setFormErrors",{general:"We could not send your password reset link"})}}))},Nc=function(t,e){var n=t.commit,i=(e.payload,e.context),r=e.form;return fc().post("/reviews/store",r).then((function(t){i.submiting=!1,n("setReviews",t.data.data)})).catch((function(t){if(i.submiting=!1,500!=t.response.status)t.response.data.errors&&n("setFormErrors",t.response.data.errors);else{n("setFormErrors",{general:"We could not send your password reset link"})}}))},Fc=function(t,e){var n=t.commit,i=(e.payload,e.context);return fc().post("/blog",i.form).then((function(t){i.submiting=!1,n("setComments",t.data.data)})).catch((function(t){if(i.submiting=!1,500!=t.response.status)t.response.data.errors&&n("setFormErrors",t.response.data.errors);else{n("setFormErrors",{general:"We could not send your password reset link"})}}))},$c=function(t,e){var n=t.commit,i=e.context;return fc().get("/reviews/"+i.product_slug).then((function(t){i.loading=!1,n("setReviews",t.data.data)})).catch((function(t){if(i.loading=!1,500!=t.response.status)t.response.data.errors&&n("setFormErrors",t.response.data.errors);else{n("setFormErrors",{general:"We could not send your password reset link"})}}))},jc=function(t){(0,t.commit)("setFormErrors",{})},Bc=function(t,e){t.commit;var n=e.context,i=(e.input,e.e.target.name);delete n.errors[i]},Uc=function(t,e){t.dispatch;var n,i=t.commit,r=e.context,s=e.input,a={},o=[];s.length&&s.forEach((function(t,e){if(console.log(t,e),""==t.value&&(n=t.name.split("_").join(" "),o=Object.assign({},o,mc({},t.name,n+"  is required"))),"email"==t.name){var i=t.value;Gc(i)||(a.email="Please enter a valid email")}if("phone_number"==t.name){var r=t.value;/^[0-9]+$/.test(r)||(a.phone_number="Please enter a valid phone number")}})),""!==r.form.password&&void 0!==r.form.password_confirmation&&""!==r.form.password_confirmation&&r.form.password!==r.form.password_confirmation&&(a.password_confirmation="Password do not match"),i("setFormErrors",o=Object.assign({},o,a))},Hc=function(t,e){var n=t.commit,i=e.context,r=e.input,s=e.e;Uc({commit:n},{context:i,input:r,e:s})},Gc=function(t){return qc().test(String(t).toLowerCase())},qc=function(){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};ai.use(nl.ZP);const Wc=new nl.ZP.Store({state:{message:null,wishlist:[],loggedIn:null,is_saved:[],addresses:[],regions:[],locations:[],voucher:[],errors:[],notification:null,reviews:[],reviewsMeta:null,comments:[],loadn:!1,images:[],showForm:!1,user:null,editMode:!1,userType:"",properties:[],attributes:[],propertyLoading:!0,attributesCheckboxes:[],locationSearch:[],links:[],next_page_url:null,bookings:[],bookingTotal:0,bookingSubTotal:0,bookingServicesTotal:0,bookingPropertyServicesTotal:0,meta:null},getters:i,mutations:r,actions:s});function Vc(t){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(t)}function Kc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==Vc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Vc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Vc(s)?s:String(s)),i)}var r,s}n(7333),window.flexslider=n(1065),n(7009),n(4517);var zc=n(9130).Z,Yc=n(5151).Z,Qc=n(2420).Z,Xc=n(8224).Z,Zc=n(5726).Z,Jc=n(4656).Z,tu=n(2082).Z,eu=n(7190).Z,nu=n(3129).Z,iu=n(3351).Z,ru=n(423).Z,su=n(9908).Z,au=n(6436).Z,ou=n(1747).Z,lu=n(9120).Z,cu=n(5272).Z,uu=n(8294).Z;$().ready((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})})),document.addEventListener("DOMContentLoaded",(function(){var t=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=new IntersectionObserver(this.handleIntersection.bind(this),e),this.dynamicClassesMap=new Map}var e,n,i;return e=t,n=[{key:"handleIntersection",value:function(t,e){var n=this;t.forEach((function(t){if(t.isIntersecting){var i=n.dynamicClassesMap.get(t.target);i&&(t.target.classList.remove("opacity-0"),i.forEach((function(e){return t.target.classList.add(e)})),e.unobserve(t.target))}}))}},{key:"observe",value:function(t){var e=this;t.forEach((function(t){var n=t.element,i=t.dynamicClasses;n&&document.body.contains(n)&&(e.observer.observe(n),e.dynamicClassesMap.set(n,i))}))}},{key:"unobserve",value:function(t){var e=this;t.forEach((function(t){e.observer.unobserve(t.element),e.dynamicClassesMap.delete(t.element)}))}}],n&&Kc(e.prototype,n),i&&Kc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),e=new t({threshold:.5}),n=[{id:"leftBox",dynamicClasses:["opacity-1","animate__animated","animate__fadeInLeftBig"]},{id:"rightBox",dynamicClasses:["opacity-1","animate__animated","animate__fadeInRightBig"]},{id:"tree",dynamicClasses:["opacity-1","animate__animated","animate__fadeInRightBig"]},{id:"intro-box",dynamicClasses:["opacity-1","animate__animated","animate__fadeInDown"]},{id:"intro-box2",dynamicClasses:["opacity-1","animate__animated","animate__fadeInLeftBig"]},{id:"products-section",dynamicClasses:["opacity-1","animate__animated","animate__fadeInRightBig"]},{id:"leftbox1",dynamicClasses:["opacity-1","animate__animated","animate__fadeInUp"]},{id:"rbox1",dynamicClasses:["opacity-1","animate__animated","animate__fadeInUp"]},{id:"box3",dynamicClasses:["opacity-1","animate__animated","animate__fadeInUp"]},{id:"box4",dynamicClasses:["opacity-1","animate__animated","animate__fadeInUp"]},{id:"lbox3",dynamicClasses:["opacity-1","animate__animated","animate__fadeInLeftBig","index-1"]},{id:"rbox3",dynamicClasses:["opacity-1","animate__animated","animate__fadeInRightBig"]},{id:"category-box",dynamicClasses:["opacity-1","animate__animated","animate__fadeInUp"]}].map((function(t){return{element:document.getElementById(t.id),dynamicClasses:t.dynamicClasses}}));e.observe(n)})),ai.filter("priceFormat",(function(t){return(new Intl.NumberFormat).format(t)}));new ai({el:"#app",store:Wc,data:Window.user,components:{RoomAvailable:zc,BookIndex:Yc,AddProperty:Qc,Location:uu,ProductsIndex:Zc,FilterSearch:Jc,PropertiesCount:tu,CategorySearch:Xc,SingleApartment:nu,MultipleApartments:au,Saved:cu,PropertyCreate:ou,DateRange:eu,ApartmentsIndex:ru,SearchApartments:su,SingleSearch:lu,IndexSearch:iu}});!function(t){jQuery((function(){t(".flexslider").flexslider({animation:"slide"}),t(".home-flexslider").flexslider({animation:"slide"}),jQuery((function(){t(".test-carousel").owlCarousel({margin:10,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})})),t(".cities-carousel.owl-theme").owlCarousel({loop:!0,margin:10,nav:!0,dots:!0,center:!0,navText:['<div class="nav-btn prev-slide"><svg width="31" height="50" viewBox="0 0 21 40" xmlns="http://www.w3.org/2000/svg"><path d="M19.9 40L1.3 20 19.9 0" stroke="#FFF" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>','<div class="nav-btn next-slide"><svg width="19" height="40" viewBox="0 0 19 40" xmlns="http://www.w3.org/2000/svg"><path d="M.1 0l18.6 20L.1 40" stroke="#FFF" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>'],responsive:{0:{items:1},600:{items:1},1e3:{items:2}}}),t(".main-slider").owlCarousel({loop:!0,margin:10,nav:!0,dots:!0,animateIn:"fadeIn",animateOut:"fadeOut",navText:['<div class="nav-btn prev-slide"><svg width="31" height="50" viewBox="0 0 21 40" xmlns="http://www.w3.org/2000/svg"><path d="M19.9 40L1.3 20 19.9 0" stroke="#FFF" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>','<div class="nav-btn next-slide"><svg width="19" height="40" viewBox="0 0 19 40" xmlns="http://www.w3.org/2000/svg"><path d="M.1 0l18.6 20L.1 40" stroke="#FFF" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>'],responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))}(jQuery)},3734:function(t,e,n){!function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=i(e),s=i(n);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l.apply(this,arguments)}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}var d="transitionend",h=1e6,f=1e3;function p(t){return null==t?""+t:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function m(){return{bindType:d,delegateType:d,handle:function(t){if(r.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function g(t){var e=this,n=!1;return r.default(this).one(y.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||y.triggerTransitionEnd(e)}),t),this}function v(){r.default.fn.emulateTransitionEnd=g,r.default.event.special[y.TRANSITION_END]=m()}var y={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(Math.random()*h)}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=r.default(t).css("transition-duration"),n=r.default(t).css("transition-delay"),i=parseFloat(e),s=parseFloat(n);return i||s?(e=e.split(",")[0],n=n.split(",")[0],(parseFloat(e)+parseFloat(n))*f):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){r.default(t).trigger(d)},supportsTransitionEnd:function(){return Boolean(d)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],s=e[i],a=s&&y.isElement(s)?"element":p(s);if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+r+'".')}},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?y.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(void 0===r.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=r.default.fn.jquery.split(" ")[0].split("."),e=1,n=2,i=9,s=1,a=4;if(t[0]<n&&t[1]<i||t[0]===e&&t[1]===i&&t[2]<s||t[0]>=a)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};y.jQueryDetection(),v();var b="alert",_="4.6.2",E="bs.alert",S="."+E,T=".data-api",w=r.default.fn[b],k="alert",C="fade",x="show",A="close"+S,I="closed"+S,D="click"+S+T,L='[data-dismiss="alert"]',P=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){r.default.removeData(this._element,E),this._element=null},e._getRootElement=function(t){var e=y.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=r.default(t).closest("."+k)[0]),n},e._triggerCloseEvent=function(t){var e=r.default.Event(A);return r.default(t).trigger(e),e},e._removeElement=function(t){var e=this;if(r.default(t).removeClass(x),r.default(t).hasClass(C)){var n=y.getTransitionDurationFromElement(t);r.default(t).one(y.TRANSITION_END,(function(n){return e._destroyElement(t,n)})).emulateTransitionEnd(n)}else this._destroyElement(t)},e._destroyElement=function(t){r.default(t).detach().trigger(I).remove()},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this),i=n.data(E);i||(i=new t(this),n.data(E,i)),"close"===e&&i[e](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(t,null,[{key:"VERSION",get:function(){return _}}]),t}();r.default(document).on(D,L,P._handleDismiss(new P)),r.default.fn[b]=P._jQueryInterface,r.default.fn[b].Constructor=P,r.default.fn[b].noConflict=function(){return r.default.fn[b]=w,P._jQueryInterface};var O="button",R="4.6.2",M="bs.button",N="."+M,F=".data-api",$=r.default.fn[O],j="active",B="btn",U="focus",H="click"+N+F,G="focus"+N+F+" blur"+N+F,q="load"+N+F,W='[data-toggle^="button"]',V='[data-toggle="buttons"]',K='[data-toggle="button"]',z='[data-toggle="buttons"] .btn',Y='input:not([type="hidden"])',Q=".active",X=".btn",Z=function(){function t(t){this._element=t,this.shouldAvoidTriggerChange=!1}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=r.default(this._element).closest(V)[0];if(n){var i=this._element.querySelector(Y);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(j))t=!1;else{var s=n.querySelector(Q);s&&r.default(s).removeClass(j)}t&&("checkbox"!==i.type&&"radio"!==i.type||(i.checked=!this._element.classList.contains(j)),this.shouldAvoidTriggerChange||r.default(i).trigger("change")),i.focus(),e=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(j)),t&&r.default(this._element).toggleClass(j))},e.dispose=function(){r.default.removeData(this._element,M),this._element=null},t._jQueryInterface=function(e,n){return this.each((function(){var i=r.default(this),s=i.data(M);s||(s=new t(this),i.data(M,s)),s.shouldAvoidTriggerChange=n,"toggle"===e&&s[e]()}))},o(t,null,[{key:"VERSION",get:function(){return R}}]),t}();r.default(document).on(H,W,(function(t){var e=t.target,n=e;if(r.default(e).hasClass(B)||(e=r.default(e).closest(X)[0]),!e||e.hasAttribute("disabled")||e.classList.contains("disabled"))t.preventDefault();else{var i=e.querySelector(Y);if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void t.preventDefault();"INPUT"!==n.tagName&&"LABEL"===e.tagName||Z._jQueryInterface.call(r.default(e),"toggle","INPUT"===n.tagName)}})).on(G,W,(function(t){var e=r.default(t.target).closest(X)[0];r.default(e).toggleClass(U,/^focus(in)?$/.test(t.type))})),r.default(window).on(q,(function(){for(var t=[].slice.call(document.querySelectorAll(z)),e=0,n=t.length;e<n;e++){var i=t[e],r=i.querySelector(Y);r.checked||r.hasAttribute("checked")?i.classList.add(j):i.classList.remove(j)}for(var s=0,a=(t=[].slice.call(document.querySelectorAll(K))).length;s<a;s++){var o=t[s];"true"===o.getAttribute("aria-pressed")?o.classList.add(j):o.classList.remove(j)}})),r.default.fn[O]=Z._jQueryInterface,r.default.fn[O].Constructor=Z,r.default.fn[O].noConflict=function(){return r.default.fn[O]=$,Z._jQueryInterface};var J="carousel",tt="4.6.2",et="bs.carousel",nt="."+et,it=".data-api",rt=r.default.fn[J],st=37,at=39,ot=500,lt=40,ct="carousel",ut="active",dt="slide",ht="carousel-item-right",ft="carousel-item-left",pt="carousel-item-next",mt="carousel-item-prev",gt="pointer-event",vt="next",yt="prev",bt="left",_t="right",Et="slide"+nt,St="slid"+nt,Tt="keydown"+nt,wt="mouseenter"+nt,kt="mouseleave"+nt,Ct="touchstart"+nt,xt="touchmove"+nt,At="touchend"+nt,It="pointerdown"+nt,Dt="pointerup"+nt,Lt="dragstart"+nt,Pt="load"+nt+it,Ot="click"+nt+it,Rt=".active",Mt=".active.carousel-item",Nt=".carousel-item",Ft=".carousel-item img",$t=".carousel-item-next, .carousel-item-prev",jt=".carousel-indicators",Bt="[data-slide], [data-slide-to]",Ut='[data-ride="carousel"]',Ht={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Gt={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},qt={TOUCH:"touch",PEN:"pen"},Wt=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(jt),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(vt)},e.nextWhenVisible=function(){var t=r.default(this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(yt)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector($t)&&(y.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(Mt);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)r.default(this._element).one(St,(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var i=t>n?vt:yt;this._slide(i,this._items[t])}},e.dispose=function(){r.default(this._element).off(nt),r.default.removeData(this._element,et),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=l({},Ht,t),y.typeCheckConfig(J,t,Gt),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=lt)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&r.default(this._element).on(Tt,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&r.default(this._element).on(wt,(function(e){return t.pause(e)})).on(kt,(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&qt[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){t.touchDeltaX=e.originalEvent.touches&&e.originalEvent.touches.length>1?0:e.originalEvent.touches[0].clientX-t.touchStartX},i=function(e){t._pointerEvent&&qt[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),ot+t._config.interval))};r.default(this._element.querySelectorAll(Ft)).on(Lt,(function(t){return t.preventDefault()})),this._pointerEvent?(r.default(this._element).on(It,(function(t){return e(t)})),r.default(this._element).on(Dt,(function(t){return i(t)})),this._element.classList.add(gt)):(r.default(this._element).on(Ct,(function(t){return e(t)})),r.default(this._element).on(xt,(function(t){return n(t)})),r.default(this._element).on(At,(function(t){return i(t)})))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case st:t.preventDefault(),this.prev();break;case at:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(Nt)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===vt,i=t===yt,r=this._getItemIndex(e),s=this._items.length-1;if((i&&0===r||n&&r===s)&&!this._config.wrap)return e;var a=(r+(t===yt?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector(Mt)),s=r.default.Event(Et,{relatedTarget:t,direction:e,from:i,to:n});return r.default(this._element).trigger(s),s},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(Rt));r.default(e).removeClass(ut);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&r.default(n).addClass(ut)}},e._updateInterval=function(){var t=this._activeElement||this._element.querySelector(Mt);if(t){var e=parseInt(t.getAttribute("data-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}},e._slide=function(t,e){var n,i,s,a=this,o=this._element.querySelector(Mt),l=this._getItemIndex(o),c=e||o&&this._getItemByDirection(t,o),u=this._getItemIndex(c),d=Boolean(this._interval);if(t===vt?(n=ft,i=pt,s=bt):(n=ht,i=mt,s=_t),c&&r.default(c).hasClass(ut))this._isSliding=!1;else if(!this._triggerSlideEvent(c,s).isDefaultPrevented()&&o&&c){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(c),this._activeElement=c;var h=r.default.Event(St,{relatedTarget:c,direction:s,from:l,to:u});if(r.default(this._element).hasClass(dt)){r.default(c).addClass(i),y.reflow(c),r.default(o).addClass(n),r.default(c).addClass(n);var f=y.getTransitionDurationFromElement(o);r.default(o).one(y.TRANSITION_END,(function(){r.default(c).removeClass(n+" "+i).addClass(ut),r.default(o).removeClass(ut+" "+i+" "+n),a._isSliding=!1,setTimeout((function(){return r.default(a._element).trigger(h)}),0)})).emulateTransitionEnd(f)}else r.default(o).removeClass(ut),r.default(c).addClass(ut),this._isSliding=!1,r.default(this._element).trigger(h);d&&this.cycle()}},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this).data(et),i=l({},Ht,r.default(this).data());"object"==typeof e&&(i=l({},i,e));var s="string"==typeof e?e:i.slide;if(n||(n=new t(this,i),r.default(this).data(et,n)),"number"==typeof e)n.to(e);else if("string"==typeof s){if(void 0===n[s])throw new TypeError('No method named "'+s+'"');n[s]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}))},t._dataApiClickHandler=function(e){var n=y.getSelectorFromElement(this);if(n){var i=r.default(n)[0];if(i&&r.default(i).hasClass(ct)){var s=l({},r.default(i).data(),r.default(this).data()),a=this.getAttribute("data-slide-to");a&&(s.interval=!1),t._jQueryInterface.call(r.default(i),s),a&&r.default(i).data(et).to(a),e.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return tt}},{key:"Default",get:function(){return Ht}}]),t}();r.default(document).on(Ot,Bt,Wt._dataApiClickHandler),r.default(window).on(Pt,(function(){for(var t=[].slice.call(document.querySelectorAll(Ut)),e=0,n=t.length;e<n;e++){var i=r.default(t[e]);Wt._jQueryInterface.call(i,i.data())}})),r.default.fn[J]=Wt._jQueryInterface,r.default.fn[J].Constructor=Wt,r.default.fn[J].noConflict=function(){return r.default.fn[J]=rt,Wt._jQueryInterface};var Vt="collapse",Kt="4.6.2",zt="bs.collapse",Yt="."+zt,Qt=".data-api",Xt=r.default.fn[Vt],Zt="show",Jt="collapse",te="collapsing",ee="collapsed",ne="width",ie="height",re="show"+Yt,se="shown"+Yt,ae="hide"+Yt,oe="hidden"+Yt,le="click"+Yt+Qt,ce=".show, .collapsing",ue='[data-toggle="collapse"]',de={toggle:!0,parent:""},he={toggle:"boolean",parent:"(string|element)"},fe=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(ue)),i=0,r=n.length;i<r;i++){var s=n[i],a=y.getSelectorFromElement(s),o=[].slice.call(document.querySelectorAll(a)).filter((function(e){return e===t}));null!==a&&o.length>0&&(this._selector=a,this._triggerArray.push(s))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){r.default(this._element).hasClass(Zt)?this.hide():this.show()},e.show=function(){var e,n,i=this;if(!(this._isTransitioning||r.default(this._element).hasClass(Zt)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(ce)).filter((function(t){return"string"==typeof i._config.parent?t.getAttribute("data-parent")===i._config.parent:t.classList.contains(Jt)}))).length&&(e=null),e&&(n=r.default(e).not(this._selector).data(zt))&&n._isTransitioning))){var s=r.default.Event(re);if(r.default(this._element).trigger(s),!s.isDefaultPrevented()){e&&(t._jQueryInterface.call(r.default(e).not(this._selector),"hide"),n||r.default(e).data(zt,null));var a=this._getDimension();r.default(this._element).removeClass(Jt).addClass(te),this._element.style[a]=0,this._triggerArray.length&&r.default(this._triggerArray).removeClass(ee).attr("aria-expanded",!0),this.setTransitioning(!0);var o=function(){r.default(i._element).removeClass(te).addClass(Jt+" "+Zt),i._element.style[a]="",i.setTransitioning(!1),r.default(i._element).trigger(se)},l="scroll"+(a[0].toUpperCase()+a.slice(1)),c=y.getTransitionDurationFromElement(this._element);r.default(this._element).one(y.TRANSITION_END,o).emulateTransitionEnd(c),this._element.style[a]=this._element[l]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&r.default(this._element).hasClass(Zt)){var e=r.default.Event(ae);if(r.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",y.reflow(this._element),r.default(this._element).addClass(te).removeClass(Jt+" "+Zt);var i=this._triggerArray.length;if(i>0)for(var s=0;s<i;s++){var a=this._triggerArray[s],o=y.getSelectorFromElement(a);null!==o&&(r.default([].slice.call(document.querySelectorAll(o))).hasClass(Zt)||r.default(a).addClass(ee).attr("aria-expanded",!1))}this.setTransitioning(!0);var l=function(){t.setTransitioning(!1),r.default(t._element).removeClass(te).addClass(Jt).trigger(oe)};this._element.style[n]="";var c=y.getTransitionDurationFromElement(this._element);r.default(this._element).one(y.TRANSITION_END,l).emulateTransitionEnd(c)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){r.default.removeData(this._element,zt),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=l({},de,t)).toggle=Boolean(t.toggle),y.typeCheckConfig(Vt,t,he),t},e._getDimension=function(){return r.default(this._element).hasClass(ne)?ne:ie},e._getParent=function(){var e,n=this;y.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',s=[].slice.call(e.querySelectorAll(i));return r.default(s).each((function(e,i){n._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])})),e},e._addAriaAndCollapsedClass=function(t,e){var n=r.default(t).hasClass(Zt);e.length&&r.default(e).toggleClass(ee,!n).attr("aria-expanded",n)},t._getTargetFromElement=function(t){var e=y.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this),i=n.data(zt),s=l({},de,n.data(),"object"==typeof e&&e?e:{});if(!i&&s.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(s.toggle=!1),i||(i=new t(this,s),n.data(zt,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},o(t,null,[{key:"VERSION",get:function(){return Kt}},{key:"Default",get:function(){return de}}]),t}();r.default(document).on(le,ue,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=r.default(this),n=y.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));r.default(i).each((function(){var t=r.default(this),n=t.data(zt)?"toggle":e.data();fe._jQueryInterface.call(t,n)}))})),r.default.fn[Vt]=fe._jQueryInterface,r.default.fn[Vt].Constructor=fe,r.default.fn[Vt].noConflict=function(){return r.default.fn[Vt]=Xt,fe._jQueryInterface};var pe="dropdown",me="4.6.2",ge="bs.dropdown",ve="."+ge,ye=".data-api",be=r.default.fn[pe],_e=27,Ee=32,Se=9,Te=38,we=40,ke=3,Ce=new RegExp(Te+"|"+we+"|"+_e),xe="disabled",Ae="show",Ie="dropup",De="dropright",Le="dropleft",Pe="dropdown-menu-right",Oe="position-static",Re="hide"+ve,Me="hidden"+ve,Ne="show"+ve,Fe="shown"+ve,$e="click"+ve,je="click"+ve+ye,Be="keydown"+ve+ye,Ue="keyup"+ve+ye,He='[data-toggle="dropdown"]',Ge=".dropdown form",qe=".dropdown-menu",We=".navbar-nav",Ve=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ke="top-start",ze="top-end",Ye="bottom-start",Qe="bottom-end",Xe="right-start",Ze="left-start",Je={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},tn={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},en=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!r.default(this._element).hasClass(xe)){var e=r.default(this._menu).hasClass(Ae);t._clearMenus(),e||this.show(!0)}},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||r.default(this._element).hasClass(xe)||r.default(this._menu).hasClass(Ae))){var n={relatedTarget:this._element},i=r.default.Event(Ne,n),a=t._getParentFromElement(this._element);if(r.default(a).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===s.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var o=this._element;"parent"===this._config.reference?o=a:y.isElement(this._config.reference)&&(o=this._config.reference,void 0!==this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&r.default(a).addClass(Oe),this._popper=new s.default(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===r.default(a).closest(We).length&&r.default(document.body).children().on("mouseover",null,r.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),r.default(this._menu).toggleClass(Ae),r.default(a).toggleClass(Ae).trigger(r.default.Event(Fe,n))}}},e.hide=function(){if(!this._element.disabled&&!r.default(this._element).hasClass(xe)&&r.default(this._menu).hasClass(Ae)){var e={relatedTarget:this._element},n=r.default.Event(Re,e),i=t._getParentFromElement(this._element);r.default(i).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),r.default(this._menu).toggleClass(Ae),r.default(i).toggleClass(Ae).trigger(r.default.Event(Me,e)))}},e.dispose=function(){r.default.removeData(this._element,ge),r.default(this._element).off(ve),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;r.default(this._element).on($e,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},e._getConfig=function(t){return t=l({},this.constructor.Default,r.default(this._element).data(),t),y.typeCheckConfig(pe,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(qe))}return this._menu},e._getPlacement=function(){var t=r.default(this._element.parentNode),e=Ye;return t.hasClass(Ie)?e=r.default(this._menu).hasClass(Pe)?ze:Ke:t.hasClass(De)?e=Xe:t.hasClass(Le)?e=Ze:r.default(this._menu).hasClass(Pe)&&(e=Qe),e},e._detectNavbar=function(){return r.default(this._element).closest(".navbar").length>0},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t._config.offset(e.offsets,t._element)),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),l({},t,this._config.popperConfig)},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this).data(ge);if(n||(n=new t(this,"object"==typeof e?e:null),r.default(this).data(ge,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t._clearMenus=function(e){if(!e||e.which!==ke&&("keyup"!==e.type||e.which===Se))for(var n=[].slice.call(document.querySelectorAll(He)),i=0,s=n.length;i<s;i++){var a=t._getParentFromElement(n[i]),o=r.default(n[i]).data(ge),l={relatedTarget:n[i]};if(e&&"click"===e.type&&(l.clickEvent=e),o){var c=o._menu;if(r.default(a).hasClass(Ae)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&e.which===Se)&&r.default.contains(a,e.target))){var u=r.default.Event(Re,l);r.default(a).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),n[i].setAttribute("aria-expanded","false"),o._popper&&o._popper.destroy(),r.default(c).removeClass(Ae),r.default(a).removeClass(Ae).trigger(r.default.Event(Me,l)))}}}},t._getParentFromElement=function(t){var e,n=y.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if(!(/input|textarea/i.test(e.target.tagName)?e.which===Ee||e.which!==_e&&(e.which!==we&&e.which!==Te||r.default(e.target).closest(qe).length):!Ce.test(e.which))&&!this.disabled&&!r.default(this).hasClass(xe)){var n=t._getParentFromElement(this),i=r.default(n).hasClass(Ae);if(i||e.which!==_e){if(e.preventDefault(),e.stopPropagation(),!i||e.which===_e||e.which===Ee)return e.which===_e&&r.default(n.querySelector(He)).trigger("focus"),void r.default(this).trigger("click");var s=[].slice.call(n.querySelectorAll(Ve)).filter((function(t){return r.default(t).is(":visible")}));if(0!==s.length){var a=s.indexOf(e.target);e.which===Te&&a>0&&a--,e.which===we&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}}},o(t,null,[{key:"VERSION",get:function(){return me}},{key:"Default",get:function(){return Je}},{key:"DefaultType",get:function(){return tn}}]),t}();r.default(document).on(Be,He,en._dataApiKeydownHandler).on(Be,qe,en._dataApiKeydownHandler).on(je+" "+Ue,en._clearMenus).on(je,He,(function(t){t.preventDefault(),t.stopPropagation(),en._jQueryInterface.call(r.default(this),"toggle")})).on(je,Ge,(function(t){t.stopPropagation()})),r.default.fn[pe]=en._jQueryInterface,r.default.fn[pe].Constructor=en,r.default.fn[pe].noConflict=function(){return r.default.fn[pe]=be,en._jQueryInterface};var nn="modal",rn="4.6.2",sn="bs.modal",an="."+sn,on=".data-api",ln=r.default.fn[nn],cn=27,un="modal-dialog-scrollable",dn="modal-scrollbar-measure",hn="modal-backdrop",fn="modal-open",pn="fade",mn="show",gn="modal-static",vn="hide"+an,yn="hidePrevented"+an,bn="hidden"+an,_n="show"+an,En="shown"+an,Sn="focusin"+an,Tn="resize"+an,wn="click.dismiss"+an,kn="keydown.dismiss"+an,Cn="mouseup.dismiss"+an,xn="mousedown.dismiss"+an,An="click"+an+on,In=".modal-dialog",Dn=".modal-body",Ln='[data-toggle="modal"]',Pn='[data-dismiss="modal"]',On=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Rn=".sticky-top",Mn={backdrop:!0,keyboard:!0,focus:!0,show:!0},Nn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Fn=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(In),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){var n=r.default.Event(_n,{relatedTarget:t});r.default(this._element).trigger(n),n.isDefaultPrevented()||(this._isShown=!0,r.default(this._element).hasClass(pn)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),r.default(this._element).on(wn,Pn,(function(t){return e.hide(t)})),r.default(this._dialog).on(xn,(function(){r.default(e._element).one(Cn,(function(t){r.default(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=r.default.Event(vn);if(r.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=r.default(this._element).hasClass(pn);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),r.default(document).off(Sn),r.default(this._element).removeClass(mn),r.default(this._element).off(wn),r.default(this._dialog).off(xn),i){var s=y.getTransitionDurationFromElement(this._element);r.default(this._element).one(y.TRANSITION_END,(function(t){return e._hideModal(t)})).emulateTransitionEnd(s)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return r.default(t).off(an)})),r.default(document).off(Sn),r.default.removeData(this._element,sn),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=l({},Mn,t),y.typeCheckConfig(nn,t,Nn),t},e._triggerBackdropTransition=function(){var t=this,e=r.default.Event(yn);if(r.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(gn);var i=y.getTransitionDurationFromElement(this._dialog);r.default(this._element).off(y.TRANSITION_END),r.default(this._element).one(y.TRANSITION_END,(function(){t._element.classList.remove(gn),n||r.default(t._element).one(y.TRANSITION_END,(function(){t._element.style.overflowY=""})).emulateTransitionEnd(t._element,i)})).emulateTransitionEnd(i),this._element.focus()}},e._showElement=function(t){var e=this,n=r.default(this._element).hasClass(pn),i=this._dialog?this._dialog.querySelector(Dn):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),r.default(this._dialog).hasClass(un)&&i?i.scrollTop=0:this._element.scrollTop=0,n&&y.reflow(this._element),r.default(this._element).addClass(mn),this._config.focus&&this._enforceFocus();var s=r.default.Event(En,{relatedTarget:t}),a=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,r.default(e._element).trigger(s)};if(n){var o=y.getTransitionDurationFromElement(this._dialog);r.default(this._dialog).one(y.TRANSITION_END,a).emulateTransitionEnd(o)}else a()},e._enforceFocus=function(){var t=this;r.default(document).off(Sn).on(Sn,(function(e){document!==e.target&&t._element!==e.target&&0===r.default(t._element).has(e.target).length&&t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown?r.default(this._element).on(kn,(function(e){t._config.keyboard&&e.which===cn?(e.preventDefault(),t.hide()):t._config.keyboard||e.which!==cn||t._triggerBackdropTransition()})):this._isShown||r.default(this._element).off(kn)},e._setResizeEvent=function(){var t=this;this._isShown?r.default(window).on(Tn,(function(e){return t.handleUpdate(e)})):r.default(window).off(Tn)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){r.default(document.body).removeClass(fn),t._resetAdjustments(),t._resetScrollbar(),r.default(t._element).trigger(bn)}))},e._removeBackdrop=function(){this._backdrop&&(r.default(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=r.default(this._element).hasClass(pn)?pn:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=hn,n&&this._backdrop.classList.add(n),r.default(this._backdrop).appendTo(document.body),r.default(this._element).on(wn,(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._triggerBackdropTransition():e.hide())})),n&&y.reflow(this._backdrop),r.default(this._backdrop).addClass(mn),!t)return;if(!n)return void t();var i=y.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(y.TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){r.default(this._backdrop).removeClass(mn);var s=function(){e._removeBackdrop(),t&&t()};if(r.default(this._element).hasClass(pn)){var a=y.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(y.TRANSITION_END,s).emulateTransitionEnd(a)}else s()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(On)),n=[].slice.call(document.querySelectorAll(Rn));r.default(e).each((function(e,n){var i=n.style.paddingRight,s=r.default(n).css("padding-right");r.default(n).data("padding-right",i).css("padding-right",parseFloat(s)+t._scrollbarWidth+"px")})),r.default(n).each((function(e,n){var i=n.style.marginRight,s=r.default(n).css("margin-right");r.default(n).data("margin-right",i).css("margin-right",parseFloat(s)-t._scrollbarWidth+"px")}));var i=document.body.style.paddingRight,s=r.default(document.body).css("padding-right");r.default(document.body).data("padding-right",i).css("padding-right",parseFloat(s)+this._scrollbarWidth+"px")}r.default(document.body).addClass(fn)},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(On));r.default(t).each((function(t,e){var n=r.default(e).data("padding-right");r.default(e).removeData("padding-right"),e.style.paddingRight=n||""}));var e=[].slice.call(document.querySelectorAll(""+Rn));r.default(e).each((function(t,e){var n=r.default(e).data("margin-right");void 0!==n&&r.default(e).css("margin-right",n).removeData("margin-right")}));var n=r.default(document.body).data("padding-right");r.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=dn,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each((function(){var i=r.default(this).data(sn),s=l({},Mn,r.default(this).data(),"object"==typeof e&&e?e:{});if(i||(i=new t(this,s),r.default(this).data(sn,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e](n)}else s.show&&i.show(n)}))},o(t,null,[{key:"VERSION",get:function(){return rn}},{key:"Default",get:function(){return Mn}}]),t}();r.default(document).on(An,Ln,(function(t){var e,n=this,i=y.getSelectorFromElement(this);i&&(e=document.querySelector(i));var s=r.default(e).data(sn)?"toggle":l({},r.default(e).data(),r.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=r.default(e).one(_n,(function(t){t.isDefaultPrevented()||a.one(bn,(function(){r.default(n).is(":visible")&&n.focus()}))}));Fn._jQueryInterface.call(r.default(e),s,this)})),r.default.fn[nn]=Fn._jQueryInterface,r.default.fn[nn].Constructor=Fn,r.default.fn[nn].noConflict=function(){return r.default.fn[nn]=ln,Fn._jQueryInterface};var $n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],jn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Un=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Hn(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===$n.indexOf(n)||Boolean(Bn.test(t.nodeValue)||Un.test(t.nodeValue));for(var i=e.filter((function(t){return t instanceof RegExp})),r=0,s=i.length;r<s;r++)if(i[r].test(n))return!0;return!1}function Gn(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),s=[].slice.call(i.body.querySelectorAll("*")),a=function(t,n){var i=s[t],a=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var o=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[a]||[]);o.forEach((function(t){Hn(t,l)||i.removeAttribute(t.nodeName)}))},o=0,l=s.length;o<l;o++)a(o);return i.body.innerHTML}var qn="tooltip",Wn="4.6.2",Vn="bs.tooltip",Kn="."+Vn,zn=r.default.fn[qn],Yn="bs-tooltip",Qn=new RegExp("(^|\\s)"+Yn+"\\S+","g"),Xn=["sanitize","whiteList","sanitizeFn"],Zn="fade",Jn="show",ti="show",ei="out",ni=".tooltip-inner",ii=".arrow",ri="hover",si="focus",ai="click",oi="manual",li={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ci={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:jn,popperConfig:null},ui={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},di={HIDE:"hide"+Kn,HIDDEN:"hidden"+Kn,SHOW:"show"+Kn,SHOWN:"shown"+Kn,INSERTED:"inserted"+Kn,CLICK:"click"+Kn,FOCUSIN:"focusin"+Kn,FOCUSOUT:"focusout"+Kn,MOUSEENTER:"mouseenter"+Kn,MOUSELEAVE:"mouseleave"+Kn},hi=function(){function t(t,e){if(void 0===s.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=r.default(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),r.default(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(r.default(this.getTipElement()).hasClass(Jn))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),r.default.removeData(this.element,this.constructor.DATA_KEY),r.default(this.element).off(this.constructor.EVENT_KEY),r.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&r.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===r.default(this.element).css("display"))throw new Error("Please use show on visible elements");var e=r.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){r.default(this.element).trigger(e);var n=y.findShadowRoot(this.element),i=r.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!i)return;var a=this.getTipElement(),o=y.getUID(this.constructor.NAME);a.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&r.default(a).addClass(Zn);var l="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var u=this._getContainer();r.default(a).data(this.constructor.DATA_KEY,this),r.default.contains(this.element.ownerDocument.documentElement,this.tip)||r.default(a).appendTo(u),r.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new s.default(this.element,a,this._getPopperConfig(c)),r.default(a).addClass(Jn),r.default(a).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&r.default(document.body).children().on("mouseover",null,r.default.noop);var d=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,r.default(t.element).trigger(t.constructor.Event.SHOWN),e===ei&&t._leave(null,t)};if(r.default(this.tip).hasClass(Zn)){var h=y.getTransitionDurationFromElement(this.tip);r.default(this.tip).one(y.TRANSITION_END,d).emulateTransitionEnd(h)}else d()}},e.hide=function(t){var e=this,n=this.getTipElement(),i=r.default.Event(this.constructor.Event.HIDE),s=function(){e._hoverState!==ti&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),r.default(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(r.default(this.element).trigger(i),!i.isDefaultPrevented()){if(r.default(n).removeClass(Jn),"ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),this._activeTrigger[ai]=!1,this._activeTrigger[si]=!1,this._activeTrigger[ri]=!1,r.default(this.tip).hasClass(Zn)){var a=y.getTransitionDurationFromElement(n);r.default(n).one(y.TRANSITION_END,s).emulateTransitionEnd(a)}else s();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){r.default(this.getTipElement()).addClass(Yn+"-"+t)},e.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(r.default(t.querySelectorAll(ni)),this.getTitle()),r.default(t).removeClass(Zn+" "+Jn)},e.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=Gn(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?r.default(e).parent().is(t)||t.empty().append(e):t.text(r.default(e).text())},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getPopperConfig=function(t){var e=this;return l({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:ii},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t.config.offset(e.offsets,t.element)),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:y.isElement(this.config.container)?r.default(this.config.container):r.default(document).find(this.config.container)},e._getAttachment=function(t){return li[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)r.default(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(e!==oi){var n=e===ri?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,i=e===ri?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;r.default(t.element).on(n,t.config.selector,(function(e){return t._enter(e)})).on(i,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},r.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||r.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),r.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?si:ri]=!0),r.default(e.getTipElement()).hasClass(Jn)||e._hoverState===ti?e._hoverState=ti:(clearTimeout(e._timeout),e._hoverState=ti,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){e._hoverState===ti&&e.show()}),e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||r.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),r.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?si:ri]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=ei,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){e._hoverState===ei&&e.hide()}),e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=r.default(this.element).data();return Object.keys(e).forEach((function(t){-1!==Xn.indexOf(t)&&delete e[t]})),"number"==typeof(t=l({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),y.typeCheckConfig(qn,t,this.constructor.DefaultType),t.sanitize&&(t.template=Gn(t.template,t.whiteList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=r.default(this.getTipElement()),e=t.attr("class").match(Qn);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(r.default(t).removeClass(Zn),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this),i=n.data(Vn),s="object"==typeof e&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new t(this,s),n.data(Vn,i)),"string"==typeof e)){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},o(t,null,[{key:"VERSION",get:function(){return Wn}},{key:"Default",get:function(){return ci}},{key:"NAME",get:function(){return qn}},{key:"DATA_KEY",get:function(){return Vn}},{key:"Event",get:function(){return di}},{key:"EVENT_KEY",get:function(){return Kn}},{key:"DefaultType",get:function(){return ui}}]),t}();r.default.fn[qn]=hi._jQueryInterface,r.default.fn[qn].Constructor=hi,r.default.fn[qn].noConflict=function(){return r.default.fn[qn]=zn,hi._jQueryInterface};var fi="popover",pi="4.6.2",mi="bs.popover",gi="."+mi,vi=r.default.fn[fi],yi="bs-popover",bi=new RegExp("(^|\\s)"+yi+"\\S+","g"),_i="fade",Ei="show",Si=".popover-header",Ti=".popover-body",wi=l({},hi.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ki=l({},hi.DefaultType,{content:"(string|element|function)"}),Ci={HIDE:"hide"+gi,HIDDEN:"hidden"+gi,SHOW:"show"+gi,SHOWN:"shown"+gi,INSERTED:"inserted"+gi,CLICK:"click"+gi,FOCUSIN:"focusin"+gi,FOCUSOUT:"focusout"+gi,MOUSEENTER:"mouseenter"+gi,MOUSELEAVE:"mouseleave"+gi},xi=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var n=e.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(t){r.default(this.getTipElement()).addClass(yi+"-"+t)},n.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},n.setContent=function(){var t=r.default(this.getTipElement());this.setElementContent(t.find(Si),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(Ti),e),t.removeClass(_i+" "+Ei)},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var t=r.default(this.getTipElement()),e=t.attr("class").match(bi);null!==e&&e.length>0&&t.removeClass(e.join(""))},e._jQueryInterface=function(t){return this.each((function(){var n=r.default(this).data(mi),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,i),r.default(this).data(mi,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(e,null,[{key:"VERSION",get:function(){return pi}},{key:"Default",get:function(){return wi}},{key:"NAME",get:function(){return fi}},{key:"DATA_KEY",get:function(){return mi}},{key:"Event",get:function(){return Ci}},{key:"EVENT_KEY",get:function(){return gi}},{key:"DefaultType",get:function(){return ki}}]),e}(hi);r.default.fn[fi]=xi._jQueryInterface,r.default.fn[fi].Constructor=xi,r.default.fn[fi].noConflict=function(){return r.default.fn[fi]=vi,xi._jQueryInterface};var Ai="scrollspy",Ii="4.6.2",Di="bs.scrollspy",Li="."+Di,Pi=".data-api",Oi=r.default.fn[Ai],Ri="dropdown-item",Mi="active",Ni="activate"+Li,Fi="scroll"+Li,$i="load"+Li+Pi,ji="offset",Bi="position",Ui='[data-spy="scroll"]',Hi=".nav, .list-group",Gi=".nav-link",qi=".nav-item",Wi=".list-group-item",Vi=".dropdown",Ki=".dropdown-item",zi=".dropdown-toggle",Yi={offset:10,method:"auto",target:""},Qi={offset:"number",method:"string",target:"(string|element)"},Xi=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+Gi+","+this._config.target+" "+Wi+","+this._config.target+" "+Ki,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,r.default(this._scrollElement).on(Fi,(function(t){return n._process(t)})),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?ji:Bi,n="auto"===this._config.method?e:this._config.method,i=n===Bi?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var e,s=y.getSelectorFromElement(t);if(s&&(e=document.querySelector(s)),e){var a=e.getBoundingClientRect();if(a.width||a.height)return[r.default(e)[n]().top+i,s]}return null})).filter(Boolean).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){r.default.removeData(this._element,Di),r.default(this._scrollElement).off(Li),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=l({},Yi,"object"==typeof t&&t?t:{})).target&&y.isElement(t.target)){var e=r.default(t.target).attr("id");e||(e=y.getUID(Ai),r.default(t.target).attr("id",e)),t.target="#"+e}return y.typeCheckConfig(Ai,t,Qi),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=r.default([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass(Ri)?(n.closest(Vi).find(zi).addClass(Mi),n.addClass(Mi)):(n.addClass(Mi),n.parents(Hi).prev(Gi+", "+Wi).addClass(Mi),n.parents(Hi).prev(qi).children(Gi).addClass(Mi)),r.default(this._scrollElement).trigger(Ni,{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains(Mi)})).forEach((function(t){return t.classList.remove(Mi)}))},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this).data(Di);if(n||(n=new t(this,"object"==typeof e&&e),r.default(this).data(Di,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},o(t,null,[{key:"VERSION",get:function(){return Ii}},{key:"Default",get:function(){return Yi}}]),t}();r.default(window).on($i,(function(){for(var t=[].slice.call(document.querySelectorAll(Ui)),e=t.length;e--;){var n=r.default(t[e]);Xi._jQueryInterface.call(n,n.data())}})),r.default.fn[Ai]=Xi._jQueryInterface,r.default.fn[Ai].Constructor=Xi,r.default.fn[Ai].noConflict=function(){return r.default.fn[Ai]=Oi,Xi._jQueryInterface};var Zi="tab",Ji="4.6.2",tr="bs.tab",er="."+tr,nr=".data-api",ir=r.default.fn[Zi],rr="dropdown-menu",sr="active",ar="disabled",or="fade",lr="show",cr="hide"+er,ur="hidden"+er,dr="show"+er,hr="shown"+er,fr="click"+er+nr,pr=".dropdown",mr=".nav, .list-group",gr=".active",vr="> li > .active",yr='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',br=".dropdown-toggle",_r="> .dropdown-menu .active",Er=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&r.default(this._element).hasClass(sr)||r.default(this._element).hasClass(ar)||this._element.hasAttribute("disabled"))){var e,n,i=r.default(this._element).closest(mr)[0],s=y.getSelectorFromElement(this._element);if(i){var a="UL"===i.nodeName||"OL"===i.nodeName?vr:gr;n=(n=r.default.makeArray(r.default(i).find(a)))[n.length-1]}var o=r.default.Event(cr,{relatedTarget:this._element}),l=r.default.Event(dr,{relatedTarget:n});if(n&&r.default(n).trigger(o),r.default(this._element).trigger(l),!l.isDefaultPrevented()&&!o.isDefaultPrevented()){s&&(e=document.querySelector(s)),this._activate(this._element,i);var c=function(){var e=r.default.Event(ur,{relatedTarget:t._element}),i=r.default.Event(hr,{relatedTarget:n});r.default(n).trigger(e),r.default(t._element).trigger(i)};e?this._activate(e,e.parentNode,c):c()}}},e.dispose=function(){r.default.removeData(this._element,tr),this._element=null},e._activate=function(t,e,n){var i=this,s=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?r.default(e).children(gr):r.default(e).find(vr))[0],a=n&&s&&r.default(s).hasClass(or),o=function(){return i._transitionComplete(t,s,n)};if(s&&a){var l=y.getTransitionDurationFromElement(s);r.default(s).removeClass(lr).one(y.TRANSITION_END,o).emulateTransitionEnd(l)}else o()},e._transitionComplete=function(t,e,n){if(e){r.default(e).removeClass(sr);var i=r.default(e.parentNode).find(_r)[0];i&&r.default(i).removeClass(sr),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}r.default(t).addClass(sr),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),y.reflow(t),t.classList.contains(or)&&t.classList.add(lr);var s=t.parentNode;if(s&&"LI"===s.nodeName&&(s=s.parentNode),s&&r.default(s).hasClass(rr)){var a=r.default(t).closest(pr)[0];if(a){var o=[].slice.call(a.querySelectorAll(br));r.default(o).addClass(sr)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this),i=n.data(tr);if(i||(i=new t(this),n.data(tr,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},o(t,null,[{key:"VERSION",get:function(){return Ji}}]),t}();r.default(document).on(fr,yr,(function(t){t.preventDefault(),Er._jQueryInterface.call(r.default(this),"show")})),r.default.fn[Zi]=Er._jQueryInterface,r.default.fn[Zi].Constructor=Er,r.default.fn[Zi].noConflict=function(){return r.default.fn[Zi]=ir,Er._jQueryInterface};var Sr="toast",Tr="4.6.2",wr="bs.toast",kr="."+wr,Cr=r.default.fn[Sr],xr="fade",Ar="hide",Ir="show",Dr="showing",Lr="click.dismiss"+kr,Pr="hide"+kr,Or="hidden"+kr,Rr="show"+kr,Mr="shown"+kr,Nr='[data-dismiss="toast"]',Fr={animation:!0,autohide:!0,delay:500},$r={animation:"boolean",autohide:"boolean",delay:"number"},jr=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this,e=r.default.Event(Rr);if(r.default(this._element).trigger(e),!e.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(xr);var n=function(){t._element.classList.remove(Dr),t._element.classList.add(Ir),r.default(t._element).trigger(Mr),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove(Ar),y.reflow(this._element),this._element.classList.add(Dr),this._config.animation){var i=y.getTransitionDurationFromElement(this._element);r.default(this._element).one(y.TRANSITION_END,n).emulateTransitionEnd(i)}else n()}},e.hide=function(){if(this._element.classList.contains(Ir)){var t=r.default.Event(Pr);r.default(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},e.dispose=function(){this._clearTimeout(),this._element.classList.contains(Ir)&&this._element.classList.remove(Ir),r.default(this._element).off(Lr),r.default.removeData(this._element,wr),this._element=null,this._config=null},e._getConfig=function(t){return t=l({},Fr,r.default(this._element).data(),"object"==typeof t&&t?t:{}),y.typeCheckConfig(Sr,t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;r.default(this._element).on(Lr,Nr,(function(){return t.hide()}))},e._close=function(){var t=this,e=function(){t._element.classList.add(Ar),r.default(t._element).trigger(Or)};if(this._element.classList.remove(Ir),this._config.animation){var n=y.getTransitionDurationFromElement(this._element);r.default(this._element).one(y.TRANSITION_END,e).emulateTransitionEnd(n)}else e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t._jQueryInterface=function(e){return this.each((function(){var n=r.default(this),i=n.data(wr);if(i||(i=new t(this,"object"==typeof e&&e),n.data(wr,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e](this)}}))},o(t,null,[{key:"VERSION",get:function(){return Tr}},{key:"DefaultType",get:function(){return $r}},{key:"Default",get:function(){return Fr}}]),t}();r.default.fn[Sr]=jr._jQueryInterface,r.default.fn[Sr].Constructor=jr,r.default.fn[Sr].noConflict=function(){return r.default.fn[Sr]=Cr,jr._jQueryInterface},t.Alert=P,t.Button=Z,t.Carousel=Wt,t.Collapse=fe,t.Dropdown=en,t.Modal=Fn,t.Popover=xi,t.Scrollspy=Xi,t.Tab=Er,t.Toast=jr,t.Tooltip=hi,t.Util=y,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(9755),n(8981))},5470:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,'.slick-track[data-v-e4caeaf8]{display:block;left:0;position:relative;top:0;transform:translateZ(0)}.slick-track.slick-center[data-v-e4caeaf8]{margin-left:auto;margin-right:auto}.slick-track[data-v-e4caeaf8]:after,.slick-track[data-v-e4caeaf8]:before{content:"";display:table}.slick-track[data-v-e4caeaf8]:after{clear:both}.slick-loading .slick-track[data-v-e4caeaf8]{visibility:hidden}.slick-slide[data-v-e4caeaf8]{display:none;float:left;height:100%;min-height:1px}[dir=rtl] .slick-slide[data-v-e4caeaf8]{float:right}.slick-slide img[data-v-e4caeaf8]{display:block}.slick-slide.slick-loading img[data-v-e4caeaf8]{display:none}.slick-slide.dragging img[data-v-e4caeaf8]{pointer-events:none}.slick-initialized .slick-slide[data-v-e4caeaf8]{display:block}.slick-loading .slick-slide[data-v-e4caeaf8]{visibility:hidden}.slick-vertical .slick-slide[data-v-e4caeaf8]{border:1px solid transparent;display:block;height:auto}.slick-arrow.slick-hidden[data-v-21137603]{display:none}.slick-slider[data-v-3d1a4f76]{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;box-sizing:border-box;display:block;position:relative;touch-action:pan-y;-webkit-user-select:none;-moz-user-select:none;user-select:none;-khtml-user-select:none}.slick-list[data-v-3d1a4f76]{display:block;margin:0;overflow:hidden;padding:0;position:relative;transform:translateZ(0)}.slick-list[data-v-3d1a4f76]:focus{outline:none}.slick-list.dragging[data-v-3d1a4f76]{cursor:pointer;cursor:hand}',""]);const s=r},6385:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".video-wrapper[data-v-22f1265d]{overflow:hidden}.video-preview[data-v-22f1265d],.video-wrapper[data-v-22f1265d]{position:relative}.video-play-btn[data-v-22f1265d]{align-content:center;align-items:center;align-self:center;background:rgba(0,0,0,.55);border-radius:50%;color:#fff;cursor:pointer;display:flex;font-size:21px;height:60px;justify-content:center;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60px}.custom-video[data-v-22f1265d]{height:245px;-o-object-fit:cover;object-fit:cover}.video-pill[data-v-22f1265d]{color:brown;font-size:small}.icon[data-v-22f1265d]{color:#000;margin-top:-2px;opacity:.8;vertical-align:middle}",""]);const s=r},9351:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".fixed[data-v-4bfff731]{height:100%;left:0;position:fixed;top:0;width:100%}.inset-0[data-v-4bfff731]{bottom:0;left:0;right:0;top:0}.min-h-screen[data-v-4bfff731]{min-height:100vh}.bg-opacity-75[data-v-4bfff731]{background-color:rgba(0,0,0,.75)}.modal-overlay[data-v-4bfff731]{align-items:center;background:rgba(0,0,0,.6);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1050}.custom-alert-modal[data-v-4bfff731]{animation:slideDown-4bfff731 .3s ease;background:#4b2e2e;border-radius:12px;box-shadow:0 8px 25px rgba(0,0,0,.3);color:#f5f5f5;max-width:480px;overflow:hidden;width:90%}.custom-alert-header[data-v-4bfff731]{align-items:center;background:#3b2424;color:#f8e6d8;display:flex;font-weight:700;padding:15px 20px;position:relative}.alert-icon[data-v-4bfff731]{font-size:1.4rem;margin-right:10px}.close-btn[data-v-4bfff731]{background:transparent;border:none;color:#f8e6d8;cursor:pointer;font-size:1.5rem;position:absolute;right:15px;top:10px}.custom-alert-body[data-v-4bfff731]{color:#f5f5f5;font-size:1.1rem;padding:20px;text-align:center}.custom-alert-footer[data-v-4bfff731]{background:#3b2424;padding:15px;text-align:center}.ok-btn[data-v-4bfff731]{background:#f5f5f5;border:none;border-radius:25px;color:#3b2424;cursor:pointer;font-weight:600;padding:10px 25px;transition:background .3s,color .3s}.ok-btn[data-v-4bfff731]:hover{background:tan;color:#fff}@keyframes slideDown-4bfff731{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.video-wrapper[data-v-4bfff731]{overflow:hidden}.video-preview[data-v-4bfff731],.video-wrapper[data-v-4bfff731]{position:relative}.video-play-btn[data-v-4bfff731]{align-content:center;align-items:center;align-self:center;background:rgba(0,0,0,.55);border-radius:50%;color:#fff;cursor:pointer;display:flex;font-size:21px;height:60px;justify-content:center;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60px}@media (min-width:1024px){.custom-video[data-v-4bfff731]{height:603px!important;-o-object-fit:cover;object-fit:cover}}.loader-grid[data-v-4bfff731]{display:grid;gap:24px;grid-template-columns:repeat(3,1fr)}@media (max-width:992px){.loader-grid[data-v-4bfff731]{grid-template-columns:repeat(2,1fr)}}@media (max-width:576px){.loader-grid[data-v-4bfff731]{grid-template-columns:1fr}}.post-loader[data-v-4bfff731]{background:#fff;border-radius:14px;overflow:hidden}.skeleton[data-v-4bfff731]{animation:shimmer-4bfff731 1.4s ease infinite;background:linear-gradient(90deg,#f1f5f9 25%,#e5e7eb 37%,#f1f5f9 63%);background-size:400% 100%;border-radius:8px}.skeleton-image[data-v-4bfff731]{border-radius:0;height:260px;width:100%}.loader-content[data-v-4bfff731]{padding:20px}.skeleton-title[data-v-4bfff731]{height:28px;margin-bottom:16px;width:40%}.skeleton-pill[data-v-4bfff731]{border-radius:12px;height:44px;margin-bottom:20px;width:100%}.skeleton-line[data-v-4bfff731]{height:16px;margin-bottom:12px;width:70%}.skeleton-line[data-v-4bfff731]:nth-child(odd){width:55%}.skeleton-price[data-v-4bfff731]{height:34px;margin-top:24px;width:30%}@keyframes shimmer-4bfff731{0%{background-position:100% 0}to{background-position:-100% 0}}",""]);const s=r},1703:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".fixed[data-v-3968ebde]{height:100%;left:0;position:fixed;top:0;width:100%}.inset-0[data-v-3968ebde]{bottom:0;left:0;right:0;top:0}.min-h-screen[data-v-3968ebde]{min-height:100vh}.bg-opacity-75[data-v-3968ebde]{background-color:rgba(0,0,0,.75)}",""]);const s=r},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var o=0;o<t.length;o++){var l=[].concat(t[o]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},6667:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>N});var i=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],r={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},s={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const a=s;var o=function(t,e){return void 0===e&&(e=2),("000"+t).slice(-1*e)},l=function(t){return!0===t?1:0};function c(t,e){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){return t.apply(i,r)}),e)}}var u=function(t){return t instanceof Array?t:[t]};function d(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function h(t,e,n){var i=window.document.createElement(t);return e=e||"",n=n||"",i.className=e,void 0!==n&&(i.textContent=n),i}function f(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function p(t,e){return e(t)?t:t.parentNode?p(t.parentNode,e):void 0}function m(t,e){var n=h("div","numInputWrapper"),i=h("input","numInput "+t),r=h("span","arrowUp"),s=h("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==e)for(var a in e)i.setAttribute(a,e[a]);return n.appendChild(i),n.appendChild(r),n.appendChild(s),n}function g(t){try{return"function"==typeof t.composedPath?t.composedPath()[0]:t.target}catch(e){return t.target}}var v=function(){},y=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},b={D:v,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*l(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e,n){var i=parseInt(e),r=new Date(t.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:v,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:v,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},_={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},E={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[E.w(t,e,n)]},F:function(t,e,n){return y(E.n(t,e,n)-1,!1,e)},G:function(t,e,n){return o(E.h(t,e,n))},H:function(t){return o(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[l(t.getHours()>11)]},M:function(t,e){return y(t.getMonth(),!0,e)},S:function(t){return o(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return o(t.getFullYear(),4)},d:function(t){return o(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return o(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return o(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},S=function(t){var e=t.config,n=void 0===e?r:e,i=t.l10n,a=void 0===i?s:i,o=t.isMobile,l=void 0!==o&&o;return function(t,e,i){var r=i||a;return void 0===n.formatDate||l?e.split("").map((function(e,i,s){return E[e]&&"\\"!==s[i-1]?E[e](t,r,n):"\\"!==e?e:""})).join(""):n.formatDate(t,e,r)}},T=function(t){var e=t.config,n=void 0===e?r:e,i=t.l10n,a=void 0===i?s:i;return function(t,e,i,s){if(0===t||t){var o,l=s||a,c=t;if(t instanceof Date)o=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)o=new Date(t);else if("string"==typeof t){var u=e||(n||r).dateFormat,d=String(t).trim();if("today"===d)o=new Date,i=!0;else if(n&&n.parseDate)o=n.parseDate(t,u);else if(/Z$/.test(d)||/GMT$/.test(d))o=new Date(t);else{for(var h=void 0,f=[],p=0,m=0,g="";p<u.length;p++){var v=u[p],y="\\"===v,E="\\"===u[p-1]||y;if(_[v]&&!E){g+=_[v];var S=new RegExp(g).exec(t);S&&(h=!0)&&f["Y"!==v?"push":"unshift"]({fn:b[v],val:S[++m]})}else y||(g+=".")}o=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach((function(t){var e=t.fn,n=t.val;return o=e(o,n,l)||o})),o=h?o:void 0}}if(o instanceof Date&&!isNaN(o.getTime()))return!0===i&&o.setHours(0,0,0,0),o;n.errorHandler(new Error("Invalid date provided: "+c))}}};function w(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var k=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)},C=function(t,e,n){return 3600*t+60*e+n},x=function(t){var e=Math.floor(t/3600),n=(t-3600*e)/60;return[e,n,t-3600*e-60*n]},A={DAY:864e5};function I(t){var e=t.defaultHour,n=t.defaultMinute,i=t.defaultSeconds;if(void 0!==t.minDate){var r=t.minDate.getHours(),s=t.minDate.getMinutes(),a=t.minDate.getSeconds();e<r&&(e=r),e===r&&n<s&&(n=s),e===r&&n===s&&i<a&&(i=t.minDate.getSeconds())}if(void 0!==t.maxDate){var o=t.maxDate.getHours(),l=t.maxDate.getMinutes();(e=Math.min(e,o))===o&&(n=Math.min(l,n)),e===o&&n===l&&(i=t.maxDate.getSeconds())}return{hours:e,minutes:n,seconds:i}}n(1895);var D=function(){return D=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},D.apply(this,arguments)},L=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,r++)i[r]=s[a];return i},P=300;function O(t,e){var n={config:D(D({},r),M.defaultConfig),l10n:a};function s(){var t;return(null===(t=n.calendarContainer)||void 0===t?void 0:t.getRootNode()).activeElement||document.activeElement}function v(t){return t.bind(n)}function b(){var t=n.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var e=(n.days.offsetWidth+1)*t.showMonths;n.daysContainer.style.width=e+"px",n.calendarContainer.style.width=e+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function E(t){if(0===n.selectedDates.length){var e=void 0===n.config.minDate||w(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),i=I(n.config);e.setHours(i.hours,i.minutes,i.seconds,e.getMilliseconds()),n.selectedDates=[e],n.latestSelectedDateObj=e}void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();var e="keydown"===t.type,i=g(t),r=i;void 0!==n.amPM&&i===n.amPM&&(n.amPM.textContent=n.l10n.amPM[l(n.amPM.textContent===n.l10n.amPM[0])]);var s=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),c=parseFloat(r.getAttribute("step")),u=parseInt(r.value,10),d=t.delta||(e?38===t.which?1:-1:0),h=u+c*d;if(void 0!==r.value&&2===r.value.length){var f=r===n.hourElement,p=r===n.minuteElement;h<s?(h=a+h+l(!f)+(l(f)&&l(!n.amPM)),p&&H(void 0,-1,n.hourElement)):h>a&&(h=r===n.hourElement?h-a-l(!n.amPM):s,p&&H(void 0,1,n.hourElement)),n.amPM&&f&&(1===c?h+u===23:Math.abs(h-u)>c)&&(n.amPM.textContent=n.l10n.amPM[l(n.amPM.textContent===n.l10n.amPM[0])]),r.value=o(h)}}(t);var r=n._input.value;O(),Ct(),n._input.value!==r&&n._debouncedChange()}function O(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var t,e,i=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(n.minuteElement.value,10)||0)%60,s=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(t=i,e=n.amPM.textContent,i=t%12+12*l(e===n.l10n.amPM[1]));var a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===w(n.latestSelectedDateObj,n.config.minDate,!0),o=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===w(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var c=C(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),u=C(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),d=C(i,r,s);if(d>u&&d<c){var h=x(c);i=h[0],r=h[1],s=h[2]}}else{if(o){var f=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(i=Math.min(i,f.getHours()))===f.getHours()&&(r=Math.min(r,f.getMinutes())),r===f.getMinutes()&&(s=Math.min(s,f.getSeconds()))}if(a){var p=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(i=Math.max(i,p.getHours()))===p.getHours()&&r<p.getMinutes()&&(r=p.getMinutes()),r===p.getMinutes()&&(s=Math.max(s,p.getSeconds()))}}N(i,r,s)}}function R(t){var e=t||n.latestSelectedDateObj;e&&e instanceof Date&&N(e.getHours(),e.getMinutes(),e.getSeconds())}function N(t,e,i){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(t%24,e,i||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=o(n.config.time_24hr?t:(12+t)%12+12*l(t%12==0)),n.minuteElement.value=o(e),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[l(t>=12)]),void 0!==n.secondElement&&(n.secondElement.value=o(i)))}function F(t){var e=g(t),n=parseInt(e.value)+(t.delta||0);(n/1e3>1||"Enter"===t.key&&!/[^\d]/.test(n.toString()))&&it(n)}function $(t,e,i,r){return e instanceof Array?e.forEach((function(e){return $(t,e,i,r)})):t instanceof Array?t.forEach((function(t){return $(t,e,i,r)})):(t.addEventListener(e,i,r),void n._handlers.push({remove:function(){return t.removeEventListener(e,i,r)}}))}function j(){Et("onChange")}function B(t,e){var i=void 0!==t?n.parseDate(t):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),r=n.currentYear,s=n.currentMonth;try{void 0!==i&&(n.currentYear=i.getFullYear(),n.currentMonth=i.getMonth())}catch(t){t.message="Invalid date supplied: "+i,n.config.errorHandler(t)}e&&n.currentYear!==r&&(Et("onYearChange"),Y()),!e||n.currentYear===r&&n.currentMonth===s||Et("onMonthChange"),n.redraw()}function U(t){var e=g(t);~e.className.indexOf("arrow")&&H(t,e.classList.contains("arrowUp")?1:-1)}function H(t,e,n){var i=t&&g(t),r=n||i&&i.parentNode&&i.parentNode.firstChild,s=St("increment");s.delta=e,r&&r.dispatchEvent(s)}function G(t,e,i,r){var s=rt(e,!0),a=h("span",t,e.getDate().toString());return a.dateObj=e,a.$i=r,a.setAttribute("aria-label",n.formatDate(e,n.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===w(e,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),s?(a.tabIndex=-1,Tt(e)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(d(a,"startRange",n.selectedDates[0]&&0===w(e,n.selectedDates[0],!0)),d(a,"endRange",n.selectedDates[1]&&0===w(e,n.selectedDates[1],!0)),"nextMonthDay"===t&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(t){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(w(t,n.selectedDates[0])>=0&&w(t,n.selectedDates[1])<=0)}(e)&&!Tt(e)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==t&&r%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(e)+"</span>"),Et("onDayCreate",a),a}function q(t){t.focus(),"range"===n.config.mode&&lt(t)}function W(t){for(var e=t>0?0:n.config.showMonths-1,i=t>0?n.config.showMonths:-1,r=e;r!=i;r+=t)for(var s=n.daysContainer.children[r],a=t>0?0:s.children.length-1,o=t>0?s.children.length:-1,l=a;l!=o;l+=t){var c=s.children[l];if(-1===c.className.indexOf("hidden")&&rt(c.dateObj))return c}}function V(t,e){var i=s(),r=st(i||document.body),a=void 0!==t?t:r?i:void 0!==n.selectedDateElem&&st(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&st(n.todayDateElem)?n.todayDateElem:W(e>0?1:-1);void 0===a?n._input.focus():r?function(t,e){for(var i=-1===t.className.indexOf("Month")?t.dateObj.getMonth():n.currentMonth,r=e>0?n.config.showMonths:-1,s=e>0?1:-1,a=i-n.currentMonth;a!=r;a+=s)for(var o=n.daysContainer.children[a],l=i-n.currentMonth===a?t.$i+e:e<0?o.children.length-1:0,c=o.children.length,u=l;u>=0&&u<c&&u!=(e>0?c:-1);u+=s){var d=o.children[u];if(-1===d.className.indexOf("hidden")&&rt(d.dateObj)&&Math.abs(t.$i-u)>=Math.abs(e))return q(d)}n.changeMonth(s),V(W(s),0)}(a,e):q(a)}function K(t,e){for(var i=(new Date(t,e,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r=n.utils.getDaysInMonth((e-1+12)%12,t),s=n.utils.getDaysInMonth(e,t),a=window.document.createDocumentFragment(),o=n.config.showMonths>1,l=o?"prevMonthDay hidden":"prevMonthDay",c=o?"nextMonthDay hidden":"nextMonthDay",u=r+1-i,d=0;u<=r;u++,d++)a.appendChild(G("flatpickr-day "+l,new Date(t,e-1,u),0,d));for(u=1;u<=s;u++,d++)a.appendChild(G("flatpickr-day",new Date(t,e,u),0,d));for(var f=s+1;f<=42-i&&(1===n.config.showMonths||d%7!=0);f++,d++)a.appendChild(G("flatpickr-day "+c,new Date(t,e+1,f%s),0,d));var p=h("div","dayContainer");return p.appendChild(a),p}function z(){if(void 0!==n.daysContainer){f(n.daysContainer),n.weekNumbers&&f(n.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<n.config.showMonths;e++){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e),t.appendChild(K(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(t),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&lt()}}function Y(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var t=function(t){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&t<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&t>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++)if(t(e)){var i=h("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,e).getMonth().toString(),i.textContent=y(e,n.config.shorthandCurrentMonth,n.l10n),i.tabIndex=-1,n.currentMonth===e&&(i.selected=!0),n.monthsDropdownContainer.appendChild(i)}}}function Q(){var t,e=h("div","flatpickr-month"),i=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?t=h("span","cur-month"):(n.monthsDropdownContainer=h("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),$(n.monthsDropdownContainer,"change",(function(t){var e=g(t),i=parseInt(e.value,10);n.changeMonth(i-n.currentMonth),Et("onMonthChange")})),Y(),t=n.monthsDropdownContainer);var r=m("cur-year",{tabindex:"-1"}),s=r.getElementsByTagName("input")[0];s.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&s.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(s.setAttribute("max",n.config.maxDate.getFullYear().toString()),s.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var a=h("div","flatpickr-current-month");return a.appendChild(t),a.appendChild(r),i.appendChild(a),e.appendChild(i),{container:e,yearElement:s,monthElement:t}}function X(){f(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var t=n.config.showMonths;t--;){var e=Q();n.yearElements.push(e.yearElement),n.monthElements.push(e.monthElement),n.monthNav.appendChild(e.container)}n.monthNav.appendChild(n.nextMonthNav)}function Z(){n.weekdayContainer?f(n.weekdayContainer):n.weekdayContainer=h("div","flatpickr-weekdays");for(var t=n.config.showMonths;t--;){var e=h("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(e)}return J(),n.weekdayContainer}function J(){if(n.weekdayContainer){var t=n.l10n.firstDayOfWeek,e=L(n.l10n.weekdays.shorthand);t>0&&t<e.length&&(e=L(e.splice(t,e.length),e.splice(0,t)));for(var i=n.config.showMonths;i--;)n.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function tt(t,e){void 0===e&&(e=!0);var i=e?t:t-n.currentMonth;i<0&&!0===n._hidePrevMonthArrow||i>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=i,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,Et("onYearChange"),Y()),z(),Et("onMonthChange"),wt())}function et(t){return n.calendarContainer.contains(t)}function nt(t){if(n.isOpen&&!n.config.inline){var e=g(t),i=et(e),r=!(e===n.input||e===n.altInput||n.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(n.input)||~t.path.indexOf(n.altInput)))&&!i&&!et(t.relatedTarget),s=!n.config.ignoredFocusElements.some((function(t){return t.contains(e)}));r&&s&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&E(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function it(t){if(!(!t||n.config.minDate&&t<n.config.minDate.getFullYear()||n.config.maxDate&&t>n.config.maxDate.getFullYear())){var e=t,i=n.currentYear!==e;n.currentYear=e||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),i&&(n.redraw(),Et("onYearChange"),Y())}}function rt(t,e){var i;void 0===e&&(e=!0);var r=n.parseDate(t,void 0,e);if(n.config.minDate&&r&&w(r,n.config.minDate,void 0!==e?e:!n.minDateHasTime)<0||n.config.maxDate&&r&&w(r,n.config.maxDate,void 0!==e?e:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===r)return!1;for(var s=!!n.config.enable,a=null!==(i=n.config.enable)&&void 0!==i?i:n.config.disable,o=0,l=void 0;o<a.length;o++){if("function"==typeof(l=a[o])&&l(r))return s;if(l instanceof Date&&void 0!==r&&l.getTime()===r.getTime())return s;if("string"==typeof l){var c=n.parseDate(l,void 0,!0);return c&&c.getTime()===r.getTime()?s:!s}if("object"==typeof l&&void 0!==r&&l.from&&l.to&&r.getTime()>=l.from.getTime()&&r.getTime()<=l.to.getTime())return s}return!s}function st(t){return void 0!==n.daysContainer&&(-1===t.className.indexOf("hidden")&&-1===t.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(t))}function at(t){var e=t.target===n._input,i=n._input.value.trimEnd()!==kt();!e||!i||t.relatedTarget&&et(t.relatedTarget)||n.setDate(n._input.value,!0,t.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function ot(e){var i=g(e),r=n.config.wrap?t.contains(i):i===n._input,a=n.config.allowInput,o=n.isOpen&&(!a||!r),l=n.config.inline&&r&&!a;if(13===e.keyCode&&r){if(a)return n.setDate(n._input.value,!0,i===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),i.blur();n.open()}else if(et(i)||o||l){var c=!!n.timeContainer&&n.timeContainer.contains(i);switch(e.keyCode){case 13:c?(e.preventDefault(),E(),mt()):gt(e);break;case 27:e.preventDefault(),mt();break;case 8:case 46:r&&!n.config.allowInput&&(e.preventDefault(),n.clear());break;case 37:case 39:if(c||r)n.hourElement&&n.hourElement.focus();else{e.preventDefault();var u=s();if(void 0!==n.daysContainer&&(!1===a||u&&st(u))){var d=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),tt(d),V(W(1),0)):V(void 0,d)}}break;case 38:case 40:e.preventDefault();var h=40===e.keyCode?1:-1;n.daysContainer&&void 0!==i.$i||i===n.input||i===n.altInput?e.ctrlKey?(e.stopPropagation(),it(n.currentYear-h),V(W(1),0)):c||V(void 0,7*h):i===n.currentYearElement?it(n.currentYear-h):n.config.enableTime&&(!c&&n.hourElement&&n.hourElement.focus(),E(e),n._debouncedChange());break;case 9:if(c){var f=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(t){return t})),p=f.indexOf(i);if(-1!==p){var m=f[p+(e.shiftKey?-1:1)];e.preventDefault(),(m||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(i)&&e.shiftKey&&(e.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&i===n.amPM)switch(e.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],O(),Ct();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],O(),Ct()}(r||et(i))&&Et("onKeyDown",e)}function lt(t,e){if(void 0===e&&(e="flatpickr-day"),1===n.selectedDates.length&&(!t||t.classList.contains(e)&&!t.classList.contains("flatpickr-disabled"))){for(var i=t?t.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),r=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),s=Math.min(i,n.selectedDates[0].getTime()),a=Math.max(i,n.selectedDates[0].getTime()),o=!1,l=0,c=0,u=s;u<a;u+=A.DAY)rt(new Date(u),!0)||(o=o||u>s&&u<a,u<r&&(!l||u>l)?l=u:u>r&&(!c||u<c)&&(c=u));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+e)).forEach((function(e){var s=e.dateObj.getTime(),a=l>0&&s<l||c>0&&s>c;if(a)return e.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(t){e.classList.remove(t)}));o&&!a||(["startRange","inRange","endRange","notAllowed"].forEach((function(t){e.classList.remove(t)})),void 0!==t&&(t.classList.add(i<=n.selectedDates[0].getTime()?"startRange":"endRange"),r<i&&s===r?e.classList.add("startRange"):r>i&&s===r&&e.classList.add("endRange"),s>=l&&(0===c||s<=c)&&k(s,r,i)&&e.classList.add("inRange")))}))}}function ct(){!n.isOpen||n.config.static||n.config.inline||ft()}function ut(t){return function(e){var i=n.config["_"+t+"Date"]=n.parseDate(e,n.config.dateFormat),r=n.config["_"+("min"===t?"max":"min")+"Date"];void 0!==i&&(n["min"===t?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(t){return rt(t)})),n.selectedDates.length||"min"!==t||R(i),Ct()),n.daysContainer&&(pt(),void 0!==i?n.currentYearElement[t]=i.getFullYear().toString():n.currentYearElement.removeAttribute(t),n.currentYearElement.disabled=!!r&&void 0!==i&&r.getFullYear()===i.getFullYear())}}function dt(){return n.config.wrap?t.querySelector("[data-input]"):t}function ht(){"object"!=typeof n.config.locale&&void 0===M.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=D(D({},M.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?M.l10ns[n.config.locale]:void 0),_.D="("+n.l10n.weekdays.shorthand.join("|")+")",_.l="("+n.l10n.weekdays.longhand.join("|")+")",_.M="("+n.l10n.months.shorthand.join("|")+")",_.F="("+n.l10n.months.longhand.join("|")+")",_.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===D(D({},e),JSON.parse(JSON.stringify(t.dataset||{}))).time_24hr&&void 0===M.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=S(n),n.parseDate=T({config:n.config,l10n:n.l10n})}function ft(t){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){Et("onPreCalendarPosition");var e=t||n._positionElement,i=Array.prototype.reduce.call(n.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),r=n.calendarContainer.offsetWidth,s=n.config.position.split(" "),a=s[0],o=s.length>1?s[1]:null,l=e.getBoundingClientRect(),c=window.innerHeight-l.bottom,u="above"===a||"below"!==a&&c<i&&l.top>i,h=window.pageYOffset+l.top+(u?-i-2:e.offsetHeight+2);if(d(n.calendarContainer,"arrowTop",!u),d(n.calendarContainer,"arrowBottom",u),!n.config.inline){var f=window.pageXOffset+l.left,p=!1,m=!1;"center"===o?(f-=(r-l.width)/2,p=!0):"right"===o&&(f-=r-l.width,m=!0),d(n.calendarContainer,"arrowLeft",!p&&!m),d(n.calendarContainer,"arrowCenter",p),d(n.calendarContainer,"arrowRight",m);var g=window.document.body.offsetWidth-(window.pageXOffset+l.right),v=f+r>window.document.body.offsetWidth,y=g+r>window.document.body.offsetWidth;if(d(n.calendarContainer,"rightMost",v),!n.config.static)if(n.calendarContainer.style.top=h+"px",v)if(y){var b=function(){for(var t=null,e=0;e<document.styleSheets.length;e++){var n=document.styleSheets[e];if(n.cssRules){try{n.cssRules}catch(t){continue}t=n;break}}return null!=t?t:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===b)return;var _=window.document.body.offsetWidth,E=Math.max(0,_/2-r/2),S=b.cssRules.length,T="{left:"+l.left+"px;right:auto;}";d(n.calendarContainer,"rightMost",!1),d(n.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+T,S),n.calendarContainer.style.left=E+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=g+"px";else n.calendarContainer.style.left=f+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,t)}function pt(){n.config.noCalendar||n.isMobile||(Y(),wt(),z())}function mt(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function gt(t){t.preventDefault(),t.stopPropagation();var e=p(g(t),(function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")}));if(void 0!==e){var i=e,r=n.latestSelectedDateObj=new Date(i.dateObj.getTime()),s=(r.getMonth()<n.currentMonth||r.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=i,"single"===n.config.mode)n.selectedDates=[r];else if("multiple"===n.config.mode){var a=Tt(r);a?n.selectedDates.splice(parseInt(a),1):n.selectedDates.push(r)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=r,n.selectedDates.push(r),0!==w(r,n.selectedDates[0],!0)&&n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()})));if(O(),s){var o=n.currentYear!==r.getFullYear();n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth(),o&&(Et("onYearChange"),Y()),Et("onMonthChange")}if(wt(),z(),Ct(),s||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():q(i),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var l="single"===n.config.mode&&!n.config.enableTime,c="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(l||c)&&mt()}j()}}n.parseDate=T({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=$,n._setHoursFromDate=R,n._positionCalendar=ft,n.changeMonth=tt,n.changeYear=it,n.clear=function(t,e){void 0===t&&(t=!0);void 0===e&&(e=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===e&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var i=I(n.config);N(i.hours,i.minutes,i.seconds)}n.redraw(),t&&Et("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));Et("onClose")},n.onMouseOver=lt,n._createElement=h,n.createDay=G,n.destroy=function(){void 0!==n.config&&Et("onDestroy");for(var t=n._handlers.length;t--;)n._handlers[t].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var e=n.calendarContainer.parentNode;if(e.lastChild&&e.removeChild(e.lastChild),e.parentNode){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete n[t]}catch(t){}}))},n.isEnabled=rt,n.jumpToDate=B,n.updateValue=Ct,n.open=function(t,e){void 0===e&&(e=n._positionElement);if(!0===n.isMobile){if(t){t.preventDefault();var i=g(t);i&&i.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void Et("onOpen")}if(n._input.disabled||n.config.inline)return;var r=n.isOpen;n.isOpen=!0,r||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),Et("onOpen"),ft(e));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==t&&n.timeContainer.contains(t.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))},n.redraw=pt,n.set=function(t,e){if(null!==t&&"object"==typeof t)for(var r in Object.assign(n.config,t),t)void 0!==vt[r]&&vt[r].forEach((function(t){return t()}));else n.config[t]=e,void 0!==vt[t]?vt[t].forEach((function(t){return t()})):i.indexOf(t)>-1&&(n.config[t]=u(e));n.redraw(),Ct(!0)},n.setDate=function(t,e,i){void 0===e&&(e=!1);void 0===i&&(i=n.config.dateFormat);if(0!==t&&!t||t instanceof Array&&0===t.length)return n.clear(e);yt(t,i),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),B(void 0,e),R(),0===n.selectedDates.length&&n.clear(!1);Ct(e),e&&Et("onChange")},n.toggle=function(t){if(!0===n.isOpen)return n.close();n.open(t)};var vt={locale:[ht,J],showMonths:[X,b,Z],minDate:[B],maxDate:[B],positionElement:[_t],clickOpens:[function(){!0===n.config.clickOpens?($(n._input,"focus",n.open),$(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function yt(t,e){var i=[];if(t instanceof Array)i=t.map((function(t){return n.parseDate(t,e)}));else if(t instanceof Date||"number"==typeof t)i=[n.parseDate(t,e)];else if("string"==typeof t)switch(n.config.mode){case"single":case"time":i=[n.parseDate(t,e)];break;case"multiple":i=t.split(n.config.conjunction).map((function(t){return n.parseDate(t,e)}));break;case"range":i=t.split(n.l10n.rangeSeparator).map((function(t){return n.parseDate(t,e)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));n.selectedDates=n.config.allowInvalidPreload?i:i.filter((function(t){return t instanceof Date&&rt(t,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function bt(t){return t.slice().map((function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?n.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:n.parseDate(t.from,void 0),to:n.parseDate(t.to,void 0)}:t})).filter((function(t){return t}))}function _t(){n._positionElement=n.config.positionElement||n._input}function Et(t,e){if(void 0!==n.config){var i=n.config[t];if(void 0!==i&&i.length>0)for(var r=0;i[r]&&r<i.length;r++)i[r](n.selectedDates,n.input.value,n,e);"onChange"===t&&(n.input.dispatchEvent(St("change")),n.input.dispatchEvent(St("input")))}}function St(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function Tt(t){for(var e=0;e<n.selectedDates.length;e++){var i=n.selectedDates[e];if(i instanceof Date&&0===w(i,t))return""+e}return!1}function wt(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(t,e){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[e].textContent=y(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=i.getMonth().toString(),t.value=i.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function kt(t){var e=t||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(t){return n.formatDate(t,e)})).filter((function(t,e,i){return"range"!==n.config.mode||n.config.enableTime||i.indexOf(t)===e})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Ct(t){void 0===t&&(t=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=kt(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=kt(n.config.altFormat)),!1!==t&&Et("onValueUpdate")}function xt(t){var e=g(t),i=n.prevMonthNav.contains(e),r=n.nextMonthNav.contains(e);i||r?tt(i?-1:1):n.yearElements.indexOf(e)>=0?e.select():e.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):e.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=t,n.isOpen=!1,function(){var s=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=D(D({},JSON.parse(JSON.stringify(t.dataset||{}))),e),o={};n.config.parseDate=a.parseDate,n.config.formatDate=a.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(t){n.config._enable=bt(t)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(t){n.config._disable=bt(t)}});var l="time"===a.mode;if(!a.dateFormat&&(a.enableTime||l)){var c=M.defaultConfig.dateFormat||r.dateFormat;o.dateFormat=a.noCalendar||l?"H:i"+(a.enableSeconds?":S":""):c+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||l)&&!a.altFormat){var d=M.defaultConfig.altFormat||r.altFormat;o.altFormat=a.noCalendar||l?"h:i"+(a.enableSeconds?":S K":" K"):d+" h:i"+(a.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:ut("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:ut("max")});var h=function(t){return function(e){n.config["min"===t?"_minTime":"_maxTime"]=n.parseDate(e,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:h("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:h("max")}),"time"===a.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,o,a);for(var f=0;f<s.length;f++)n.config[s[f]]=!0===n.config[s[f]]||"true"===n.config[s[f]];i.filter((function(t){return void 0!==n.config[t]})).forEach((function(t){n.config[t]=u(n.config[t]||[]).map(v)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(f=0;f<n.config.plugins.length;f++){var p=n.config.plugins[f](n)||{};for(var m in p)i.indexOf(m)>-1?n.config[m]=u(p[m]).map(v).concat(n.config[m]):void 0===a[m]&&(n.config[m]=p[m])}a.altInputClass||(n.config.altInputClass=dt().className+" "+n.config.altInputClass);Et("onParseConfig")}(),ht(),function(){if(n.input=dt(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=h(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");_t()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var t=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);t&&yt(t,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=n.currentMonth),void 0===e&&(e=n.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:n.l10n.daysInMonth[t]}},n.isMobile||function(){var t=window.document.createDocumentFragment();if(n.calendarContainer=h("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(t.appendChild((n.monthNav=h("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=h("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=h("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,X(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(t){n.__hidePrevMonthArrow!==t&&(d(n.prevMonthNav,"flatpickr-disabled",t),n.__hidePrevMonthArrow=t)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(t){n.__hideNextMonthArrow!==t&&(d(n.nextMonthNav,"flatpickr-disabled",t),n.__hideNextMonthArrow=t)}}),n.currentYearElement=n.yearElements[0],wt(),n.monthNav)),n.innerContainer=h("div","flatpickr-innerContainer"),n.config.weekNumbers){var e=function(){n.calendarContainer.classList.add("hasWeeks");var t=h("div","flatpickr-weekwrapper");t.appendChild(h("span","flatpickr-weekday",n.l10n.weekAbbreviation));var e=h("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}(),i=e.weekWrapper,r=e.weekNumbers;n.innerContainer.appendChild(i),n.weekNumbers=r,n.weekWrapper=i}n.rContainer=h("div","flatpickr-rContainer"),n.rContainer.appendChild(Z()),n.daysContainer||(n.daysContainer=h("div","flatpickr-days"),n.daysContainer.tabIndex=-1),z(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),t.appendChild(n.innerContainer)}n.config.enableTime&&t.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var t=I(n.config);n.timeContainer=h("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var e=h("span","flatpickr-time-separator",":"),i=m("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];var r=m("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=o(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?t.hours:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(t.hours)),n.minuteElement.value=o(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():t.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(i),n.timeContainer.appendChild(e),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var s=m("flatpickr-second");n.secondElement=s.getElementsByTagName("input")[0],n.secondElement.value=o(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():t.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(h("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(s)}n.config.time_24hr||(n.amPM=h("span","flatpickr-am-pm",n.l10n.amPM[l((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());d(n.calendarContainer,"rangeMode","range"===n.config.mode),d(n.calendarContainer,"animate",!0===n.config.animate),d(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(t);var s=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!s&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var a=h("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(a,n.element),a.appendChild(n.element),n.altInput&&a.appendChild(n.altInput),a.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+t+"]"),(function(e){return $(e,"click",n[t])}))}));if(n.isMobile)return void function(){var t=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=h("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=t,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(t){}$(n.mobileInput,"change",(function(t){n.setDate(g(t).value,!1,n.mobileFormatStr),Et("onChange"),Et("onClose")}))}();var t=c(ct,50);n._debouncedChange=c(j,P),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&$(n.daysContainer,"mouseover",(function(t){"range"===n.config.mode&&lt(g(t))}));$(n._input,"keydown",ot),void 0!==n.calendarContainer&&$(n.calendarContainer,"keydown",ot);n.config.inline||n.config.static||$(window,"resize",t);void 0!==window.ontouchstart?$(window.document,"touchstart",nt):$(window.document,"mousedown",nt);$(window.document,"focus",nt,{capture:!0}),!0===n.config.clickOpens&&($(n._input,"focus",n.open),$(n._input,"click",n.open));void 0!==n.daysContainer&&($(n.monthNav,"click",xt),$(n.monthNav,["keyup","increment"],F),$(n.daysContainer,"click",gt));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var e=function(t){return g(t).select()};$(n.timeContainer,["increment"],E),$(n.timeContainer,"blur",E,{capture:!0}),$(n.timeContainer,"click",U),$([n.hourElement,n.minuteElement],["focus","click"],e),void 0!==n.secondElement&&$(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&$(n.amPM,"click",(function(t){E(t)}))}n.config.allowInput&&$(n._input,"blur",at)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&R(n.config.noCalendar?n.latestSelectedDateObj:void 0),Ct(!1)),b();var s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&s&&ft(),Et("onReady")}(),n}function R(t,e){for(var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement})),i=[],r=0;r<n.length;r++){var s=n[r];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=O(s,e||{}),i.push(s._flatpickr)}catch(t){console.error(t)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return R(this,t)},HTMLElement.prototype.flatpickr=function(t){return R([this],t)});var M=function(t,e){return"string"==typeof t?R(window.document.querySelectorAll(t),e):t instanceof Node?R([t],e):R(t,e)};M.defaultConfig={},M.l10ns={en:D({},a),default:D({},a)},M.localize=function(t){M.l10ns.default=D(D({},M.l10ns.default),t)},M.setDefaults=function(t){M.defaultConfig=D(D({},M.defaultConfig),t)},M.parseDate=T({}),M.formatDate=S({}),M.compareDates=w,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(t){return R(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=M);const N=M},1895:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var i=function(e){e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))},r=0,s=e;r<s.length;r++){i(s[r])}return t})},1065:()=>{!function(t){var e=!0;t.flexslider=function(n,i){var r=t(n);void 0===i.rtl&&"rtl"==t("html").attr("dir")&&(i.rtl=!0),r.vars=t.extend({},t.flexslider.defaults,i);var s,a=r.vars.namespace,o=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=("ontouchstart"in window||o||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,c="click touchend MSPointerUp keyup",u="",d="vertical"===r.vars.direction,h=r.vars.reverse,f=r.vars.itemWidth>0,p="fade"===r.vars.animation,m=""!==r.vars.asNavFor,g={};t.data(n,"flexslider",r),g={init:function(){r.animating=!1,r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0,10),isNaN(r.currentSlide)&&(r.currentSlide=0),r.animatingTo=r.currentSlide,r.atEnd=0===r.currentSlide||r.currentSlide===r.last,r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" ")),r.slides=t(r.vars.selector,r),r.container=t(r.containerSelector,r),r.count=r.slides.length,r.syncExists=t(r.vars.sync).length>0,"slide"===r.vars.animation&&(r.vars.animation="swing"),r.prop=d?"top":r.vars.rtl?"marginRight":"marginLeft",r.args={},r.manualPause=!1,r.stopped=!1,r.started=!1,r.startTimeout=null,r.transitions=!r.vars.video&&!p&&r.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in e)if(void 0!==t.style[e[n]])return r.pfx=e[n].replace("Perspective","").toLowerCase(),r.prop="-"+r.pfx+"-transform",!0;return!1}(),r.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,r.ensureAnimationEnd="",""!==r.vars.controlsContainer&&(r.controlsContainer=t(r.vars.controlsContainer).length>0&&t(r.vars.controlsContainer)),""!==r.vars.manualControls&&(r.manualControls=t(r.vars.manualControls).length>0&&t(r.vars.manualControls)),""!==r.vars.customDirectionNav&&(r.customDirectionNav=2===t(r.vars.customDirectionNav).length&&t(r.vars.customDirectionNav)),r.vars.randomize&&(r.slides.sort((function(){return Math.round(Math.random())-.5})),r.container.empty().append(r.slides)),r.doMath(),r.setup("init"),r.vars.controlNav&&g.controlNav.setup(),r.vars.directionNav&&g.directionNav.setup(),r.vars.keyboard&&(1===t(r.containerSelector).length||r.vars.multipleKeyboard)&&t(document).bind("keyup",(function(t){var e=t.keyCode;if(!r.animating&&(39===e||37===e)){var n=r.vars.rtl?37===e?r.getTarget("next"):39===e&&r.getTarget("prev"):39===e?r.getTarget("next"):37===e&&r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}})),r.vars.mousewheel&&r.bind("mousewheel",(function(t,e,n,i){t.preventDefault();var s=e<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(s,r.vars.pauseOnAction)})),r.vars.pausePlay&&g.pausePlay.setup(),r.vars.slideshow&&r.vars.pauseInvisible&&g.pauseInvisible.init(),r.vars.slideshow&&(r.vars.pauseOnHover&&r.hover((function(){r.manualPlay||r.manualPause||r.pause()}),(function(){r.manualPause||r.manualPlay||r.stopped||r.play()})),r.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play())),m&&g.asNav.setup(),l&&r.vars.touch&&g.touch(),(!p||p&&r.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",g.resize),r.find("img").attr("draggable","false"),setTimeout((function(){r.vars.start(r)}),200)},asNav:{setup:function(){r.asNav=!0,r.animatingTo=Math.floor(r.currentSlide/r.move),r.currentItem=r.currentSlide,r.slides.removeClass(a+"active-slide").eq(r.currentItem).addClass(a+"active-slide"),o?(n._slider=r,r.slides.each((function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",(function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)}),!1),e.addEventListener("MSGestureTap",(function(e){e.preventDefault();var n=t(this),i=n.index();t(r.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))}))}))):r.slides.on(c,(function(e){e.preventDefault();var n=t(this),i=n.index();(r.vars.rtl?-1*(n.offset().right-t(r).scrollLeft()):n.offset().left-t(r).scrollLeft())<=0&&n.hasClass(a+"active-slide")?r.flexAnimate(r.getTarget("prev"),!0):t(r.vars.asNavFor).data("flexslider").animating||n.hasClass(a+"active-slide")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))}))}},controlNav:{setup:function(){r.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var e,n,i="thumbnails"===r.vars.controlNav?"control-thumbs":"control-paging",s=1;if(r.controlNavScaffold=t('<ol class="'+a+"control-nav "+a+i+'"></ol>'),r.pagingCount>1)for(var o=0;o<r.pagingCount;o++){if(void 0===(n=r.slides.eq(o)).attr("data-thumb-alt")&&n.attr("data-thumb-alt",""),e=t("<a></a>").attr("href","#").text(s),"thumbnails"===r.vars.controlNav&&(e=t("<img/>").attr("src",n.attr("data-thumb"))),""!==n.attr("data-thumb-alt")&&e.attr("alt",n.attr("data-thumb-alt")),"thumbnails"===r.vars.controlNav&&!0===r.vars.thumbCaptions){var l=n.attr("data-thumbcaption");if(""!==l&&void 0!==l){var d=t("<span></span>").addClass(a+"caption").text(l);e.append(d)}}var h=t("<li>");e.appendTo(h),h.append("</li>"),r.controlNavScaffold.append(h),s++}r.controlsContainer?t(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),r.controlNavScaffold.delegate("a, img",c,(function(e){if(e.preventDefault(),""===u||u===e.type){var n=t(this),i=r.controlNav.index(n);n.hasClass(a+"active")||(r.direction=i>r.currentSlide?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===u&&(u=e.type),g.setToClearWatchedEvent()}))},setupManual:function(){r.controlNav=r.manualControls,g.controlNav.active(),r.controlNav.bind(c,(function(e){if(e.preventDefault(),""===u||u===e.type){var n=t(this),i=r.controlNav.index(n);n.hasClass(a+"active")||(i>r.currentSlide?r.direction="next":r.direction="prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===u&&(u=e.type),g.setToClearWatchedEvent()}))},set:function(){var e="thumbnails"===r.vars.controlNav?"img":"a";r.controlNav=t("."+a+"control-nav li "+e,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(a+"active").eq(r.animatingTo).addClass(a+"active")},update:function(e,n){r.pagingCount>1&&"add"===e?r.controlNavScaffold.append(t('<li><a href="#">'+r.count+"</a></li>")):1===r.pagingCount?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove(),g.controlNav.set(),r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,e):g.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+a+'direction-nav"><li class="'+a+'nav-prev"><a class="'+a+'prev" href="#">'+r.vars.prevText+'</a></li><li class="'+a+'nav-next"><a class="'+a+'next" href="#">'+r.vars.nextText+"</a></li></ul>");r.customDirectionNav?r.directionNav=r.customDirectionNav:r.controlsContainer?(t(r.controlsContainer).append(e),r.directionNav=t("."+a+"direction-nav li a",r.controlsContainer)):(r.append(e),r.directionNav=t("."+a+"direction-nav li a",r)),g.directionNav.update(),r.directionNav.bind(c,(function(e){var n;e.preventDefault(),""!==u&&u!==e.type||(n=t(this).hasClass(a+"next")?r.getTarget("next"):r.getTarget("prev"),r.flexAnimate(n,r.vars.pauseOnAction)),""===u&&(u=e.type),g.setToClearWatchedEvent()}))},update:function(){var t=a+"disabled";1===r.pagingCount?r.directionNav.addClass(t).attr("tabindex","-1"):r.vars.animationLoop?r.directionNav.removeClass(t).removeAttr("tabindex"):0===r.animatingTo?r.directionNav.removeClass(t).filter("."+a+"prev").addClass(t).attr("tabindex","-1"):r.animatingTo===r.last?r.directionNav.removeClass(t).filter("."+a+"next").addClass(t).attr("tabindex","-1"):r.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+a+'pauseplay"><a href="#"></a></div>');r.controlsContainer?(r.controlsContainer.append(e),r.pausePlay=t("."+a+"pauseplay a",r.controlsContainer)):(r.append(e),r.pausePlay=t("."+a+"pauseplay a",r)),g.pausePlay.update(r.vars.slideshow?a+"pause":a+"play"),r.pausePlay.bind(c,(function(e){e.preventDefault(),""!==u&&u!==e.type||(t(this).hasClass(a+"pause")?(r.manualPause=!0,r.manualPlay=!1,r.pause()):(r.manualPause=!1,r.manualPlay=!0,r.play())),""===u&&(u=e.type),g.setToClearWatchedEvent()}))},update:function(t){"play"===t?r.pausePlay.removeClass(a+"pause").addClass(a+"play").html(r.vars.playText):r.pausePlay.removeClass(a+"play").addClass(a+"pause").html(r.vars.pauseText)}},touch:function(){var t,e,i,s,a,l,c,u,m,g=!1,v=0,y=0,b=0;if(o){n.style.msTouchAction="none",n._gesture=new MSGesture,n._gesture.target=n,n.addEventListener("MSPointerDown",(function(t){t.stopPropagation(),r.animating?t.preventDefault():(r.pause(),n._gesture.addPointer(t.pointerId),b=0,s=d?r.h:r.w,l=Number(new Date),i=f&&h&&r.animatingTo===r.last?0:f&&h?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:f&&r.currentSlide===r.last?r.limit:f?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:h?(r.last-r.currentSlide+r.cloneOffset)*s:(r.currentSlide+r.cloneOffset)*s)}),!1),n._slider=r,n.addEventListener("MSGestureChange",(function(t){t.stopPropagation();var e=t.target._slider;if(!e)return;var r=-t.translationX,o=-t.translationY;if(b+=d?o:r,a=(e.vars.rtl?-1:1)*b,g=d?Math.abs(b)<Math.abs(-r):Math.abs(b)<Math.abs(-o),t.detail===t.MSGESTURE_FLAG_INERTIA)return void setImmediate((function(){n._gesture.stop()}));(!g||Number(new Date)-l>500)&&(t.preventDefault(),!p&&e.transitions&&(e.vars.animationLoop||(a=b/(0===e.currentSlide&&b<0||e.currentSlide===e.last&&b>0?Math.abs(b)/s+2:1)),e.setProps(i+a,"setTouch")))}),!1),n.addEventListener("MSGestureEnd",(function(n){n.stopPropagation();var r=n.target._slider;if(!r)return;if(r.animatingTo===r.currentSlide&&!g&&null!==a){var o=h?-a:a,c=o>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(c)&&(Number(new Date)-l<550&&Math.abs(o)>50||Math.abs(o)>s/2)?r.flexAnimate(c,r.vars.pauseOnAction):p||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}t=null,e=null,a=null,i=null,b=0}),!1)}else c=function(a){r.animating?a.preventDefault():(window.navigator.msPointerEnabled||1===a.touches.length)&&(r.pause(),s=d?r.h:r.w,l=Number(new Date),v=a.touches[0].pageX,y=a.touches[0].pageY,i=f&&h&&r.animatingTo===r.last?0:f&&h?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:f&&r.currentSlide===r.last?r.limit:f?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:h?(r.last-r.currentSlide+r.cloneOffset)*s:(r.currentSlide+r.cloneOffset)*s,t=d?y:v,e=d?v:y,n.addEventListener("touchmove",u,!1),n.addEventListener("touchend",m,!1))},u=function(n){v=n.touches[0].pageX,y=n.touches[0].pageY,a=d?t-y:(r.vars.rtl?-1:1)*(t-v);(!(g=d?Math.abs(a)<Math.abs(v-e):Math.abs(a)<Math.abs(y-e))||Number(new Date)-l>500)&&(n.preventDefault(),!p&&r.transitions&&(r.vars.animationLoop||(a/=0===r.currentSlide&&a<0||r.currentSlide===r.last&&a>0?Math.abs(a)/s+2:1),r.setProps(i+a,"setTouch")))},m=function(o){if(n.removeEventListener("touchmove",u,!1),r.animatingTo===r.currentSlide&&!g&&null!==a){var c=h?-a:a,d=c>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(d)&&(Number(new Date)-l<550&&Math.abs(c)>50||Math.abs(c)>s/2)?r.flexAnimate(d,r.vars.pauseOnAction):p||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}n.removeEventListener("touchend",m,!1),t=null,e=null,a=null,i=null},n.addEventListener("touchstart",c,!1)},resize:function(){!r.animating&&r.is(":visible")&&(f||r.doMath(),p?g.smoothHeight():f?(r.slides.width(r.computedW),r.update(r.pagingCount),r.setProps()):d?(r.viewport.height(r.h),r.setProps(r.h,"setTotal")):(r.vars.smoothHeight&&g.smoothHeight(),r.newSlides.width(r.computedW),r.setProps(r.computedW,"setTotal")))},smoothHeight:function(t){if(!d||p){var e=p?r:r.viewport;t?e.animate({height:r.slides.eq(r.animatingTo).innerHeight()},t):e.innerHeight(r.slides.eq(r.animatingTo).innerHeight())}},sync:function(e){var n=t(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(e){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each((function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")})),e},pauseInvisible:{visProp:null,init:function(){var t=g.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,(function(){g.pauseInvisible.isHidden()?r.startTimeout?clearTimeout(r.startTimeout):r.pause():r.started?r.play():r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()}))}},isHidden:function(){var t=g.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(s),s=setTimeout((function(){u=""}),3e3)}},r.flexAnimate=function(e,n,i,s,o){if(r.vars.animationLoop||e===r.currentSlide||(r.direction=e>r.currentSlide?"next":"prev"),m&&1===r.pagingCount&&(r.direction=r.currentItem<e?"next":"prev"),!r.animating&&(r.canAdvance(e,o)||i)&&r.is(":visible")){if(m&&s){var c=t(r.vars.asNavFor).data("flexslider");if(r.atEnd=0===e||e===r.count-1,c.flexAnimate(e,!0,!1,!0,o),r.direction=r.currentItem<e?"next":"prev",c.direction=r.direction,Math.ceil((e+1)/r.visible)-1===r.currentSlide||0===e)return r.currentItem=e,r.slides.removeClass(a+"active-slide").eq(e).addClass(a+"active-slide"),!1;r.currentItem=e,r.slides.removeClass(a+"active-slide").eq(e).addClass(a+"active-slide"),e=Math.floor(e/r.visible)}if(r.animating=!0,r.animatingTo=e,n&&r.pause(),r.vars.before(r),r.syncExists&&!o&&g.sync("animate"),r.vars.controlNav&&g.controlNav.active(),f||r.slides.removeClass(a+"active-slide").eq(e).addClass(a+"active-slide"),r.atEnd=0===e||e===r.last,r.vars.directionNav&&g.directionNav.update(),e===r.last&&(r.vars.end(r),r.vars.animationLoop||r.pause()),p)l?(r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1}),r.slides.eq(e).css({opacity:1,zIndex:2}),r.wrapup(b)):(r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing),r.slides.eq(e).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup));else{var u,v,y,b=d?r.slides.filter(":first").height():r.computedW;f?(u=r.vars.itemMargin,v=(y=(r.itemW+u)*r.move*r.animatingTo)>r.limit&&1!==r.visible?r.limit:y):v=0===r.currentSlide&&e===r.count-1&&r.vars.animationLoop&&"next"!==r.direction?h?(r.count+r.cloneOffset)*b:0:r.currentSlide===r.last&&0===e&&r.vars.animationLoop&&"prev"!==r.direction?h?0:(r.count+1)*b:h?(r.count-1-e+r.cloneOffset)*b:(e+r.cloneOffset)*b,r.setProps(v,"",r.vars.animationSpeed),r.transitions?(r.vars.animationLoop&&r.atEnd||(r.animating=!1,r.currentSlide=r.animatingTo),r.container.unbind("webkitTransitionEnd transitionend"),r.container.bind("webkitTransitionEnd transitionend",(function(){clearTimeout(r.ensureAnimationEnd),r.wrapup(b)})),clearTimeout(r.ensureAnimationEnd),r.ensureAnimationEnd=setTimeout((function(){r.wrapup(b)}),r.vars.animationSpeed+100)):r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,(function(){r.wrapup(b)}))}r.vars.smoothHeight&&g.smoothHeight(r.vars.animationSpeed)}},r.wrapup=function(t){p||f||(0===r.currentSlide&&r.animatingTo===r.last&&r.vars.animationLoop?r.setProps(t,"jumpEnd"):r.currentSlide===r.last&&0===r.animatingTo&&r.vars.animationLoop&&r.setProps(t,"jumpStart")),r.animating=!1,r.currentSlide=r.animatingTo,r.vars.after(r)},r.animateSlides=function(){!r.animating&&e&&r.flexAnimate(r.getTarget("next"))},r.pause=function(){clearInterval(r.animatedSlides),r.animatedSlides=null,r.playing=!1,r.vars.pausePlay&&g.pausePlay.update("play"),r.syncExists&&g.sync("pause")},r.play=function(){r.playing&&clearInterval(r.animatedSlides),r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed),r.started=r.playing=!0,r.vars.pausePlay&&g.pausePlay.update("pause"),r.syncExists&&g.sync("play")},r.stop=function(){r.pause(),r.stopped=!0},r.canAdvance=function(t,e){var n=m?r.pagingCount-1:r.last;return!!e||(!(!m||r.currentItem!==r.count-1||0!==t||"prev"!==r.direction)||(!m||0!==r.currentItem||t!==r.pagingCount-1||"next"===r.direction)&&(!(t===r.currentSlide&&!m)&&(!!r.vars.animationLoop||(!r.atEnd||0!==r.currentSlide||t!==n||"next"===r.direction)&&(!r.atEnd||r.currentSlide!==n||0!==t||"next"!==r.direction))))},r.getTarget=function(t){return r.direction=t,"next"===t?r.currentSlide===r.last?0:r.currentSlide+1:0===r.currentSlide?r.last:r.currentSlide-1},r.setProps=function(t,e,n){var i,s=(i=t||(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,function(){if(f)return"setTouch"===e?t:h&&r.animatingTo===r.last?0:h?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:i;switch(e){case"setTotal":return h?(r.count-1-r.currentSlide+r.cloneOffset)*t:(r.currentSlide+r.cloneOffset)*t;case"setTouch":default:return t;case"jumpEnd":return h?t:r.count*t;case"jumpStart":return h?r.count*t:t}}()*(r.vars.rtl?1:-1)+"px");r.transitions&&(s=r.isFirefox?d?"translate3d(0,"+s+",0)":"translate3d("+parseInt(s)+"px,0,0)":d?"translate3d(0,"+s+",0)":"translate3d("+(r.vars.rtl?-1:1)*parseInt(s)+"px,0,0)",n=void 0!==n?n/1e3+"s":"0s",r.container.css("-"+r.pfx+"-transition-duration",n),r.container.css("transition-duration",n)),r.args[r.prop]=s,(r.transitions||void 0===n)&&r.container.css(r.args),r.container.css("transform",s)},r.setup=function(e){var n,i;p?(r.vars.rtl?r.slides.css({width:"100%",float:"right",marginLeft:"-100%",position:"relative"}):r.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===e&&(l?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):0==r.vars.fadeFirstSlide?r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).css({opacity:1}):r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing)),r.vars.smoothHeight&&g.smoothHeight()):("init"===e&&(r.viewport=t('<div class="'+a+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container),r.cloneCount=0,r.cloneOffset=0,h&&(i=t.makeArray(r.slides).reverse(),r.slides=t(i),r.container.empty().append(r.slides))),r.vars.animationLoop&&!f&&(r.cloneCount=2,r.cloneOffset=1,"init"!==e&&r.container.find(".clone").remove(),r.container.append(g.uniqueID(r.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(r.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),r.newSlides=t(r.vars.selector,r),n=h?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset,d&&!f?(r.container.height(200*(r.count+r.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout((function(){r.newSlides.css({display:"block"}),r.doMath(),r.viewport.height(r.h),r.setProps(n*r.h,"init")}),"init"===e?100:0)):(r.container.width(200*(r.count+r.cloneCount)+"%"),r.setProps(n*r.computedW,"init"),setTimeout((function(){r.doMath(),r.vars.rtl&&r.isFirefox?r.newSlides.css({width:r.computedW,marginRight:r.computedM,float:"right",display:"block"}):r.newSlides.css({width:r.computedW,marginRight:r.computedM,float:"left",display:"block"}),r.vars.smoothHeight&&g.smoothHeight()}),"init"===e?100:0)));f||r.slides.removeClass(a+"active-slide").eq(r.currentSlide).addClass(a+"active-slide"),r.vars.init(r)},r.doMath=function(){var t=r.slides.first(),e=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=void 0===r.viewport?r.width():r.viewport.width(),r.isFirefox&&(r.w=r.width()),r.h=t.height(),r.boxPadding=t.outerWidth()-t.width(),f?(r.itemT=r.vars.itemWidth+e,r.itemM=e,r.minW=n?n*r.itemT:r.w,r.maxW=i?i*r.itemT-e:r.w,r.itemW=r.minW>r.w?(r.w-e*(n-1))/n:r.maxW<r.w?(r.w-e*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth,r.visible=Math.floor(r.w/r.itemW),r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible,r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1),r.last=r.pagingCount-1,r.limit=1===r.pagingCount?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+e*(r.count-1):(r.itemW+e)*r.count-r.w-e):(r.itemW=r.w,r.itemM=e,r.pagingCount=r.count,r.last=r.count-1),r.computedW=r.itemW-r.boxPadding,r.computedM=r.itemM},r.update=function(t,e){r.doMath(),f||(t<r.currentSlide?r.currentSlide+=1:t<=r.currentSlide&&0!==t&&(r.currentSlide-=1),r.animatingTo=r.currentSlide),r.vars.controlNav&&!r.manualControls&&("add"===e&&!f||r.pagingCount>r.controlNav.length?g.controlNav.update("add"):("remove"===e&&!f||r.pagingCount<r.controlNav.length)&&(f&&r.currentSlide>r.last&&(r.currentSlide-=1,r.animatingTo-=1),g.controlNav.update("remove",r.last))),r.vars.directionNav&&g.directionNav.update()},r.addSlide=function(e,n){var i=t(e);r.count+=1,r.last=r.count-1,d&&h?void 0!==n?r.slides.eq(r.count-n).after(i):r.container.prepend(i):void 0!==n?r.slides.eq(n).before(i):r.container.append(i),r.update(n,"add"),r.slides=t(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.added(r)},r.removeSlide=function(e){var n=isNaN(e)?r.slides.index(t(e)):e;r.count-=1,r.last=r.count-1,isNaN(e)?t(e,r.slides).remove():d&&h?r.slides.eq(r.last).remove():r.slides.eq(e).remove(),r.doMath(),r.update(n,"remove"),r.slides=t(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.removed(r)},g.init()},t(window).blur((function(t){e=!1})).focus((function(t){e=!0})),t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,isFirefox:!1,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){},rtl:!1},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each((function(){var n=t(this),i=e.selector?e.selector:".slides > li",r=n.find(i);1===r.length&&!1===e.allowOneSlide||0===r.length?(r.fadeIn(400),e.start&&e.start(n)):void 0===n.data("flexslider")&&new t.flexslider(this,e)}));var n=t(this).data("flexslider");switch(e){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof e&&n.flexAnimate(e,!0)}}}(jQuery)},3587:(t,e,n)=>{var i,r,s;r=[n(9755)],void 0===(s="function"==typeof(i=function(t){t.extend(t.fn,{validate:function(e){if(this.length){var n=t.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",(function(e){n.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)})),this.on("submit.validate",(function(e){function i(){var i,r;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(r=n.settings.submitHandler.call(n,n.currentForm,e),i&&i.remove(),void 0!==r&&r)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)}))),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,n,i;return t(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,n=t(this[0].form).validate(),this.each((function(){(e=n.element(this)&&e)||(i=i.concat(n.errorList))})),n.errorList=i),e},rules:function(e,n){var i,r,s,a,o,l,c=this[0],u=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=c&&(!c.form&&u&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(e)switch(r=(i=t.data(c.form,"validator").settings).rules,s=t.validator.staticRules(c),e){case"add":t.extend(s,t.validator.normalizeRule(n)),delete s.messages,r[c.name]=s,n.messages&&(i.messages[c.name]=t.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),(function(t,e){l[e]=s[e],delete s[e]})),l):(delete r[c.name],s)}return(a=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c)).required&&(o=a.required,delete a.required,a=t.extend({required:o},a)),a.remote&&(o=a.remote,delete a.remote,a=t.extend(a,{remote:o})),a}}});var e,n=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!n(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!n(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(void 0===n||(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,(function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),(function(){return n}))}))),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,i)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var e,n=this.currentForm,i=this.groups={};function r(e){var i=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");if(!this.form&&i&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name")),n===this.form){var r=t.data(this.form,"validator"),s="on"+e.type.replace(/^validate/,""),a=r.settings;a[s]&&!t(this).is(a.ignore)&&a[s].call(r,this,e)}}t.each(this.settings.groups,(function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,(function(t,n){i[n]=e}))})),e=this.settings.rules,t.each(e,(function(n,i){e[n]=t.validator.normalizeRule(i)})),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",r).on("click.validate","select, option, [type='radio'], [type='checkbox']",r),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n,i,r=this.clean(e),s=this.validationTargetFor(r),a=this,o=!0;return void 0===s?delete this.invalid[r.name]:(this.prepareElement(s),this.currentElements=t(s),(i=this.groups[s.name])&&t.each(this.groups,(function(t,e){e===i&&t!==s.name&&(r=a.validationTargetFor(a.clean(a.findByName(t))))&&r.name in a.invalid&&(a.currentElements.push(r),o=a.check(r)&&o)})),n=!1!==this.check(s),o=o&&n,this.invalid[s.name]=!n,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!n)),o},showErrors:function(e){if(e){var n=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,(function(t,e){return{message:t,element:n.findByName(e)[0]}})),this.successList=t.grep(this.successList,(function(t){return!(t.name in e)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,(function(t){return t.element.name===e.name})).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){var i=this.name||t(this).attr("name"),r=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");return!i&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),r&&(this.form=t(this).closest("form")[0],this.name=i),!(this.form!==e.currentForm||i in n||!e.objectLength(t(this).rules())||(n[i]=!0,0))}))},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i,r=t(e),s=e.type,a=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===s||"checkbox"===s?this.findByName(e.name).filter(":checked").val():"number"===s&&void 0!==e.validity?e.validity.badInput?"NaN":r.val():(n=a?r.text():r.val(),"file"===s?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"))>=0||(i=n.lastIndexOf("\\"))>=0?n.substr(i+1):n:"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,s,a=t(e).rules(),o=t.map(a,(function(t,e){return e})).length,l=!1,c=this.elementValue(e);for(i in"function"==typeof a.normalizer?s=a.normalizer:"function"==typeof this.settings.normalizer&&(s=this.settings.normalizer),s&&(c=s.call(e,c),delete a.normalizer),a){r={method:i,parameters:a[i]};try{if("dependency-mismatch"===(n=t.validator.methods[i].call(this,c,e,r.parameters))&&1===o){l=!0;continue}if(l=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),t}}if(!l)return this.objectLength(a)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){"string"==typeof n&&(n={method:n});var i=this.findDefined(this.customMessage(e.name,n.method),this.customDataMessage(e,n.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),i},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map((function(){return this.element}))},showLabel:function(e,n){var i,r,s,a,o=this.errorsFor(e),l=this.idOrName(e),c=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(n)):(i=o=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,t(e)):i.insertAfter(e),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(s=o.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(s)+"\\b"))||(c+=" "+s):c=s,t(e).attr("aria-describedby",c),(r=this.groups[e.name])&&(a=this,t.each(a.groups,(function(e,n){n===r&&t("[name='"+a.escapeCssMeta(e)+"']",a.currentForm).attr("aria-describedby",o.attr("id"))}))))),!n&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var n=this.escapeCssMeta(this.idOrName(e)),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return void 0===t?"":t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,n){return!!t(e,n.form).length},function:function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(t(this.currentForm).trigger("submit"),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,n){return n="string"==typeof n&&n||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:n})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),(function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])})),n},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t["date"===e?"dateISO":n]=!0)},attributeRules:function(e){var n,i,r={},s=t(e),a=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(""===(i=e.getAttribute(n))&&(i=!0),i=!!i):i=s.attr(n),this.normalizeAttributeRule(r,a,n,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},s=t(e),a=e.getAttribute("type");for(n in t.validator.methods)""===(i=s.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(r,a,n,i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,(function(i,r){if(!1!==r){if(r.param||r.depends){var s=!0;switch(typeof r.depends){case"string":s=!!t(r.depends,n.form).length;break;case"function":s=r.depends.call(n,n)}s?e[i]=void 0===r.param||r.param:(t.data(n.form,"validator").resetElements(t(n)),delete e[i])}}else delete e[i]})),t.each(e,(function(t,i){e[t]="function"==typeof i&&"normalizer"!==t?i(n):i})),t.each(["minlength","maxlength"],(function(){e[this]&&(e[this]=Number(e[this]))})),t.each(["rangelength","range"],(function(){var t;e[this]&&(Array.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(t=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(t[0]),Number(t[1])]))})),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),(function(){n[this]=!0})),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:null!=e&&e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:(e=!1,function(t,n){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(n)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,n){var i=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i>=n},maxlength:function(t,e,n){var i=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=n},rangelength:function(t,e,n){var i=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i>=n[0]&&i<=n[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(e,n,i){var r,s=t(n).attr("type"),a="Step attribute on input type "+s+" is not supported.",o=["text","number","range"],l=new RegExp("\\b"+s+"\\b"),c=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},u=function(t){return Math.round(t*Math.pow(10,r))},d=!0;if(s&&!l.test(o.join()))throw new Error(a);return r=c(i),(c(e)>r||u(e)%u(i)!=0)&&(d=!1),this.optional(n)||d},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",(function(){t(n).valid()})),e===r.val()},remote:function(e,n,i,r){if(this.optional(n))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var s,a,o,l=this.previousValue(n,r);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=l.message,i="string"==typeof i&&{url:i}||i,o=t.param(t.extend({data:e},i.data)),l.old===o?l.valid:(l.old=o,s=this,this.startRequest(n),(a={})[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:s.currentForm,success:function(t){var i,a,o,c=!0===t||"true"===t;s.settings.messages[n.name][r]=l.originalMessage,c?(o=s.formSubmitted,s.resetInternals(),s.toHide=s.errorsFor(n),s.formSubmitted=o,s.successList.push(n),s.invalid[n.name]=!1,s.showErrors()):(i={},a=t||s.defaultMessage(n,{method:r,parameters:e}),i[n.name]=l.message=a,s.invalid[n.name]=!0,s.showErrors(i)),l.valid=c,s.stopRequest(n,c)}},i)),"pending")}}});var i,r={};return t.ajaxPrefilter?t.ajaxPrefilter((function(t,e,n){var i=t.port;"abort"===t.mode&&(r[i]&&r[i].abort(),r[i]=n)})):(i=t.ajax,t.ajax=function(e){var n=("mode"in e?e:t.ajaxSettings).mode,s=("port"in e?e:t.ajaxSettings).port;return"abort"===n?(r[s]&&r[s].abort(),r[s]=i.apply(this,arguments),r[s]):i.apply(this,arguments)}),t})?i.apply(e,r):i)||(t.exports=s)},9755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var s=[],a=Object.getPrototypeOf,o=s.slice,l=s.flat?function(t){return s.flat.call(t)}:function(t){return s.concat.apply([],t)},c=s.push,u=s.indexOf,d={},h=d.toString,f=d.hasOwnProperty,p=f.toString,m=p.call(Object),g={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},b=i.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function E(t,e,n){var i,r,s=(n=n||b).createElement("script");if(s.text=t,e)for(i in _)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,r);n.head.appendChild(s).parentNode.removeChild(s)}function S(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[h.call(t)]||"object":typeof t}var T="3.7.0",w=/HTML$/i,k=function(t,e){return new k.fn.init(t,e)};function C(t){var e=!!t&&"length"in t&&t.length,n=S(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function x(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}k.fn=k.prototype={jquery:T,constructor:k,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:s.sort,splice:s.splice},k.extend=k.fn.extend=function(){var t,e,n,i,r,s,a=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[o]||{},o++),"object"==typeof a||v(a)||(a={}),o===l&&(a=this,o--);o<l;o++)if(null!=(t=arguments[o]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(c&&i&&(k.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],s=r&&!Array.isArray(n)?[]:r||k.isPlainObject(n)?n:{},r=!1,a[e]=k.extend(c,s,i)):void 0!==i&&(a[e]=i));return a},k.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==h.call(t))&&(!(e=a(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&p.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){E(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},text:function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r)return t.textContent;if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k.text(e);return n},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?k.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!w.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,s=t.length,a=!n;r<s;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,s=0,a=[];if(C(t))for(i=t.length;s<i;s++)null!=(r=e(t[s],s,n))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,n))&&a.push(r);return l(a)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=s[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var A=s.pop,I=s.sort,D=s.splice,L="[\\x20\\t\\r\\n\\f]",P=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");k.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var O=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function R(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}k.escapeSelector=function(t){return(t+"").replace(O,R)};var M=b,N=c;!function(){var t,e,n,r,a,l,c,d,h,p,m=N,v=k.expando,y=0,b=0,_=tt(),E=tt(),S=tt(),T=tt(),w=function(t,e){return t===e&&(a=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+L+"*("+O+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+L+"*\\]",F=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",$=new RegExp(L+"+","g"),j=new RegExp("^"+L+"*,"+L+"*"),B=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp(L+"|>"),H=new RegExp(F),G=new RegExp("^"+O+"$"),q={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,z=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),Q=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},X=function(){lt()},Z=ht((function(t){return!0===t.disabled&&x(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(s=o.call(M.childNodes),M.childNodes),s[M.childNodes.length].nodeType}catch(t){m={apply:function(t,e){N.apply(t,o.call(e))},call:function(t){N.apply(t,o.call(arguments,1))}}}function J(t,e,n,i){var r,s,a,o,c,u,f,p=e&&e.ownerDocument,y=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return n;if(!i&&(lt(e),e=e||l,d)){if(11!==y&&(c=K.exec(t)))if(r=c[1]){if(9===y){if(!(a=e.getElementById(r)))return n;if(a.id===r)return m.call(n,a),n}else if(p&&(a=p.getElementById(r))&&J.contains(e,a)&&a.id===r)return m.call(n,a),n}else{if(c[2])return m.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&e.getElementsByClassName)return m.apply(n,e.getElementsByClassName(r)),n}if(!(T[t+" "]||h&&h.test(t))){if(f=t,p=e,1===y&&(U.test(t)||B.test(t))){for((p=z.test(t)&&ot(e.parentNode)||e)==e&&g.scope||((o=e.getAttribute("id"))?o=k.escapeSelector(o):e.setAttribute("id",o=v)),s=(u=ut(t)).length;s--;)u[s]=(o?"#"+o:":scope")+" "+dt(u[s]);f=u.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(e){T(t,!0)}finally{o===v&&e.removeAttribute("id")}}}return yt(t.replace(P,"$1"),e,n,i)}function tt(){var t=[];return function n(i,r){return t.push(i+" ")>e.cacheLength&&delete n[t.shift()],n[i+" "]=r}}function et(t){return t[v]=!0,t}function nt(t){var e=l.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function it(t){return function(e){return x(e,"input")&&e.type===t}}function rt(t){return function(e){return(x(e,"input")||x(e,"button"))&&e.type===t}}function st(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Z(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function at(t){return et((function(e){return e=+e,et((function(n,i){for(var r,s=t([],n.length,e),a=s.length;a--;)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function ot(t){return t&&void 0!==t.getElementsByTagName&&t}function lt(t){var n,i=t?t.ownerDocument||t:M;return i!=l&&9===i.nodeType&&i.documentElement?(c=(l=i).documentElement,d=!k.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,M!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",X),g.getById=nt((function(t){return c.appendChild(t).id=k.expando,!l.getElementsByName||!l.getElementsByName(k.expando).length})),g.disconnectedMatch=nt((function(t){return p.call(t,"*")})),g.scope=nt((function(){return l.querySelectorAll(":scope")})),g.cssHas=nt((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),g.getById?(e.filter.ID=function(t){var e=t.replace(Y,Q);return function(t){return t.getAttribute("id")===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&d){var n=e.getElementById(t);return n?[n]:[]}}):(e.filter.ID=function(t){var e=t.replace(Y,Q);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&d){var n,i,r,s=e.getElementById(t);if(s){if((n=s.getAttributeNode("id"))&&n.value===t)return[s];for(r=e.getElementsByName(t),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===t)return[s]}return[]}}),e.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},e.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&d)return e.getElementsByClassName(t)},h=[],nt((function(t){var e;c.appendChild(t).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||h.push("\\["+L+"*(?:value|"+C+")"),t.querySelectorAll("[id~="+v+"-]").length||h.push("~="),t.querySelectorAll("a#"+v+"+*").length||h.push(".#.+[+~]"),t.querySelectorAll(":checked").length||h.push(":checked"),(e=l.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),c.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),(e=l.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||h.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")")})),g.cssHas||h.push(":has"),h=h.length&&new RegExp(h.join("|")),w=function(t,e){if(t===e)return a=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!g.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument==M&&J.contains(M,t)?-1:e===l||e.ownerDocument==M&&J.contains(M,e)?1:r?u.call(r,t)-u.call(r,e):0:4&n?-1:1)},l):l}for(t in J.matches=function(t,e){return J(t,null,null,e)},J.matchesSelector=function(t,e){if(lt(t),d&&!T[e+" "]&&(!h||!h.test(e)))try{var n=p.call(t,e);if(n||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){T(e,!0)}return J(e,l,null,[t]).length>0},J.contains=function(t,e){return(t.ownerDocument||t)!=l&&lt(t),k.contains(t,e)},J.attr=function(t,n){(t.ownerDocument||t)!=l&&lt(t);var i=e.attrHandle[n.toLowerCase()],r=i&&f.call(e.attrHandle,n.toLowerCase())?i(t,n,!d):void 0;return void 0!==r?r:t.getAttribute(n)},J.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},k.uniqueSort=function(t){var e,n=[],i=0,s=0;if(a=!g.sortStable,r=!g.sortStable&&o.call(t,0),I.call(t,w),a){for(;e=t[s++];)e===t[s]&&(i=n.push(s));for(;i--;)D.call(t,n[i],1)}return r=null,t},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(o.apply(this)))},e=k.expr={cacheLength:50,createPseudo:et,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Y,Q),t[3]=(t[3]||t[4]||t[5]||"").replace(Y,Q),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||J.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&J.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&H.test(n)&&(e=ut(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Y,Q).toLowerCase();return"*"===t?function(){return!0}:function(t){return x(t,e)}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&_(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=J.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace($," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),o="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p=s!==a?"nextSibling":"previousSibling",m=e.parentNode,g=o&&e.nodeName.toLowerCase(),b=!l&&!o,_=!1;if(m){if(s){for(;p;){for(d=e;d=d[p];)if(o?x(d,g):1===d.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&b){for(_=(h=(c=(u=m[v]||(m[v]={}))[t]||[])[0]===y&&c[1])&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[p]||(_=h=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){u[t]=[y,h,_];break}}else if(b&&(_=h=(c=(u=e[v]||(e[v]={}))[t]||[])[0]===y&&c[1]),!1===_)for(;(d=++h&&d&&d[p]||(_=h=0)||f.pop())&&(!(o?x(d,g):1===d.nodeType)||!++_||(b&&((u=d[v]||(d[v]={}))[t]=[y,_]),d!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,n){var i,r=e.pseudos[t]||e.setFilters[t.toLowerCase()]||J.error("unsupported pseudo: "+t);return r[v]?r(n):r.length>1?(i=[t,t,"",n],e.setFilters.hasOwnProperty(t.toLowerCase())?et((function(t,e){for(var i,s=r(t,n),a=s.length;a--;)t[i=u.call(t,s[a])]=!(e[i]=s[a])})):function(t){return r(t,0,i)}):r}},pseudos:{not:et((function(t){var e=[],n=[],i=vt(t.replace(P,"$1"));return i[v]?et((function(t,e,n,r){for(var s,a=i(t,null,r,[]),o=t.length;o--;)(s=a[o])&&(t[o]=!(e[o]=s))})):function(t,r,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:et((function(t){return function(e){return J(t,e).length>0}})),contains:et((function(t){return t=t.replace(Y,Q),function(e){return(e.textContent||k.text(e)).indexOf(t)>-1}})),lang:et((function(t){return G.test(t||"")||J.error("unsupported lang: "+t),t=t.replace(Y,Q).toLowerCase(),function(e){var n;do{if(n=d?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===c},focus:function(t){return t===function(){try{return l.activeElement}catch(t){}}()&&l.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:st(!1),disabled:st(!0),checked:function(t){return x(t,"input")&&!!t.checked||x(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return V.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){return x(t,"input")&&"button"===t.type||x(t,"button")},text:function(t){var e;return x(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:at((function(){return[0]})),last:at((function(t,e){return[e-1]})),eq:at((function(t,e,n){return[n<0?n+e:n]})),even:at((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:at((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:at((function(t,e,n){var i;for(i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:at((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},e.pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=it(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=rt(t);function ct(){}function ut(t,n){var i,r,s,a,o,l,c,u=E[t+" "];if(u)return n?0:u.slice(0);for(o=t,l=[],c=e.preFilter;o;){for(a in i&&!(r=j.exec(o))||(r&&(o=o.slice(r[0].length)||o),l.push(s=[])),i=!1,(r=B.exec(o))&&(i=r.shift(),s.push({value:i,type:r[0].replace(P," ")}),o=o.slice(i.length)),e.filter)!(r=q[a].exec(o))||c[a]&&!(r=c[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?J.error(t):E(t,l).slice(0)}function dt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function ht(t,e,n){var i=e.dir,r=e.next,s=r||i,a=n&&"parentNode"===s,o=b++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var c,u,d=[y,o];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=e[v]||(e[v]={}),r&&x(e,r))e=e[i]||e;else{if((c=u[s])&&c[0]===y&&c[1]===o)return d[2]=c[2];if(u[s]=d,d[2]=t(e,n,l))return!0}return!1}}function ft(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function pt(t,e,n,i,r){for(var s,a=[],o=0,l=t.length,c=null!=e;o<l;o++)(s=t[o])&&(n&&!n(s,i,r)||(a.push(s),c&&e.push(o)));return a}function mt(t,e,n,i,r,s){return i&&!i[v]&&(i=mt(i)),r&&!r[v]&&(r=mt(r,s)),et((function(s,a,o,l){var c,d,h,f,p=[],g=[],v=a.length,y=s||function(t,e,n){for(var i=0,r=e.length;i<r;i++)J(t,e[i],n);return n}(e||"*",o.nodeType?[o]:o,[]),b=!t||!s&&e?y:pt(y,p,t,o,l);if(n?n(b,f=r||(s?t:v||i)?[]:a,o,l):f=b,i)for(c=pt(f,g),i(c,[],o,l),d=c.length;d--;)(h=c[d])&&(f[g[d]]=!(b[g[d]]=h));if(s){if(r||t){if(r){for(c=[],d=f.length;d--;)(h=f[d])&&c.push(b[d]=h);r(null,f=[],c,l)}for(d=f.length;d--;)(h=f[d])&&(c=r?u.call(s,h):p[d])>-1&&(s[c]=!(a[c]=h))}}else f=pt(f===a?f.splice(v,f.length):f),r?r(null,a,f,l):m.apply(a,f)}))}function gt(t){for(var i,r,s,a=t.length,o=e.relative[t[0].type],l=o||e.relative[" "],c=o?1:0,d=ht((function(t){return t===i}),l,!0),h=ht((function(t){return u.call(i,t)>-1}),l,!0),f=[function(t,e,r){var s=!o&&(r||e!=n)||((i=e).nodeType?d(t,e,r):h(t,e,r));return i=null,s}];c<a;c++)if(r=e.relative[t[c].type])f=[ht(ft(f),r)];else{if((r=e.filter[t[c].type].apply(null,t[c].matches))[v]){for(s=++c;s<a&&!e.relative[t[s].type];s++);return mt(c>1&&ft(f),c>1&&dt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(P,"$1"),r,c<s&&gt(t.slice(c,s)),s<a&&gt(t=t.slice(s)),s<a&&dt(t))}f.push(r)}return ft(f)}function vt(t,i){var r,s=[],a=[],o=S[t+" "];if(!o){for(i||(i=ut(t)),r=i.length;r--;)(o=gt(i[r]))[v]?s.push(o):a.push(o);o=S(t,function(t,i){var r=i.length>0,s=t.length>0,a=function(a,o,c,u,h){var f,p,g,v=0,b="0",_=a&&[],E=[],S=n,T=a||s&&e.find.TAG("*",h),w=y+=null==S?1:Math.random()||.1,C=T.length;for(h&&(n=o==l||o||h);b!==C&&null!=(f=T[b]);b++){if(s&&f){for(p=0,o||f.ownerDocument==l||(lt(f),c=!d);g=t[p++];)if(g(f,o||l,c)){m.call(u,f);break}h&&(y=w)}r&&((f=!g&&f)&&v--,a&&_.push(f))}if(v+=b,r&&b!==v){for(p=0;g=i[p++];)g(_,E,o,c);if(a){if(v>0)for(;b--;)_[b]||E[b]||(E[b]=A.call(u));E=pt(E)}m.apply(u,E),h&&!a&&E.length>0&&v+i.length>1&&k.uniqueSort(u)}return h&&(y=w,n=S),_};return r?et(a):a}(a,s)),o.selector=t}return o}function yt(t,n,i,r){var s,a,o,l,c,u="function"==typeof t&&t,h=!r&&ut(t=u.selector||t);if(i=i||[],1===h.length){if((a=h[0]=h[0].slice(0)).length>2&&"ID"===(o=a[0]).type&&9===n.nodeType&&d&&e.relative[a[1].type]){if(!(n=(e.find.ID(o.matches[0].replace(Y,Q),n)||[])[0]))return i;u&&(n=n.parentNode),t=t.slice(a.shift().value.length)}for(s=q.needsContext.test(t)?0:a.length;s--&&(o=a[s],!e.relative[l=o.type]);)if((c=e.find[l])&&(r=c(o.matches[0].replace(Y,Q),z.test(a[0].type)&&ot(n.parentNode)||n))){if(a.splice(s,1),!(t=r.length&&dt(a)))return m.apply(i,r),i;break}}return(u||vt(t,h))(r,n,!d,i,!n||z.test(t)&&ot(n.parentNode)||n),i}ct.prototype=e.filters=e.pseudos,e.setFilters=new ct,g.sortStable=v.split("").sort(w).join("")===v,lt(),g.sortDetached=nt((function(t){return 1&t.compareDocumentPosition(l.createElement("fieldset"))})),k.find=J,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,J.compile=vt,J.select=yt,J.setDocument=lt,J.escape=k.escapeSelector,J.getText=k.text,J.isXML=k.isXMLDoc,J.selectors=k.expr,J.support=k.support,J.uniqueSort=k.uniqueSort}();var F=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&k(t).is(n))break;i.push(t)}return i},$=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},j=k.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(t,e,n){return v(e)?k.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?k.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?k.grep(t,(function(t){return u.call(e,t)>-1!==n})):k.filter(e,t,n)}k.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?k.find.matchesSelector(i,t)?[i]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<i;e++)if(k.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)k.find(t,r[e],n);return i>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(U(this,t||[],!1))},not:function(t){return this.pushStack(U(this,t||[],!0))},is:function(t){return!!U(this,"string"==typeof t&&j.test(t)?k(t):t||[],!1).length}});var H,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||H,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:G.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),B.test(i[1])&&k.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=b.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,H=k(b);var q=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};function V(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,s=[],a="string"!=typeof t&&k(t);if(!j.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?k.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?u.call(k(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return F(t,"parentNode")},parentsUntil:function(t,e,n){return F(t,"parentNode",n)},next:function(t){return V(t,"nextSibling")},prev:function(t){return V(t,"previousSibling")},nextAll:function(t){return F(t,"nextSibling")},prevAll:function(t){return F(t,"previousSibling")},nextUntil:function(t,e,n){return F(t,"nextSibling",n)},prevUntil:function(t,e,n){return F(t,"previousSibling",n)},siblings:function(t){return $((t.parentNode||{}).firstChild,t)},children:function(t){return $(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(x(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(n,i){var r=k.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=k.filter(i,r)),this.length>1&&(W[t]||k.uniqueSort(r),q.test(t)&&r.reverse()),this.pushStack(r)}}));var K=/[^\x20\t\r\n\f]+/g;function z(t){return t}function Y(t){throw t}function Q(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(K)||[],(function(t,n){e[n]=!0})),e}(t):k.extend({},t);var e,n,i,r,s=[],a=[],o=-1,l=function(){for(r=r||t.once,i=e=!0;a.length;o=-1)for(n=a.shift();++o<s.length;)!1===s[o].apply(n[0],n[1])&&t.stopOnFalse&&(o=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(o=s.length-1,a.push(n)),function e(n){k.each(n,(function(n,i){v(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==S(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return k.each(arguments,(function(t,e){for(var n;(n=k.inArray(e,s,n))>-1;)s.splice(n,1),n<=o&&o--})),this},has:function(t){return t?k.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||e||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(n){k.each(e,(function(e,i){var r=v(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var s=0;function a(t,e,n,r){return function(){var o=this,l=arguments,c=function(){var i,c;if(!(t<s)){if((i=n.apply(o,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?r?c.call(i,a(s,e,z,r),a(s,e,Y,r)):(s++,c.call(i,a(s,e,z,r),a(s,e,Y,r),a(s,e,z,e.notifyWith))):(n!==z&&(o=void 0,l=[i]),(r||e.resolveWith)(o,l))}},u=r?c:function(){try{c()}catch(i){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(i,u.error),t+1>=s&&(n!==Y&&(o=void 0,l=[i]),e.rejectWith(o,l))}};t?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),i.setTimeout(u))}}return k.Deferred((function(i){e[0][3].add(a(0,i,v(r)?r:z,i.notifyWith)),e[1][3].add(a(0,i,v(t)?t:z)),e[2][3].add(a(0,i,v(n)?n:Y))})).promise()},promise:function(t){return null!=t?k.extend(t,r):r}},s={};return k.each(e,(function(t,i){var a=i[2],o=i[5];r[i[1]]=a.add,o&&a.add((function(){n=o}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=a.fireWith})),r.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),r=o.call(arguments),s=k.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?o.call(arguments):n,--e||s.resolveWith(i,r)}};if(e<=1&&(Q(t,s.done(a(n)).resolve,s.reject,!e),"pending"===s.state()||v(r[n]&&r[n].then)))return s.then();for(;n--;)Q(r[n],a(n),s.reject);return s.promise()}});var X=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&X.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){i.setTimeout((function(){throw t}))};var Z=k.Deferred();function J(){b.removeEventListener("DOMContentLoaded",J),i.removeEventListener("load",J),k.ready()}k.fn.ready=function(t){return Z.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||Z.resolveWith(b,[k]))}}),k.ready.then=Z.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?i.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",J),i.addEventListener("load",J));var tt=function(t,e,n,i,r,s,a){var o=0,l=t.length,c=null==n;if("object"===S(n))for(o in r=!0,n)tt(t,e,o,n[o],!0,s,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(k(t),n)})),e))for(;o<l;o++)e(t[o],n,a?i:i.call(t[o],o,e(t[o],n)));return r?t:c?e.call(t):l?e(t[0],n):s},et=/^-ms-/,nt=/-([a-z])/g;function it(t,e){return e.toUpperCase()}function rt(t){return t.replace(et,"ms-").replace(nt,it)}var st=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function at(){this.expando=k.expando+at.uid++}at.uid=1,at.prototype={cache:function(t){var e=t[this.expando];return e||(e={},st(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[rt(e)]=n;else for(i in e)r[rt(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][rt(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(rt):(e=rt(e))in i?[e]:e.match(K)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||k.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var ot=new at,lt=new at,ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ut=/[A-Z]/g;function dt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(ut,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:ct.test(t)?JSON.parse(t):t)}(n)}catch(t){}lt.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return lt.hasData(t)||ot.hasData(t)},data:function(t,e,n){return lt.access(t,e,n)},removeData:function(t,e){lt.remove(t,e)},_data:function(t,e,n){return ot.access(t,e,n)},_removeData:function(t,e){ot.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,i,r,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(r=lt.get(s),1===s.nodeType&&!ot.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=rt(i.slice(5)),dt(s,i,r[i]));ot.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){lt.set(this,t)})):tt(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=lt.get(s,t))||void 0!==(n=dt(s,t))?n:void 0;this.each((function(){lt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){lt.remove(this,t)}))}}),k.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ot.get(t,e),n&&(!i||Array.isArray(n)?i=ot.access(t,e,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),i=n.length,r=n.shift(),s=k._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,(function(){k.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ot.get(t,n)||ot.access(t,n,{empty:k.Callbacks("once memory").add((function(){ot.remove(t,[e+"queue",n])}))})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each((function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=k.Deferred(),s=this,a=this.length,o=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=ot.get(s[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(e)}});var ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ft=new RegExp("^(?:([+-])=|)("+ht+")([a-z%]*)$","i"),pt=["Top","Right","Bottom","Left"],mt=b.documentElement,gt=function(t){return k.contains(t.ownerDocument,t)},vt={composed:!0};mt.getRootNode&&(gt=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(vt)===t.ownerDocument});var yt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&gt(t)&&"none"===k.css(t,"display")};function bt(t,e,n,i){var r,s,a=20,o=i?function(){return i.cur()}:function(){return k.css(t,e,"")},l=o(),c=n&&n[3]||(k.cssNumber[e]?"":"px"),u=t.nodeType&&(k.cssNumber[e]||"px"!==c&&+l)&&ft.exec(k.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)k.style(t,e,u+c),(1-s)*(1-(s=o()/l||.5))<=0&&(a=0),u/=s;u*=2,k.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var _t={};function Et(t){var e,n=t.ownerDocument,i=t.nodeName,r=_t[i];return r||(e=n.body.appendChild(n.createElement(i)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),_t[i]=r,r)}function St(t,e){for(var n,i,r=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(n=i.style.display,e?("none"===n&&(r[s]=ot.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&yt(i)&&(r[s]=Et(i))):"none"!==n&&(r[s]="none",ot.set(i,"display",n)));for(s=0;s<a;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}k.fn.extend({show:function(){return St(this,!0)},hide:function(){return St(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){yt(this)?k(this).show():k(this).hide()}))}});var Tt=/^(?:checkbox|radio)$/i,wt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,kt=/^$|^module$|\/(?:java|ecma)script/i;!function(){var t=b.createDocumentFragment().appendChild(b.createElement("div")),e=b.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),g.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",g.option=!!t.lastChild}();var Ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&x(t,e)?k.merge([t],n):n}function At(t,e){for(var n=0,i=t.length;n<i;n++)ot.set(t[n],"globalEval",!e||ot.get(e[n],"globalEval"))}Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead,Ct.th=Ct.td,g.option||(Ct.optgroup=Ct.option=[1,"<select multiple='multiple'>","</select>"]);var It=/<|&#?\w+;/;function Dt(t,e,n,i,r){for(var s,a,o,l,c,u,d=e.createDocumentFragment(),h=[],f=0,p=t.length;f<p;f++)if((s=t[f])||0===s)if("object"===S(s))k.merge(h,s.nodeType?[s]:s);else if(It.test(s)){for(a=a||d.appendChild(e.createElement("div")),o=(wt.exec(s)||["",""])[1].toLowerCase(),l=Ct[o]||Ct._default,a.innerHTML=l[1]+k.htmlPrefilter(s)+l[2],u=l[0];u--;)a=a.lastChild;k.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(e.createTextNode(s));for(d.textContent="",f=0;s=h[f++];)if(i&&k.inArray(s,i)>-1)r&&r.push(s);else if(c=gt(s),a=xt(d.appendChild(s),"script"),c&&At(a),n)for(u=0;s=a[u++];)kt.test(s.type||"")&&n.push(s);return d}var Lt=/^([^.]*)(?:\.(.+)|)/;function Pt(){return!0}function Ot(){return!1}function Rt(t,e,n,i,r,s){var a,o;if("object"==typeof e){for(o in"string"!=typeof n&&(i=i||n,n=void 0),e)Rt(t,o,n,i,e[o],s);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ot;else if(!r)return t;return 1===s&&(a=r,r=function(t){return k().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=k.guid++)),t.each((function(){k.event.add(this,e,r,i,n)}))}function Mt(t,e,n){n?(ot.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var n,i=ot.get(this,e);if(1&t.isTrigger&&this[e]){if(i)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=o.call(arguments),ot.set(this,e,i),this[e](),n=ot.get(this,e),ot.set(this,e,!1),i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else i&&(ot.set(this,e,k.event.trigger(i[0],i.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Pt)}})):void 0===ot.get(t,e)&&k.event.add(t,e,Pt)}k.event={global:{},add:function(t,e,n,i,r){var s,a,o,l,c,u,d,h,f,p,m,g=ot.get(t);if(st(t))for(n.handler&&(n=(s=n).handler,r=s.selector),r&&k.find.matchesSelector(mt,r),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(K)||[""]).length;c--;)f=m=(o=Lt.exec(e[c])||[])[1],p=(o[2]||"").split(".").sort(),f&&(d=k.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=k.event.special[f]||{},u=k.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:p.join(".")},s),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),k.event.global[f]=!0)},remove:function(t,e,n,i,r){var s,a,o,l,c,u,d,h,f,p,m,g=ot.hasData(t)&&ot.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(K)||[""]).length;c--;)if(f=m=(o=Lt.exec(e[c])||[])[1],p=(o[2]||"").split(".").sort(),f){for(d=k.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;s--;)u=h[s],!r&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||k.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)k.event.remove(t,f+e[c],n,i,!0);k.isEmptyObject(l)&&ot.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,s,a,o=new Array(arguments.length),l=k.event.fix(t),c=(ot.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(o[0]=l,e=1;e<arguments.length;e++)o[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,c),e=0;(r=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(i=((k.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,o))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,s,a,o=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],a={},n=0;n<l;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?k(r,this).index(c)>-1:k.find(r,this,null,[c]).length),a[r]&&s.push(i);s.length&&o.push({elem:c,handlers:s})}return c=this,l<e.length&&o.push({elem:c,handlers:e.slice(l)}),o},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return Tt.test(e.type)&&e.click&&x(e,"input")&&Mt(e,"click",!0),!1},trigger:function(t){var e=this||t;return Tt.test(e.type)&&e.click&&x(e,"input")&&Mt(e,"click"),!0},_default:function(t){var e=t.target;return Tt.test(e.type)&&e.click&&x(e,"input")&&ot.get(e,"click")||x(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Pt:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Pt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Pt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Pt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){if(b.documentMode){var n=ot.get(this,"handle"),i=k.event.fix(t);i.type="focusin"===t.type?"focus":"blur",i.isSimulated=!0,n(t),i.target===i.currentTarget&&n(i)}else k.event.simulate(e,t.target,k.event.fix(t))}k.event.special[t]={setup:function(){var i;if(Mt(this,t,!0),!b.documentMode)return!1;(i=ot.get(this,e))||this.addEventListener(e,n),ot.set(this,e,(i||0)+1)},trigger:function(){return Mt(this,t),!0},teardown:function(){var t;if(!b.documentMode)return!1;(t=ot.get(this,e)-1)?ot.set(this,e,t):(this.removeEventListener(e,n),ot.remove(this,e))},_default:function(e){return ot.get(e.target,t)},delegateType:e},k.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=b.documentMode?this:i,s=ot.get(r,e);s||(b.documentMode?this.addEventListener(e,n):i.addEventListener(t,n,!0)),ot.set(r,e,(s||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=b.documentMode?this:i,s=ot.get(r,e)-1;s?ot.set(r,e,s):(b.documentMode?this.removeEventListener(e,n):i.removeEventListener(t,n,!0),ot.remove(r,e))}}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||k.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),k.fn.extend({on:function(t,e,n,i){return Rt(this,t,e,n,i)},one:function(t,e,n,i){return Rt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,k(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ot),this.each((function(){k.event.remove(this,t,n,e)}))}});var Nt=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function jt(t,e){return x(t,"table")&&x(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ut(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ht(t,e){var n,i,r,s,a,o;if(1===e.nodeType){if(ot.hasData(t)&&(o=ot.get(t).events))for(r in ot.remove(e,"handle events"),o)for(n=0,i=o[r].length;n<i;n++)k.event.add(e,r,o[r][n]);lt.hasData(t)&&(s=lt.access(t),a=k.extend({},s),lt.set(e,a))}}function Gt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Tt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function qt(t,e,n,i){e=l(e);var r,s,a,o,c,u,d=0,h=t.length,f=h-1,p=e[0],m=v(p);if(m||h>1&&"string"==typeof p&&!g.checkClone&&Ft.test(p))return t.each((function(r){var s=t.eq(r);m&&(e[0]=p.call(this,r,s.html())),qt(s,e,n,i)}));if(h&&(s=(r=Dt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(o=(a=k.map(xt(r,"script"),Bt)).length;d<h;d++)c=r,d!==f&&(c=k.clone(c,!0,!0),o&&k.merge(a,xt(c,"script"))),n.call(t[d],c,d);if(o)for(u=a[a.length-1].ownerDocument,k.map(a,Ut),d=0;d<o;d++)c=a[d],kt.test(c.type||"")&&!ot.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):E(c.textContent.replace($t,""),c,u))}return t}function Wt(t,e,n){for(var i,r=e?k.filter(e,t):t,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||k.cleanData(xt(i)),i.parentNode&&(n&&gt(i)&&At(xt(i,"script")),i.parentNode.removeChild(i));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,s,a,o=t.cloneNode(!0),l=gt(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(a=xt(o),i=0,r=(s=xt(t)).length;i<r;i++)Gt(s[i],a[i]);if(e)if(n)for(s=s||xt(t),a=a||xt(o),i=0,r=s.length;i<r;i++)Ht(s[i],a[i]);else Ht(t,o);return(a=xt(o,"script")).length>0&&At(a,!l&&xt(t,"script")),o},cleanData:function(t){for(var e,n,i,r=k.event.special,s=0;void 0!==(n=t[s]);s++)if(st(n)){if(e=n[ot.expando]){if(e.events)for(i in e.events)r[i]?k.event.remove(n,i):k.removeEvent(n,i,e.handle);n[ot.expando]=void 0}n[lt.expando]&&(n[lt.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Wt(this,t,!0)},remove:function(t){return Wt(this,t)},text:function(t){return tt(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return qt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)}))},prepend:function(){return qt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return qt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return qt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return tt(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!Ct[(wt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return qt(this,arguments,(function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(xt(this)),n&&n.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var n,i=[],r=k(t),s=r.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),k(r[a])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var Vt=new RegExp("^("+ht+")(?!px)[a-z%]+$","i"),Kt=/^--/,zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Yt=function(t,e,n){var i,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=s[r];return i},Qt=new RegExp(pt.join("|"),"i");function Xt(t,e,n){var i,r,s,a,o=Kt.test(e),l=t.style;return(n=n||zt(t))&&(a=n.getPropertyValue(e)||n[e],o&&a&&(a=a.replace(P,"$1")||void 0),""!==a||gt(t)||(a=k.style(t,e)),!g.pixelBoxStyles()&&Vt.test(a)&&Qt.test(e)&&(i=l.width,r=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=i,l.minWidth=r,l.maxWidth=s)),void 0!==a?a+"":a}function Zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",mt.appendChild(c).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",a=36===e(t.right),r=36===e(t.width),u.style.position="absolute",s=12===e(u.offsetWidth/3),mt.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,r,s,a,o,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,e,n,r;return null==o&&(t=b.createElement("table"),e=b.createElement("tr"),n=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",mt.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),o=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,mt.removeChild(t)),o}}))}();var Jt=["Webkit","Moz","ms"],te=b.createElement("div").style,ee={};function ne(t){var e=k.cssProps[t]||ee[t];return e||(t in te?t:ee[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Jt.length;n--;)if((t=Jt[n]+e)in te)return t}(t)||t)}var ie=/^(none|table(?!-c[ea]).+)/,re={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function ae(t,e,n){var i=ft.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function oe(t,e,n,i,r,s){var a="width"===e?1:0,o=0,l=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=k.css(t,n+pt[a],!0,r)),i?("content"===n&&(l-=k.css(t,"padding"+pt[a],!0,r)),"margin"!==n&&(l-=k.css(t,"border"+pt[a]+"Width",!0,r))):(l+=k.css(t,"padding"+pt[a],!0,r),"padding"!==n?l+=k.css(t,"border"+pt[a]+"Width",!0,r):o+=k.css(t,"border"+pt[a]+"Width",!0,r));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-o-.5))||0),l+c}function le(t,e,n){var i=zt(t),r=(!g.boxSizingReliable()||n)&&"border-box"===k.css(t,"boxSizing",!1,i),s=r,a=Xt(t,e,i),o="offset"+e[0].toUpperCase()+e.slice(1);if(Vt.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&x(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===k.css(t,"boxSizing",!1,i),(s=o in t)&&(a=t[o])),(a=parseFloat(a)||0)+oe(t,e,n||(r?"border":"content"),s,i,a)+"px"}function ce(t,e,n,i,r){return new ce.prototype.init(t,e,n,i,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Xt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a,o=rt(e),l=Kt.test(e),c=t.style;if(l||(e=ne(o)),a=k.cssHooks[e]||k.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e];"string"===(s=typeof n)&&(r=ft.exec(n))&&r[1]&&(n=bt(t,e,r),s="number"),null!=n&&n==n&&("number"!==s||l||(n+=r&&r[3]||(k.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,s,a,o=rt(e);return Kt.test(e)||(e=ne(o)),(a=k.cssHooks[e]||k.cssHooks[o])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Xt(t,e,i)),"normal"===r&&e in se&&(r=se[e]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,n,i){if(n)return!ie.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?le(t,e,i):Yt(t,re,(function(){return le(t,e,i)}))},set:function(t,n,i){var r,s=zt(t),a=!g.scrollboxSize()&&"absolute"===s.position,o=(a||i)&&"border-box"===k.css(t,"boxSizing",!1,s),l=i?oe(t,e,i,o,s):0;return o&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-oe(t,e,"border",!1,s)-.5)),l&&(r=ft.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),ae(0,n,l)}}})),k.cssHooks.marginLeft=Zt(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-Yt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+pt[i]+e]=s[i]||s[i-2]||s[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=ae)})),k.fn.extend({css:function(t,e){return tt(this,(function(t,e,n){var i,r,s={},a=0;if(Array.isArray(e)){for(i=zt(t),r=e.length;a<r;a++)s[e[a]]=k.css(t,e[a],!1,i);return s}return void 0!==n?k.style(t,e,n):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=ce,ce.prototype={constructor:ce,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(k.cssNumber[n]?"":"px")},cur:function(){var t=ce.propHooks[this.prop];return t&&t.get?t.get(this):ce.propHooks._default.get(this)},run:function(t){var e,n=ce.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ce.propHooks._default.set(this),this}},ce.prototype.init.prototype=ce.prototype,ce.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[ne(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},ce.propHooks.scrollTop=ce.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=ce.prototype.init,k.fx.step={};var ue,de,he,fe,pe=/^(?:toggle|show|hide)$/,me=/queueHooks$/;function ge(){de&&(!1===b.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ge):i.setTimeout(ge,k.fx.interval),k.fx.tick())}function ve(){return i.setTimeout((function(){ue=void 0})),ue=Date.now()}function ye(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=pt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function be(t,e,n){for(var i,r=(_e.tweeners[e]||[]).concat(_e.tweeners["*"]),s=0,a=r.length;s<a;s++)if(i=r[s].call(n,e,t))return i}function _e(t,e,n){var i,r,s=0,a=_e.prefilters.length,o=k.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=ue||ve(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),s=0,a=c.tweens.length;s<a;s++)c.tweens[s].run(i);return o.notifyWith(t,[c,i,n]),i<1&&a?n:(a||o.notifyWith(t,[c,1,0]),o.resolveWith(t,[c]),!1)},c=o.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ue||ve(),duration:n.duration,tweens:[],createTween:function(e,n){var i=k.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(o.notifyWith(t,[c,1,0]),o.resolveWith(t,[c,e])):o.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var n,i,r,s,a;for(n in t)if(r=e[i=rt(n)],s=t[n],Array.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(a=k.cssHooks[i])&&"expand"in a)for(n in s=a.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);s<a;s++)if(i=_e.prefilters[s].call(c,t,u,c.opts))return v(i.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return k.map(u,be,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(_e,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return bt(n.elem,t,ft.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(K);for(var n,i=0,r=t.length;i<r;i++)n=t[i],_e.tweeners[n]=_e.tweeners[n]||[],_e.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,s,a,o,l,c,u,d="width"in e||"height"in e,h=this,f={},p=t.style,m=t.nodeType&&yt(t),g=ot.get(t,"fxshow");for(i in n.queue||(null==(a=k._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,k.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[i],pe.test(r)){if(delete e[i],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||k.style(t,i)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=ot.get(t,"display")),"none"===(u=k.css(t,"display"))&&(c?u=c:(St([t],!0),c=t.style.display||c,u=k.css(t,"display"),St([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(t,"float")&&(l||(h.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=ot.access(t,"fxshow",{display:c}),s&&(g.hidden=!m),m&&St([t],!0),h.done((function(){for(i in m||St([t]),ot.remove(t,"fxshow"),f)k.style(t,i,f[i])}))),l=be(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?_e.prefilters.unshift(t):_e.prefilters.push(t)}}),k.speed=function(t,e,n){var i=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return k.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in k.fx.speeds?i.duration=k.fx.speeds[i.duration]:i.duration=k.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(t,e,n,i){return this.filter(yt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=k.isEmptyObject(t),s=k.speed(e,n,i),a=function(){var e=_e(this,k.extend({},t),s);(r||ot.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",s=k.timers,a=ot.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&me.test(r)&&i(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));!e&&n||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=ot.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=k.timers,a=i?i.length:0;for(n.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var n=k.fn[e];k.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ye(e,!0),t,i,r)}})),k.each({slideDown:ye("show"),slideUp:ye("hide"),slideToggle:ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ue=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ue=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){de||(de=!0,ge())},k.fx.stop=function(){de=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},he=b.createElement("input"),fe=b.createElement("select").appendChild(b.createElement("option")),he.type="checkbox",g.checkOn=""!==he.value,g.optSelected=fe.selected,(he=b.createElement("input")).value="t",he.type="radio",g.radioValue="t"===he.value;var Ee,Se=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return tt(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?k.prop(t,e,n):(1===s&&k.isXMLDoc(t)||(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?Ee:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=k.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&x(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(K);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),Ee={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Se[e]||k.find.attr;Se[e]=function(t,e,i){var r,s,a=e.toLowerCase();return i||(s=Se[a],Se[a]=r,r=null!=n(t,e,i)?a:null,Se[a]=s),r}}));var Te=/^(?:input|select|textarea|button)$/i,we=/^(?:a|area)$/i;function ke(t){return(t.match(K)||[]).join(" ")}function Ce(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(K)||[]}k.fn.extend({prop:function(t,e){return tt(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&k.isXMLDoc(t)||(e=k.propFix[e]||e,r=k.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||we.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,n,i,r,s,a;return v(t)?this.each((function(e){k(this).addClass(t.call(this,e,Ce(this)))})):(e=xe(t)).length?this.each((function(){if(i=Ce(this),n=1===this.nodeType&&" "+ke(i)+" "){for(s=0;s<e.length;s++)r=e[s],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=ke(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(t){var e,n,i,r,s,a;return v(t)?this.each((function(e){k(this).removeClass(t.call(this,e,Ce(this)))})):arguments.length?(e=xe(t)).length?this.each((function(){if(i=Ce(this),n=1===this.nodeType&&" "+ke(i)+" "){for(s=0;s<e.length;s++)for(r=e[s];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=ke(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,i,r,s,a=typeof t,o="string"===a||Array.isArray(t);return v(t)?this.each((function(n){k(this).toggleClass(t.call(this,n,Ce(this),e),e)})):"boolean"==typeof e&&o?e?this.addClass(t):this.removeClass(t):(n=xe(t),this.each((function(){if(o)for(s=k(this),r=0;r<n.length;r++)i=n[r],s.hasClass(i)?s.removeClass(i):s.addClass(i);else void 0!==t&&"boolean"!==a||((i=Ce(this))&&ot.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===t?"":ot.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ke(Ce(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ae=/\r/g;k.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,k(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,(function(t){return null==t?"":t+""}))),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ae,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ke(k.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,a="select-one"===t.type,o=a?null:[],l=a?s+1:r.length;for(i=s<0?l:a?s:0;i<l;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!x(n.parentNode,"optgroup"))){if(e=k(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,s=k.makeArray(e),a=r.length;a--;)((i=r[a]).selected=k.inArray(k.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},g.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Ie=i.location,De={guid:Date.now()},Le=/\?/;k.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Pe=/^(?:focusinfocus|focusoutblur)$/,Oe=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,n,r){var s,a,o,l,c,u,d,h,p=[n||b],m=f.call(t,"type")?t.type:t,g=f.call(t,"namespace")?t.namespace.split("."):[];if(a=h=o=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!Pe.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[k.expando]?t:new k.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:k.makeArray(e,[t]),d=k.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(n,e))){if(!r&&!d.noBubble&&!y(n)){for(l=d.delegateType||m,Pe.test(l+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),o=a;o===(n.ownerDocument||b)&&p.push(o.defaultView||o.parentWindow||i)}for(s=0;(a=p[s++])&&!t.isPropagationStopped();)h=a,t.type=s>1?l:d.bindType||m,(u=(ot.get(a,"events")||Object.create(null))[t.type]&&ot.get(a,"handle"))&&u.apply(a,e),(u=c&&a[c])&&u.apply&&st(a)&&(t.result=u.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),e)||!st(n)||c&&v(n[m])&&!y(n)&&((o=n[c])&&(n[c]=null),k.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Oe),n[m](),t.isPropagationStopped()&&h.removeEventListener(m,Oe),k.event.triggered=void 0,o&&(n[c]=o)),t.result}},simulate:function(t,e,n){var i=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(i,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}});var Re=/\[\]$/,Me=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;function $e(t,e,n,i){var r;if(Array.isArray(e))k.each(e,(function(e,r){n||Re.test(t)?i(t,r):$e(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==S(e))i(t,e);else for(r in e)$e(t+"["+r+"]",e[r],n,i)}k.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){r(this.name,this.value)}));else for(n in t)$e(n,t[n],e,r);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Fe.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!Tt.test(t))})).map((function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})):{name:e.name,value:n.replace(Me,"\r\n")}})).get()}});var je=/%20/g,Be=/#.*$/,Ue=/([?&])_=[^&]*/,He=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ge=/^(?:GET|HEAD)$/,qe=/^\/\//,We={},Ve={},Ke="*/".concat("*"),ze=b.createElement("a");function Ye(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(K)||[];if(v(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Qe(t,e,n,i){var r={},s=t===Ve;function a(o){var l;return r[o]=!0,k.each(t[o]||[],(function(t,o){var c=o(e,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Xe(t,e){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&k.extend(!0,t,i),t}ze.href=Ie.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,k.ajaxSettings),e):Xe(k.ajaxSettings,t)},ajaxPrefilter:Ye(We),ajaxTransport:Ye(Ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,s,a,o,l,c,u,d,h,f=k.ajaxSetup({},e),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?k(p):k.event,g=k.Deferred(),v=k.Callbacks("once memory"),y=f.statusCode||{},_={},E={},S="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=He.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)T.always(t[T.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||S;return n&&n.abort(e),w(0,e),this}};if(g.promise(T),f.url=((t||f.url||Ie.href)+"").replace(qe,Ie.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(K)||[""],null==f.crossDomain){l=b.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=ze.protocol+"//"+ze.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),Qe(We,f,e,T),c)return T;for(d in(u=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ge.test(f.type),r=f.url.replace(Be,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(je,"+")):(h=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Le.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ue,"$1"),h=(Le.test(r)?"&":"?")+"_="+De.guid+++h),f.url=r+h),f.ifModified&&(k.lastModified[r]&&T.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&T.setRequestHeader("If-None-Match",k.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ke+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,T,f)||c))return T.abort();if(S="abort",v.add(f.complete),T.done(f.success),T.fail(f.error),n=Qe(Ve,f,e,T)){if(T.readyState=1,u&&m.trigger("ajaxSend",[T,f]),c)return T;f.async&&f.timeout>0&&(o=i.setTimeout((function(){T.abort("timeout")}),f.timeout));try{c=!1,n.send(_,w)}catch(t){if(c)throw t;w(-1,t)}}else w(-1,"No Transport");function w(t,e,a,l){var d,h,b,_,E,S=e;c||(c=!0,o&&i.clearTimeout(o),n=void 0,s=l||"",T.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var i,r,s,a,o=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),n[s]}(f,T,a)),!d&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),_=function(t,e,n,i){var r,s,a,o,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(s=u.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(a=c[l+" "+s]||c["* "+s]))for(r in c)if((o=r.split(" "))[1]===s&&(a=c[l+" "+o[0]]||c["* "+o[0]])){!0===a?a=c[r]:!0!==c[r]&&(s=o[0],u.unshift(o[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(f,_,T,d),d?(f.ifModified&&((E=T.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=E),(E=T.getResponseHeader("etag"))&&(k.etag[r]=E)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=_.state,h=_.data,d=!(b=_.error))):(b=S,!t&&S||(S="error",t<0&&(t=0))),T.status=t,T.statusText=(e||S)+"",d?g.resolveWith(p,[h,S,T]):g.rejectWith(p,[T,S,b]),T.statusCode(y),y=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[T,f,d?h:b]),v.fireWith(p,[T,S]),u&&(m.trigger("ajaxComplete",[T,f]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:n,success:i},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,n){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,n)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){k(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ze={0:200,1223:204},Je=k.ajaxSettings.xhr();g.cors=!!Je&&"withCredentials"in Je,g.ajax=Je=!!Je,k.ajaxTransport((function(t){var e,n;if(g.cors||Je&&!t.crossDomain)return{send:function(r,s){var a,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];for(a in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===t?o.abort():"error"===t?"number"!=typeof o.status?s(0,"error"):s(o.status,o.statusText):s(Ze[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=e(),n=o.onerror=o.ontimeout=e("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var tn,en=[],nn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=en.pop()||k.expando+"_"+De.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,n){var r,s,a,o=!1!==t.jsonp&&(nn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(nn,"$1"+r):!1!==t.jsonp&&(t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||k.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===s?k(i).removeProp(r):i[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,en.push(r)),a&&v(s)&&s(a[0]),a=s=void 0})),"script"})),g.createHTMLDocument=((tn=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((i=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(i)):e=b),s=!n&&[],(r=B.exec(t))?[e.createElement(r[1])]:(r=Dt([t],e,s),s&&s.length&&k(s).remove(),k.merge([],r.childNodes)));var i,r,s},k.fn.load=function(t,e,n){var i,r,s,a=this,o=t.indexOf(" ");return o>-1&&(i=ke(t.slice(o)),t=t.slice(0,o)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,a.html(i?k("<div>").append(k.parseHTML(t)).find(i):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,n){var i,r,s,a,o,l,c=k.css(t,"position"),u=k(t),d={};"static"===c&&(t.style.position="relative"),o=u.offset(),s=k.css(t,"top"),l=k.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(s)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,n,k.extend({},o))),null!=e.top&&(d.top=e.top-o.top+a),null!=e.left&&(d.left=e.left-o.left+r),"using"in e?e.using.call(t,d):u.css(d)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===k.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(i,"marginTop",!0),left:e.left-r.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||mt}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;k.fn[t]=function(i){return tt(this,(function(t,i,r){var s;if(y(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):t[i]=r}),t,i,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=Zt(g.pixelPosition,(function(t,n){if(n)return n=Xt(t,e),Vt.test(n)?k(t).position()[e]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){k.fn[i]=function(r,s){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===s?"margin":"border");return tt(this,(function(e,n,r){var s;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?k.css(e,n,o):k.style(e,n,r,o)}),e,a?r:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=o.call(arguments,2),r=function(){return t.apply(e||this,i.concat(o.call(arguments)))},r.guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=x,k.isFunction=v,k.isWindow=y,k.camelCase=rt,k.type=S,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(rn,"$1")},void 0===(n=function(){return k}.apply(e,[]))||(t.exports=n);var sn=i.jQuery,an=i.$;return k.noConflict=function(t){return i.$===k&&(i.$=an),t&&i.jQuery===k&&(i.jQuery=sn),k},void 0===r&&(i.jQuery=i.$=k),k}))},6486:function(t,e,n){var i;t=n.nmd(t),function(){var r,s="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",b="[object Array]",_="[object Boolean]",E="[object Date]",S="[object Error]",T="[object Function]",w="[object GeneratorFunction]",k="[object Map]",C="[object Number]",x="[object Object]",A="[object Promise]",I="[object RegExp]",D="[object Set]",L="[object String]",P="[object Symbol]",O="[object WeakMap]",R="[object ArrayBuffer]",M="[object DataView]",N="[object Float32Array]",F="[object Float64Array]",$="[object Int8Array]",j="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",H="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]",W=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp(z.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,st=RegExp(rt.source),at=/^\s+/,ot=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,Et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,Tt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="\\u2700-\\u27bf",xt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",It="\\ufe0e\\ufe0f",Dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="[']",Pt="["+wt+"]",Ot="["+Dt+"]",Rt="["+kt+"]",Mt="\\d+",Nt="["+Ct+"]",Ft="["+xt+"]",$t="[^"+wt+Dt+Mt+Ct+xt+At+"]",jt="\\ud83c[\\udffb-\\udfff]",Bt="[^"+wt+"]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",Gt="["+At+"]",qt="\\u200d",Wt="(?:"+Ft+"|"+$t+")",Vt="(?:"+Gt+"|"+$t+")",Kt="(?:['](?:d|ll|m|re|s|t|ve))?",zt="(?:['](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Rt+"|"+jt+")"+"?",Qt="["+It+"]?",Xt=Qt+Yt+("(?:"+qt+"(?:"+[Bt,Ut,Ht].join("|")+")"+Qt+Yt+")*"),Zt="(?:"+[Nt,Ut,Ht].join("|")+")"+Xt,Jt="(?:"+[Bt+Rt+"?",Rt,Ut,Ht,Pt].join("|")+")",te=RegExp(Lt,"g"),ee=RegExp(Rt,"g"),ne=RegExp(jt+"(?="+jt+")|"+Jt+Xt,"g"),ie=RegExp([Gt+"?"+Ft+"+"+Kt+"(?="+[Ot,Gt,"$"].join("|")+")",Vt+"+"+zt+"(?="+[Ot,Gt+Wt,"$"].join("|")+")",Gt+"?"+Wt+"+"+Kt,Gt+"+"+zt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,Zt].join("|"),"g"),re=RegExp("["+qt+wt+kt+It+"]"),se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oe=-1,le={};le[N]=le[F]=le[$]=le[j]=le[B]=le[U]=le[H]=le[G]=le[q]=!0,le[y]=le[b]=le[R]=le[_]=le[M]=le[E]=le[S]=le[T]=le[k]=le[C]=le[x]=le[I]=le[D]=le[L]=le[O]=!1;var ce={};ce[y]=ce[b]=ce[R]=ce[M]=ce[_]=ce[E]=ce[N]=ce[F]=ce[$]=ce[j]=ce[B]=ce[k]=ce[C]=ce[x]=ce[I]=ce[D]=ce[L]=ce[P]=ce[U]=ce[H]=ce[G]=ce[q]=!0,ce[S]=ce[T]=ce[O]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},de=parseFloat,he=parseInt,fe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,me=fe||pe||Function("return this")(),ge=e&&!e.nodeType&&e,ve=ge&&t&&!t.nodeType&&t,ye=ve&&ve.exports===ge,be=ye&&fe.process,_e=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),Ee=_e&&_e.isArrayBuffer,Se=_e&&_e.isDate,Te=_e&&_e.isMap,we=_e&&_e.isRegExp,ke=_e&&_e.isSet,Ce=_e&&_e.isTypedArray;function xe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ae(t,e,n,i){for(var r=-1,s=null==t?0:t.length;++r<s;){var a=t[r];e(i,a,n(a),t)}return i}function Ie(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function De(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Le(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Pe(t,e){for(var n=-1,i=null==t?0:t.length,r=0,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}function Oe(t,e){return!!(null==t?0:t.length)&&Ge(t,e,0)>-1}function Re(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Me(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Ne(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Fe(t,e,n,i){var r=-1,s=null==t?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function $e(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function je(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Be=Ke("length");function Ue(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function He(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function Ge(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):He(t,We,n)}function qe(t,e,n,i){for(var r=n-1,s=t.length;++r<s;)if(i(t[r],e))return r;return-1}function We(t){return t!=t}function Ve(t,e){var n=null==t?0:t.length;return n?Qe(t,e)/n:m}function Ke(t){return function(e){return null==e?r:e[t]}}function ze(t){return function(e){return null==t?r:t[e]}}function Ye(t,e,n,i,r){return r(t,(function(t,r,s){n=i?(i=!1,t):e(n,t,r,s)})),n}function Qe(t,e){for(var n,i=-1,s=t.length;++i<s;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function Xe(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Ze(t){return t?t.slice(0,gn(t)+1).replace(at,""):t}function Je(t){return function(e){return t(e)}}function tn(t,e){return Me(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,i=t.length;++n<i&&Ge(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&Ge(e,t[n],0)>-1;);return n}var sn=ze({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),an=ze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(t){return"\\"+ue[t]}function ln(t){return re.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function un(t,e){return function(n){return t(e(n))}}function dn(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var a=t[n];a!==e&&a!==o||(t[n]=o,s[r++]=n)}return s}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return ln(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Be(t)}function mn(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&ot.test(t.charAt(e)););return e}var vn=ze({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n,i=(e=null==e?me:yn.defaults(me.Object(),e,yn.pick(me,ae))).Array,ot=e.Date,wt=e.Error,kt=e.Function,Ct=e.Math,xt=e.Object,At=e.RegExp,It=e.String,Dt=e.TypeError,Lt=i.prototype,Pt=kt.prototype,Ot=xt.prototype,Rt=e["__core-js_shared__"],Mt=Pt.toString,Nt=Ot.hasOwnProperty,Ft=0,$t=(n=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",jt=Ot.toString,Bt=Mt.call(xt),Ut=me._,Ht=At("^"+Mt.call(Nt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gt=ye?e.Buffer:r,qt=e.Symbol,Wt=e.Uint8Array,Vt=Gt?Gt.allocUnsafe:r,Kt=un(xt.getPrototypeOf,xt),zt=xt.create,Yt=Ot.propertyIsEnumerable,Qt=Lt.splice,Xt=qt?qt.isConcatSpreadable:r,Zt=qt?qt.iterator:r,Jt=qt?qt.toStringTag:r,ne=function(){try{var t=hs(xt,"defineProperty");return t({},"",{}),t}catch(t){}}(),re=e.clearTimeout!==me.clearTimeout&&e.clearTimeout,ue=ot&&ot.now!==me.Date.now&&ot.now,fe=e.setTimeout!==me.setTimeout&&e.setTimeout,pe=Ct.ceil,ge=Ct.floor,ve=xt.getOwnPropertySymbols,be=Gt?Gt.isBuffer:r,_e=e.isFinite,Be=Lt.join,ze=un(xt.keys,xt),bn=Ct.max,_n=Ct.min,En=ot.now,Sn=e.parseInt,Tn=Ct.random,wn=Lt.reverse,kn=hs(e,"DataView"),Cn=hs(e,"Map"),xn=hs(e,"Promise"),An=hs(e,"Set"),In=hs(e,"WeakMap"),Dn=hs(xt,"create"),Ln=In&&new In,Pn={},On=$s(kn),Rn=$s(Cn),Mn=$s(xn),Nn=$s(An),Fn=$s(In),$n=qt?qt.prototype:r,jn=$n?$n.valueOf:r,Bn=$n?$n.toString:r;function Un(t){if(eo(t)&&!qa(t)&&!(t instanceof Wn)){if(t instanceof qn)return t;if(Nt.call(t,"__wrapped__"))return js(t)}return new qn(t)}var Hn=function(){function t(){}return function(e){if(!to(e))return{};if(zt)return zt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Gn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new zn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Kn(t);this.size=e.size}function Xn(t,e){var n=qa(t),i=!n&&Ga(t),r=!n&&!i&&za(t),s=!n&&!i&&!r&&co(t),a=n||i||r||s,o=a?Xe(t.length,It):[],l=o.length;for(var c in t)!e&&!Nt.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bs(c,l))||o.push(c);return o}function Zn(t){var e=t.length;return e?t[Yi(0,e-1)]:r}function Jn(t,e){return Ms(Dr(t),li(e,0,t.length))}function ti(t){return Ms(Dr(t))}function ei(t,e,n){(n!==r&&!Ba(t[e],n)||n===r&&!(e in t))&&ai(t,e,n)}function ni(t,e,n){var i=t[e];Nt.call(t,e)&&Ba(i,n)&&(n!==r||e in t)||ai(t,e,n)}function ii(t,e){for(var n=t.length;n--;)if(Ba(t[n][0],e))return n;return-1}function ri(t,e,n,i){return fi(t,(function(t,r,s){e(i,t,n(t),s)})),i}function si(t,e){return t&&Lr(e,Po(e),t)}function ai(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function oi(t,e){for(var n=-1,s=e.length,a=i(s),o=null==t;++n<s;)a[n]=o?r:xo(t,e[n]);return a}function li(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function ci(t,e,n,i,s,a){var o,l=1&e,c=2&e,u=4&e;if(n&&(o=s?n(t,i,s,a):n(t)),o!==r)return o;if(!to(t))return t;var d=qa(t);if(d){if(o=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Dr(t,o)}else{var h=ms(t),f=h==T||h==w;if(za(t))return wr(t,l);if(h==x||h==y||f&&!s){if(o=c||f?{}:vs(t),!l)return c?function(t,e){return Lr(t,ps(t),e)}(t,function(t,e){return t&&Lr(e,Oo(e),t)}(o,t)):function(t,e){return Lr(t,fs(t),e)}(t,si(o,t))}else{if(!ce[h])return s?t:{};o=function(t,e,n){var i=t.constructor;switch(e){case R:return kr(t);case _:case E:return new i(+t);case M:return function(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case F:case $:case j:case B:case U:case H:case G:case q:return Cr(t,n);case k:return new i;case C:case L:return new i(t);case I:return function(t){var e=new t.constructor(t.source,mt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case D:return new i;case P:return r=t,jn?xt(jn.call(r)):{}}var r}(t,h,l)}}a||(a=new Qn);var p=a.get(t);if(p)return p;a.set(t,o),ao(t)?t.forEach((function(i){o.add(ci(i,e,n,i,t,a))})):no(t)&&t.forEach((function(i,r){o.set(r,ci(i,e,n,r,t,a))}));var m=d?r:(u?c?ss:rs:c?Oo:Po)(t);return Ie(m||t,(function(i,r){m&&(i=t[r=i]),ni(o,r,ci(i,e,n,r,t,a))})),o}function ui(t,e,n){var i=n.length;if(null==t)return!i;for(t=xt(t);i--;){var s=n[i],a=e[s],o=t[s];if(o===r&&!(s in t)||!a(o))return!1}return!0}function di(t,e,n){if("function"!=typeof t)throw new Dt(s);return Ls((function(){t.apply(r,n)}),e)}function hi(t,e,n,i){var r=-1,s=Oe,a=!0,o=t.length,l=[],c=e.length;if(!o)return l;n&&(e=Me(e,Je(n))),i?(s=Re,a=!1):e.length>=200&&(s=en,a=!1,e=new Yn(e));t:for(;++r<o;){var u=t[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,a&&d==d){for(var h=c;h--;)if(e[h]===d)continue t;l.push(u)}else s(e,d,i)||l.push(u)}return l}Un.templateSettings={escape:Z,evaluate:J,interpolate:tt,variable:"",imports:{_:Un}},Un.prototype=Gn.prototype,Un.prototype.constructor=Un,qn.prototype=Hn(Gn.prototype),qn.prototype.constructor=qn,Wn.prototype=Hn(Gn.prototype),Wn.prototype.constructor=Wn,Vn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(Dn){var n=e[t];return n===a?r:n}return Nt.call(e,t)?e[t]:r},Vn.prototype.has=function(t){var e=this.__data__;return Dn?e[t]!==r:Nt.call(e,t)},Vn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dn&&e===r?a:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=ii(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=ii(e,t);return n<0?r:e[n][1]},Kn.prototype.has=function(t){return ii(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,i=ii(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Cn||Kn),string:new Vn}},zn.prototype.delete=function(t){var e=us(this,t).delete(t);return this.size-=e?1:0,e},zn.prototype.get=function(t){return us(this,t).get(t)},zn.prototype.has=function(t){return us(this,t).has(t)},zn.prototype.set=function(t,e){var n=us(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,a),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var i=n.__data__;if(!Cn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new zn(i)}return n.set(t,e),this.size=n.size,this};var fi=Rr(Ei),pi=Rr(Si,!0);function mi(t,e){var n=!0;return fi(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function gi(t,e,n){for(var i=-1,s=t.length;++i<s;){var a=t[i],o=e(a);if(null!=o&&(l===r?o==o&&!lo(o):n(o,l)))var l=o,c=a}return c}function vi(t,e){var n=[];return fi(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function yi(t,e,n,i,r){var s=-1,a=t.length;for(n||(n=ys),r||(r=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?yi(o,e-1,n,i,r):Ne(r,o):i||(r[r.length]=o)}return r}var bi=Mr(),_i=Mr(!0);function Ei(t,e){return t&&bi(t,e,Po)}function Si(t,e){return t&&_i(t,e,Po)}function Ti(t,e){return Pe(e,(function(e){return Xa(t[e])}))}function wi(t,e){for(var n=0,i=(e=_r(e,t)).length;null!=t&&n<i;)t=t[Fs(e[n++])];return n&&n==i?t:r}function ki(t,e,n){var i=e(t);return qa(t)?i:Ne(i,n(t))}function Ci(t){return null==t?t===r?"[object Undefined]":"[object Null]":Jt&&Jt in xt(t)?function(t){var e=Nt.call(t,Jt),n=t[Jt];try{t[Jt]=r;var i=!0}catch(t){}var s=jt.call(t);i&&(e?t[Jt]=n:delete t[Jt]);return s}(t):function(t){return jt.call(t)}(t)}function xi(t,e){return t>e}function Ai(t,e){return null!=t&&Nt.call(t,e)}function Ii(t,e){return null!=t&&e in xt(t)}function Di(t,e,n){for(var s=n?Re:Oe,a=t[0].length,o=t.length,l=o,c=i(o),u=1/0,d=[];l--;){var h=t[l];l&&e&&(h=Me(h,Je(e))),u=_n(h.length,u),c[l]=!n&&(e||a>=120&&h.length>=120)?new Yn(l&&h):r}h=t[0];var f=-1,p=c[0];t:for(;++f<a&&d.length<u;){var m=h[f],g=e?e(m):m;if(m=n||0!==m?m:0,!(p?en(p,g):s(d,g,n))){for(l=o;--l;){var v=c[l];if(!(v?en(v,g):s(t[l],g,n)))continue t}p&&p.push(g),d.push(m)}}return d}function Li(t,e,n){var i=null==(t=As(t,e=_r(e,t)))?t:t[Fs(Qs(e))];return null==i?r:xe(i,t,n)}function Pi(t){return eo(t)&&Ci(t)==y}function Oi(t,e,n,i,s){return t===e||(null==t||null==e||!eo(t)&&!eo(e)?t!=t&&e!=e:function(t,e,n,i,s,a){var o=qa(t),l=qa(e),c=o?b:ms(t),u=l?b:ms(e),d=(c=c==y?x:c)==x,h=(u=u==y?x:u)==x,f=c==u;if(f&&za(t)){if(!za(e))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new Qn),o||co(t)?ns(t,e,n,i,s,a):function(t,e,n,i,r,s,a){switch(n){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!s(new Wt(t),new Wt(e)));case _:case E:case C:return Ba(+t,+e);case S:return t.name==e.name&&t.message==e.message;case I:case L:return t==e+"";case k:var o=cn;case D:var l=1&i;if(o||(o=hn),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=2,a.set(t,e);var u=ns(o(t),o(e),i,r,s,a);return a.delete(t),u;case P:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,c,n,i,s,a);if(!(1&n)){var p=d&&Nt.call(t,"__wrapped__"),m=h&&Nt.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new Qn),s(g,v,n,i,a)}}if(!f)return!1;return a||(a=new Qn),function(t,e,n,i,s,a){var o=1&n,l=rs(t),c=l.length,u=rs(e),d=u.length;if(c!=d&&!o)return!1;var h=c;for(;h--;){var f=l[h];if(!(o?f in e:Nt.call(e,f)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);var v=o;for(;++h<c;){var y=t[f=l[h]],b=e[f];if(i)var _=o?i(b,y,f,e,t,a):i(y,b,f,t,e,a);if(!(_===r?y===b||s(y,b,n,i,a):_)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var E=t.constructor,S=e.constructor;E==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof E&&E instanceof E&&"function"==typeof S&&S instanceof S||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,i,s,a)}(t,e,n,i,Oi,s))}function Ri(t,e,n,i){var s=n.length,a=s,o=!i;if(null==t)return!a;for(t=xt(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){var c=(l=n[s])[0],u=t[c],d=l[1];if(o&&l[2]){if(u===r&&!(c in t))return!1}else{var h=new Qn;if(i)var f=i(u,d,c,t,e,h);if(!(f===r?Oi(d,u,3,i,h):f))return!1}}return!0}function Mi(t){return!(!to(t)||(e=t,$t&&$t in e))&&(Xa(t)?Ht:yt).test($s(t));var e}function Ni(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?qa(t)?Hi(t[0],t[1]):Ui(t):fl(t)}function Fi(t){if(!ws(t))return ze(t);var e=[];for(var n in xt(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function $i(t){if(!to(t))return function(t){var e=[];if(null!=t)for(var n in xt(t))e.push(n);return e}(t);var e=ws(t),n=[];for(var i in t)("constructor"!=i||!e&&Nt.call(t,i))&&n.push(i);return n}function ji(t,e){return t<e}function Bi(t,e){var n=-1,r=Va(t)?i(t.length):[];return fi(t,(function(t,i,s){r[++n]=e(t,i,s)})),r}function Ui(t){var e=ds(t);return 1==e.length&&e[0][2]?Cs(e[0][0],e[0][1]):function(n){return n===t||Ri(n,t,e)}}function Hi(t,e){return Es(t)&&ks(e)?Cs(Fs(t),e):function(n){var i=xo(n,t);return i===r&&i===e?Ao(n,t):Oi(e,i,3)}}function Gi(t,e,n,i,s){t!==e&&bi(e,(function(a,o){if(s||(s=new Qn),to(a))!function(t,e,n,i,s,a,o){var l=Is(t,n),c=Is(e,n),u=o.get(c);if(u)return void ei(t,n,u);var d=a?a(l,c,n+"",t,e,o):r,h=d===r;if(h){var f=qa(c),p=!f&&za(c),m=!f&&!p&&co(c);d=c,f||p||m?qa(l)?d=l:Ka(l)?d=Dr(l):p?(h=!1,d=wr(c,!0)):m?(h=!1,d=Cr(c,!0)):d=[]:ro(c)||Ga(c)?(d=l,Ga(l)?d=yo(l):to(l)&&!Xa(l)||(d=vs(c))):h=!1}h&&(o.set(c,d),s(d,c,i,a,o),o.delete(c));ei(t,n,d)}(t,e,o,n,Gi,i,s);else{var l=i?i(Is(t,o),a,o+"",t,e,s):r;l===r&&(l=a),ei(t,o,l)}}),Oo)}function qi(t,e){var n=t.length;if(n)return bs(e+=e<0?n:0,n)?t[e]:r}function Wi(t,e,n){e=e.length?Me(e,(function(t){return qa(t)?function(e){return wi(e,1===t.length?t[0]:t)}:t})):[rl];var i=-1;e=Me(e,Je(cs()));var r=Bi(t,(function(t,n,r){var s=Me(e,(function(e){return e(t)}));return{criteria:s,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,s=e.criteria,a=r.length,o=n.length;for(;++i<a;){var l=xr(r[i],s[i]);if(l)return i>=o?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function Vi(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var a=e[i],o=wi(t,a);n(o,a)&&tr(s,_r(a,t),o)}return s}function Ki(t,e,n,i){var r=i?qe:Ge,s=-1,a=e.length,o=t;for(t===e&&(e=Dr(e)),n&&(o=Me(t,Je(n)));++s<a;)for(var l=0,c=e[s],u=n?n(c):c;(l=r(o,u,l,i))>-1;)o!==t&&Qt.call(o,l,1),Qt.call(t,l,1);return t}function zi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==s){var s=r;bs(r)?Qt.call(t,r,1):hr(t,r)}}return t}function Yi(t,e){return t+ge(Tn()*(e-t+1))}function Qi(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ge(e/2))&&(t+=t)}while(e);return n}function Xi(t,e){return Ps(xs(t,e,rl),t+"")}function Zi(t){return Zn(Uo(t))}function Ji(t,e){var n=Uo(t);return Ms(n,li(e,0,n.length))}function tr(t,e,n,i){if(!to(t))return t;for(var s=-1,a=(e=_r(e,t)).length,o=a-1,l=t;null!=l&&++s<a;){var c=Fs(e[s]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=o){var d=l[c];(u=i?i(d,c,l):r)===r&&(u=to(d)?d:bs(e[s+1])?[]:{})}ni(l,c,u),l=l[c]}return t}var er=Ln?function(t,e){return Ln.set(t,e),t}:rl,nr=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:rl;function ir(t){return Ms(Uo(t))}function rr(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var a=i(s);++r<s;)a[r]=t[r+e];return a}function sr(t,e){var n;return fi(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function ar(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var s=i+r>>>1,a=t[s];null!==a&&!lo(a)&&(n?a<=e:a<e)?i=s+1:r=s}return r}return or(t,e,rl,n)}function or(t,e,n,i){var s=0,a=null==t?0:t.length;if(0===a)return 0;for(var o=(e=n(e))!=e,l=null===e,c=lo(e),u=e===r;s<a;){var d=ge((s+a)/2),h=n(t[d]),f=h!==r,p=null===h,m=h==h,g=lo(h);if(o)var v=i||m;else v=u?m&&(i||f):l?m&&f&&(i||!p):c?m&&f&&!p&&(i||!g):!p&&!g&&(i?h<=e:h<e);v?s=d+1:a=d}return _n(a,4294967294)}function lr(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var a=t[n],o=e?e(a):a;if(!n||!Ba(o,l)){var l=o;s[r++]=0===a?0:a}}return s}function cr(t){return"number"==typeof t?t:lo(t)?m:+t}function ur(t){if("string"==typeof t)return t;if(qa(t))return Me(t,ur)+"";if(lo(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function dr(t,e,n){var i=-1,r=Oe,s=t.length,a=!0,o=[],l=o;if(n)a=!1,r=Re;else if(s>=200){var c=e?null:Qr(t);if(c)return hn(c);a=!1,r=en,l=new Yn}else l=e?[]:o;t:for(;++i<s;){var u=t[i],d=e?e(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue t;e&&l.push(d),o.push(u)}else r(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}function hr(t,e){return null==(t=As(t,e=_r(e,t)))||delete t[Fs(Qs(e))]}function fr(t,e,n,i){return tr(t,e,n(wi(t,e)),i)}function pr(t,e,n,i){for(var r=t.length,s=i?r:-1;(i?s--:++s<r)&&e(t[s],s,t););return n?rr(t,i?0:s,i?s+1:r):rr(t,i?s+1:0,i?r:s)}function mr(t,e){var n=t;return n instanceof Wn&&(n=n.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function gr(t,e,n){var r=t.length;if(r<2)return r?dr(t[0]):[];for(var s=-1,a=i(r);++s<r;)for(var o=t[s],l=-1;++l<r;)l!=s&&(a[s]=hi(a[s]||o,t[l],e,n));return dr(yi(a,1),e,n)}function vr(t,e,n){for(var i=-1,s=t.length,a=e.length,o={};++i<s;){var l=i<a?e[i]:r;n(o,t[i],l)}return o}function yr(t){return Ka(t)?t:[]}function br(t){return"function"==typeof t?t:rl}function _r(t,e){return qa(t)?t:Es(t,e)?[t]:Ns(bo(t))}var Er=Xi;function Sr(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:rr(t,e,n)}var Tr=re||function(t){return me.clearTimeout(t)};function wr(t,e){if(e)return t.slice();var n=t.length,i=Vt?Vt(n):new t.constructor(n);return t.copy(i),i}function kr(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function Cr(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xr(t,e){if(t!==e){var n=t!==r,i=null===t,s=t==t,a=lo(t),o=e!==r,l=null===e,c=e==e,u=lo(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||i&&o&&c||!n&&c||!s)return 1;if(!i&&!a&&!u&&t<e||u&&n&&s&&!i&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}function Ar(t,e,n,r){for(var s=-1,a=t.length,o=n.length,l=-1,c=e.length,u=bn(a-o,0),d=i(c+u),h=!r;++l<c;)d[l]=e[l];for(;++s<o;)(h||s<a)&&(d[n[s]]=t[s]);for(;u--;)d[l++]=t[s++];return d}function Ir(t,e,n,r){for(var s=-1,a=t.length,o=-1,l=n.length,c=-1,u=e.length,d=bn(a-l,0),h=i(d+u),f=!r;++s<d;)h[s]=t[s];for(var p=s;++c<u;)h[p+c]=e[c];for(;++o<l;)(f||s<a)&&(h[p+n[o]]=t[s++]);return h}function Dr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function Lr(t,e,n,i){var s=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=i?i(n[l],t[l],l,n,t):r;c===r&&(c=t[l]),s?ai(n,l,c):ni(n,l,c)}return n}function Pr(t,e){return function(n,i){var r=qa(n)?Ae:ri,s=e?e():{};return r(n,t,cs(i,2),s)}}function Or(t){return Xi((function(e,n){var i=-1,s=n.length,a=s>1?n[s-1]:r,o=s>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(s--,a):r,o&&_s(n[0],n[1],o)&&(a=s<3?r:a,s=1),e=xt(e);++i<s;){var l=n[i];l&&t(e,l,i,a)}return e}))}function Rr(t,e){return function(n,i){if(null==n)return n;if(!Va(n))return t(n,i);for(var r=n.length,s=e?r:-1,a=xt(n);(e?s--:++s<r)&&!1!==i(a[s],s,a););return n}}function Mr(t){return function(e,n,i){for(var r=-1,s=xt(e),a=i(e),o=a.length;o--;){var l=a[t?o:++r];if(!1===n(s[l],l,s))break}return e}}function Nr(t){return function(e){var n=ln(e=bo(e))?mn(e):r,i=n?n[0]:e.charAt(0),s=n?Sr(n,1).join(""):e.slice(1);return i[t]()+s}}function Fr(t){return function(e){return Fe(Zo(qo(e).replace(te,"")),t,"")}}function $r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Hn(t.prototype),i=t.apply(n,e);return to(i)?i:n}}function jr(t){return function(e,n,i){var s=xt(e);if(!Va(e)){var a=cs(n,3);e=Po(e),n=function(t){return a(s[t],t,s)}}var o=t(e,n,i);return o>-1?s[a?e[o]:o]:r}}function Br(t){return is((function(e){var n=e.length,i=n,a=qn.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new Dt(s);if(a&&!l&&"wrapper"==os(o))var l=new qn([],!0)}for(i=l?i:n;++i<n;){var c=os(o=e[i]),u="wrapper"==c?as(o):r;l=u&&Ss(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[os(u[0])].apply(l,u[3]):1==o.length&&Ss(o)?l[c]():l.thru(o)}return function(){var t=arguments,i=t[0];if(l&&1==t.length&&qa(i))return l.plant(i).value();for(var r=0,s=n?e[r].apply(this,t):i;++r<n;)s=e[r].call(this,s);return s}}))}function Ur(t,e,n,s,a,o,l,c,u,h){var f=e&d,p=1&e,m=2&e,g=24&e,v=512&e,y=m?r:$r(t);return function d(){for(var b=arguments.length,_=i(b),E=b;E--;)_[E]=arguments[E];if(g)var S=ls(d),T=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(_,S);if(s&&(_=Ar(_,s,a,g)),o&&(_=Ir(_,o,l,g)),b-=T,g&&b<h){var w=dn(_,S);return zr(t,e,Ur,d.placeholder,n,_,w,c,u,h-b)}var k=p?n:this,C=m?k[t]:t;return b=_.length,c?_=function(t,e){var n=t.length,i=_n(e.length,n),s=Dr(t);for(;i--;){var a=e[i];t[i]=bs(a,n)?s[a]:r}return t}(_,c):v&&b>1&&_.reverse(),f&&u<b&&(_.length=u),this&&this!==me&&this instanceof d&&(C=y||$r(C)),C.apply(k,_)}}function Hr(t,e){return function(n,i){return function(t,e,n,i){return Ei(t,(function(t,r,s){e(i,n(t),r,s)})),i}(n,t,e(i),{})}}function Gr(t,e){return function(n,i){var s;if(n===r&&i===r)return e;if(n!==r&&(s=n),i!==r){if(s===r)return i;"string"==typeof n||"string"==typeof i?(n=ur(n),i=ur(i)):(n=cr(n),i=cr(i)),s=t(n,i)}return s}}function qr(t){return is((function(e){return e=Me(e,Je(cs())),Xi((function(n){var i=this;return t(e,(function(t){return xe(t,i,n)}))}))}))}function Wr(t,e){var n=(e=e===r?" ":ur(e)).length;if(n<2)return n?Qi(e,t):e;var i=Qi(e,pe(t/pn(e)));return ln(e)?Sr(mn(i),0,t).join(""):i.slice(0,t)}function Vr(t){return function(e,n,s){return s&&"number"!=typeof s&&_s(e,n,s)&&(n=s=r),e=po(e),n===r?(n=e,e=0):n=po(n),function(t,e,n,r){for(var s=-1,a=bn(pe((e-t)/(n||1)),0),o=i(a);a--;)o[r?a:++s]=t,t+=n;return o}(e,n,s=s===r?e<n?1:-1:po(s),t)}}function Kr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=vo(e),n=vo(n)),t(e,n)}}function zr(t,e,n,i,s,a,o,l,d,h){var f=8&e;e|=f?c:u,4&(e&=~(f?u:c))||(e&=-4);var p=[t,e,s,f?a:r,f?o:r,f?r:a,f?r:o,l,d,h],m=n.apply(r,p);return Ss(t)&&Ds(m,p),m.placeholder=i,Os(m,t,e)}function Yr(t){var e=Ct[t];return function(t,n){if(t=vo(t),(n=null==n?0:_n(mo(n),292))&&_e(t)){var i=(bo(t)+"e").split("e");return+((i=(bo(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Qr=An&&1/hn(new An([,-0]))[1]==f?function(t){return new An(t)}:cl;function Xr(t){return function(e){var n=ms(e);return n==k?cn(e):n==D?fn(e):function(t,e){return Me(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zr(t,e,n,a,f,p,m,g){var v=2&e;if(!v&&"function"!=typeof t)throw new Dt(s);var y=a?a.length:0;if(y||(e&=-97,a=f=r),m=m===r?m:bn(mo(m),0),g=g===r?g:mo(g),y-=f?f.length:0,e&u){var b=a,_=f;a=f=r}var E=v?r:as(t),S=[t,e,n,a,f,b,_,p,m,g];if(E&&function(t,e){var n=t[1],i=e[1],r=n|i,s=r<131,a=i==d&&8==n||i==d&&n==h&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!s&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Ar(c,l,e[4]):l,t[4]=c?dn(t[3],o):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Ir(c,l,e[6]):l,t[6]=c?dn(t[5],o):e[6]);(l=e[7])&&(t[7]=l);i&d&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(S,E),t=S[0],e=S[1],n=S[2],a=S[3],f=S[4],!(g=S[9]=S[9]===r?v?0:t.length:bn(S[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)T=8==e||e==l?function(t,e,n){var s=$r(t);return function a(){for(var o=arguments.length,l=i(o),c=o,u=ls(a);c--;)l[c]=arguments[c];var d=o<3&&l[0]!==u&&l[o-1]!==u?[]:dn(l,u);return(o-=d.length)<n?zr(t,e,Ur,a.placeholder,r,l,d,r,r,n-o):xe(this&&this!==me&&this instanceof a?s:t,this,l)}}(t,e,g):e!=c&&33!=e||f.length?Ur.apply(r,S):function(t,e,n,r){var s=1&e,a=$r(t);return function e(){for(var o=-1,l=arguments.length,c=-1,u=r.length,d=i(u+l),h=this&&this!==me&&this instanceof e?a:t;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++o];return xe(h,s?n:this,d)}}(t,e,n,a);else var T=function(t,e,n){var i=1&e,r=$r(t);return function e(){return(this&&this!==me&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return Os((E?er:Ds)(T,S),t,e)}function Jr(t,e,n,i){return t===r||Ba(t,Ot[n])&&!Nt.call(i,n)?e:t}function ts(t,e,n,i,s,a){return to(t)&&to(e)&&(a.set(e,t),Gi(t,e,r,ts,a),a.delete(e)),t}function es(t){return ro(t)?r:t}function ns(t,e,n,i,s,a){var o=1&n,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=2&n?new Yn:r;for(a.set(t,e),a.set(e,t);++h<l;){var m=t[h],g=e[h];if(i)var v=o?i(g,m,h,e,t,a):i(m,g,h,t,e,a);if(v!==r){if(v)continue;f=!1;break}if(p){if(!je(e,(function(t,e){if(!en(p,e)&&(m===t||s(m,t,n,i,a)))return p.push(e)}))){f=!1;break}}else if(m!==g&&!s(m,g,n,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function is(t){return Ps(xs(t,r,Ws),t+"")}function rs(t){return ki(t,Po,fs)}function ss(t){return ki(t,Oo,ps)}var as=Ln?function(t){return Ln.get(t)}:cl;function os(t){for(var e=t.name+"",n=Pn[e],i=Nt.call(Pn,e)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==t)return r.name}return e}function ls(t){return(Nt.call(Un,"placeholder")?Un:t).placeholder}function cs(){var t=Un.iteratee||sl;return t=t===sl?Ni:t,arguments.length?t(arguments[0],arguments[1]):t}function us(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function ds(t){for(var e=Po(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ks(r)]}return e}function hs(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Mi(n)?n:r}var fs=ve?function(t){return null==t?[]:(t=xt(t),Pe(ve(t),(function(e){return Yt.call(t,e)})))}:gl,ps=ve?function(t){for(var e=[];t;)Ne(e,fs(t)),t=Kt(t);return e}:gl,ms=Ci;function gs(t,e,n){for(var i=-1,r=(e=_r(e,t)).length,s=!1;++i<r;){var a=Fs(e[i]);if(!(s=null!=t&&n(t,a)))break;t=t[a]}return s||++i!=r?s:!!(r=null==t?0:t.length)&&Ja(r)&&bs(a,r)&&(qa(t)||Ga(t))}function vs(t){return"function"!=typeof t.constructor||ws(t)?{}:Hn(Kt(t))}function ys(t){return qa(t)||Ga(t)||!!(Xt&&t&&t[Xt])}function bs(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function _s(t,e,n){if(!to(n))return!1;var i=typeof e;return!!("number"==i?Va(n)&&bs(e,n.length):"string"==i&&e in n)&&Ba(n[e],t)}function Es(t,e){if(qa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!lo(t))||(nt.test(t)||!et.test(t)||null!=e&&t in xt(e))}function Ss(t){var e=os(t),n=Un[e];if("function"!=typeof n||!(e in Wn.prototype))return!1;if(t===n)return!0;var i=as(n);return!!i&&t===i[0]}(kn&&ms(new kn(new ArrayBuffer(1)))!=M||Cn&&ms(new Cn)!=k||xn&&ms(xn.resolve())!=A||An&&ms(new An)!=D||In&&ms(new In)!=O)&&(ms=function(t){var e=Ci(t),n=e==x?t.constructor:r,i=n?$s(n):"";if(i)switch(i){case On:return M;case Rn:return k;case Mn:return A;case Nn:return D;case Fn:return O}return e});var Ts=Rt?Xa:vl;function ws(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ot)}function ks(t){return t==t&&!to(t)}function Cs(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in xt(n)))}}function xs(t,e,n){return e=bn(e===r?t.length-1:e,0),function(){for(var r=arguments,s=-1,a=bn(r.length-e,0),o=i(a);++s<a;)o[s]=r[e+s];s=-1;for(var l=i(e+1);++s<e;)l[s]=r[s];return l[e]=n(o),xe(t,this,l)}}function As(t,e){return e.length<2?t:wi(t,rr(e,0,-1))}function Is(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ds=Rs(er),Ls=fe||function(t,e){return me.setTimeout(t,e)},Ps=Rs(nr);function Os(t,e,n){var i=e+"";return Ps(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ie(v,(function(n){var i="_."+n[0];e&n[1]&&!Oe(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ut):[]}(i),n)))}function Rs(t){var e=0,n=0;return function(){var i=En(),s=16-(i-n);if(n=i,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ms(t,e){var n=-1,i=t.length,s=i-1;for(e=e===r?i:e;++n<e;){var a=Yi(n,s),o=t[a];t[a]=t[n],t[n]=o}return t.length=e,t}var Ns=function(t){var e=Ra(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,i,r){e.push(i?r.replace(ft,"$1"):n||t)})),e}));function Fs(t){if("string"==typeof t||lo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function $s(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function js(t){if(t instanceof Wn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=Dr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bs=Xi((function(t,e){return Ka(t)?hi(t,yi(e,1,Ka,!0)):[]})),Us=Xi((function(t,e){var n=Qs(e);return Ka(n)&&(n=r),Ka(t)?hi(t,yi(e,1,Ka,!0),cs(n,2)):[]})),Hs=Xi((function(t,e){var n=Qs(e);return Ka(n)&&(n=r),Ka(t)?hi(t,yi(e,1,Ka,!0),r,n):[]}));function Gs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:mo(n);return r<0&&(r=bn(i+r,0)),He(t,cs(e,3),r)}function qs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var s=i-1;return n!==r&&(s=mo(n),s=n<0?bn(i+s,0):_n(s,i-1)),He(t,cs(e,3),s,!0)}function Ws(t){return(null==t?0:t.length)?yi(t,1):[]}function Vs(t){return t&&t.length?t[0]:r}var Ks=Xi((function(t){var e=Me(t,yr);return e.length&&e[0]===t[0]?Di(e):[]})),zs=Xi((function(t){var e=Qs(t),n=Me(t,yr);return e===Qs(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Di(n,cs(e,2)):[]})),Ys=Xi((function(t){var e=Qs(t),n=Me(t,yr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Di(n,r,e):[]}));function Qs(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Xs=Xi(Zs);function Zs(t,e){return t&&t.length&&e&&e.length?Ki(t,e):t}var Js=is((function(t,e){var n=null==t?0:t.length,i=oi(t,e);return zi(t,Me(e,(function(t){return bs(t,n)?+t:t})).sort(xr)),i}));function ta(t){return null==t?t:wn.call(t)}var ea=Xi((function(t){return dr(yi(t,1,Ka,!0))})),na=Xi((function(t){var e=Qs(t);return Ka(e)&&(e=r),dr(yi(t,1,Ka,!0),cs(e,2))})),ia=Xi((function(t){var e=Qs(t);return e="function"==typeof e?e:r,dr(yi(t,1,Ka,!0),r,e)}));function ra(t){if(!t||!t.length)return[];var e=0;return t=Pe(t,(function(t){if(Ka(t))return e=bn(t.length,e),!0})),Xe(e,(function(e){return Me(t,Ke(e))}))}function sa(t,e){if(!t||!t.length)return[];var n=ra(t);return null==e?n:Me(n,(function(t){return xe(e,r,t)}))}var aa=Xi((function(t,e){return Ka(t)?hi(t,e):[]})),oa=Xi((function(t){return gr(Pe(t,Ka))})),la=Xi((function(t){var e=Qs(t);return Ka(e)&&(e=r),gr(Pe(t,Ka),cs(e,2))})),ca=Xi((function(t){var e=Qs(t);return e="function"==typeof e?e:r,gr(Pe(t,Ka),r,e)})),ua=Xi(ra);var da=Xi((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,sa(t,n)}));function ha(t){var e=Un(t);return e.__chain__=!0,e}function fa(t,e){return e(t)}var pa=is((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,s=function(e){return oi(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Wn&&bs(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:fa,args:[s],thisArg:r}),new qn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(s)}));var ma=Pr((function(t,e,n){Nt.call(t,n)?++t[n]:ai(t,n,1)}));var ga=jr(Gs),va=jr(qs);function ya(t,e){return(qa(t)?Ie:fi)(t,cs(e,3))}function ba(t,e){return(qa(t)?De:pi)(t,cs(e,3))}var _a=Pr((function(t,e,n){Nt.call(t,n)?t[n].push(e):ai(t,n,[e])}));var Ea=Xi((function(t,e,n){var r=-1,s="function"==typeof e,a=Va(t)?i(t.length):[];return fi(t,(function(t){a[++r]=s?xe(e,t,n):Li(t,e,n)})),a})),Sa=Pr((function(t,e,n){ai(t,n,e)}));function Ta(t,e){return(qa(t)?Me:Bi)(t,cs(e,3))}var wa=Pr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ka=Xi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_s(t,e[0],e[1])?e=[]:n>2&&_s(e[0],e[1],e[2])&&(e=[e[0]]),Wi(t,yi(e,1),[])})),Ca=ue||function(){return me.Date.now()};function xa(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Zr(t,d,r,r,r,r,e)}function Aa(t,e){var n;if("function"!=typeof e)throw new Dt(s);return t=mo(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Ia=Xi((function(t,e,n){var i=1;if(n.length){var r=dn(n,ls(Ia));i|=c}return Zr(t,i,e,n,r)})),Da=Xi((function(t,e,n){var i=3;if(n.length){var r=dn(n,ls(Da));i|=c}return Zr(e,i,t,n,r)}));function La(t,e,n){var i,a,o,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new Dt(s);function m(e){var n=i,s=a;return i=a=r,d=e,l=t.apply(s,n)}function g(t){var n=t-u;return u===r||n>=e||n<0||f&&t-d>=o}function v(){var t=Ca();if(g(t))return y(t);c=Ls(v,function(t){var n=e-(t-u);return f?_n(n,o-(t-d)):n}(t))}function y(t){return c=r,p&&i?m(t):(i=a=r,l)}function b(){var t=Ca(),n=g(t);if(i=arguments,a=this,u=t,n){if(c===r)return function(t){return d=t,c=Ls(v,e),h?m(t):l}(u);if(f)return Tr(c),c=Ls(v,e),m(u)}return c===r&&(c=Ls(v,e)),l}return e=vo(e)||0,to(n)&&(h=!!n.leading,o=(f="maxWait"in n)?bn(vo(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==r&&Tr(c),d=0,i=u=a=c=r},b.flush=function(){return c===r?l:y(Ca())},b}var Pa=Xi((function(t,e){return di(t,1,e)})),Oa=Xi((function(t,e,n){return di(t,vo(e)||0,n)}));function Ra(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Dt(s);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var a=t.apply(this,i);return n.cache=s.set(r,a)||s,a};return n.cache=new(Ra.Cache||zn),n}function Ma(t){if("function"!=typeof t)throw new Dt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ra.Cache=zn;var Na=Er((function(t,e){var n=(e=1==e.length&&qa(e[0])?Me(e[0],Je(cs())):Me(yi(e,1),Je(cs()))).length;return Xi((function(i){for(var r=-1,s=_n(i.length,n);++r<s;)i[r]=e[r].call(this,i[r]);return xe(t,this,i)}))})),Fa=Xi((function(t,e){var n=dn(e,ls(Fa));return Zr(t,c,r,e,n)})),$a=Xi((function(t,e){var n=dn(e,ls($a));return Zr(t,u,r,e,n)})),ja=is((function(t,e){return Zr(t,h,r,r,r,e)}));function Ba(t,e){return t===e||t!=t&&e!=e}var Ua=Kr(xi),Ha=Kr((function(t,e){return t>=e})),Ga=Pi(function(){return arguments}())?Pi:function(t){return eo(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},qa=i.isArray,Wa=Ee?Je(Ee):function(t){return eo(t)&&Ci(t)==R};function Va(t){return null!=t&&Ja(t.length)&&!Xa(t)}function Ka(t){return eo(t)&&Va(t)}var za=be||vl,Ya=Se?Je(Se):function(t){return eo(t)&&Ci(t)==E};function Qa(t){if(!eo(t))return!1;var e=Ci(t);return e==S||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ro(t)}function Xa(t){if(!to(t))return!1;var e=Ci(t);return e==T||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Za(t){return"number"==typeof t&&t==mo(t)}function Ja(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function to(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function eo(t){return null!=t&&"object"==typeof t}var no=Te?Je(Te):function(t){return eo(t)&&ms(t)==k};function io(t){return"number"==typeof t||eo(t)&&Ci(t)==C}function ro(t){if(!eo(t)||Ci(t)!=x)return!1;var e=Kt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Mt.call(n)==Bt}var so=we?Je(we):function(t){return eo(t)&&Ci(t)==I};var ao=ke?Je(ke):function(t){return eo(t)&&ms(t)==D};function oo(t){return"string"==typeof t||!qa(t)&&eo(t)&&Ci(t)==L}function lo(t){return"symbol"==typeof t||eo(t)&&Ci(t)==P}var co=Ce?Je(Ce):function(t){return eo(t)&&Ja(t.length)&&!!le[Ci(t)]};var uo=Kr(ji),ho=Kr((function(t,e){return t<=e}));function fo(t){if(!t)return[];if(Va(t))return oo(t)?mn(t):Dr(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=ms(t);return(e==k?cn:e==D?hn:Uo)(t)}function po(t){return t?(t=vo(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function mo(t){var e=po(t),n=e%1;return e==e?n?e-n:e:0}function go(t){return t?li(mo(t),0,g):0}function vo(t){if("number"==typeof t)return t;if(lo(t))return m;if(to(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=to(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var n=vt.test(t);return n||bt.test(t)?he(t.slice(2),n?2:8):gt.test(t)?m:+t}function yo(t){return Lr(t,Oo(t))}function bo(t){return null==t?"":ur(t)}var _o=Or((function(t,e){if(ws(e)||Va(e))Lr(e,Po(e),t);else for(var n in e)Nt.call(e,n)&&ni(t,n,e[n])})),Eo=Or((function(t,e){Lr(e,Oo(e),t)})),So=Or((function(t,e,n,i){Lr(e,Oo(e),t,i)})),To=Or((function(t,e,n,i){Lr(e,Po(e),t,i)})),wo=is(oi);var ko=Xi((function(t,e){t=xt(t);var n=-1,i=e.length,s=i>2?e[2]:r;for(s&&_s(e[0],e[1],s)&&(i=1);++n<i;)for(var a=e[n],o=Oo(a),l=-1,c=o.length;++l<c;){var u=o[l],d=t[u];(d===r||Ba(d,Ot[u])&&!Nt.call(t,u))&&(t[u]=a[u])}return t})),Co=Xi((function(t){return t.push(r,ts),xe(Mo,r,t)}));function xo(t,e,n){var i=null==t?r:wi(t,e);return i===r?n:i}function Ao(t,e){return null!=t&&gs(t,e,Ii)}var Io=Hr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),el(rl)),Do=Hr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),cs),Lo=Xi(Li);function Po(t){return Va(t)?Xn(t):Fi(t)}function Oo(t){return Va(t)?Xn(t,!0):$i(t)}var Ro=Or((function(t,e,n){Gi(t,e,n)})),Mo=Or((function(t,e,n,i){Gi(t,e,n,i)})),No=is((function(t,e){var n={};if(null==t)return n;var i=!1;e=Me(e,(function(e){return e=_r(e,t),i||(i=e.length>1),e})),Lr(t,ss(t),n),i&&(n=ci(n,7,es));for(var r=e.length;r--;)hr(n,e[r]);return n}));var Fo=is((function(t,e){return null==t?{}:function(t,e){return Vi(t,e,(function(e,n){return Ao(t,n)}))}(t,e)}));function $o(t,e){if(null==t)return{};var n=Me(ss(t),(function(t){return[t]}));return e=cs(e),Vi(t,n,(function(t,n){return e(t,n[0])}))}var jo=Xr(Po),Bo=Xr(Oo);function Uo(t){return null==t?[]:tn(t,Po(t))}var Ho=Fr((function(t,e,n){return e=e.toLowerCase(),t+(n?Go(e):e)}));function Go(t){return Xo(bo(t).toLowerCase())}function qo(t){return(t=bo(t))&&t.replace(Et,sn).replace(ee,"")}var Wo=Fr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Vo=Fr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ko=Nr("toLowerCase");var zo=Fr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Yo=Fr((function(t,e,n){return t+(n?" ":"")+Xo(e)}));var Qo=Fr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Xo=Nr("toUpperCase");function Zo(t,e,n){return t=bo(t),(e=n?r:e)===r?function(t){return se.test(t)}(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.match(dt)||[]}(t):t.match(e)||[]}var Jo=Xi((function(t,e){try{return xe(t,r,e)}catch(t){return Qa(t)?t:new wt(t)}})),tl=is((function(t,e){return Ie(e,(function(e){e=Fs(e),ai(t,e,Ia(t[e],t))})),t}));function el(t){return function(){return t}}var nl=Br(),il=Br(!0);function rl(t){return t}function sl(t){return Ni("function"==typeof t?t:ci(t,1))}var al=Xi((function(t,e){return function(n){return Li(n,t,e)}})),ol=Xi((function(t,e){return function(n){return Li(t,n,e)}}));function ll(t,e,n){var i=Po(e),r=Ti(e,i);null!=n||to(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Ti(e,Po(e)));var s=!(to(n)&&"chain"in n&&!n.chain),a=Xa(t);return Ie(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=Dr(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Ne([this.value()],arguments))})})),t}function cl(){}var ul=qr(Me),dl=qr(Le),hl=qr(je);function fl(t){return Es(t)?Ke(Fs(t)):function(t){return function(e){return wi(e,t)}}(t)}var pl=Vr(),ml=Vr(!0);function gl(){return[]}function vl(){return!1}var yl=Gr((function(t,e){return t+e}),0),bl=Yr("ceil"),_l=Gr((function(t,e){return t/e}),1),El=Yr("floor");var Sl,Tl=Gr((function(t,e){return t*e}),1),wl=Yr("round"),kl=Gr((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new Dt(s);return t=mo(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=xa,Un.assign=_o,Un.assignIn=Eo,Un.assignInWith=So,Un.assignWith=To,Un.at=wo,Un.before=Aa,Un.bind=Ia,Un.bindAll=tl,Un.bindKey=Da,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qa(t)?t:[t]},Un.chain=ha,Un.chunk=function(t,e,n){e=(n?_s(t,e,n):e===r)?1:bn(mo(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var a=0,o=0,l=i(pe(s/e));a<s;)l[o++]=rr(t,a,a+=e);return l},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ne(qa(n)?Dr(n):[n],yi(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=cs();return t=e?Me(t,(function(t){if("function"!=typeof t[1])throw new Dt(s);return[n(t[0]),t[1]]})):[],Xi((function(n){for(var i=-1;++i<e;){var r=t[i];if(xe(r[0],this,n))return xe(r[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Po(t);return function(n){return ui(n,t,e)}}(ci(t,1))},Un.constant=el,Un.countBy=ma,Un.create=function(t,e){var n=Hn(t);return null==e?n:si(n,e)},Un.curry=function t(e,n,i){var s=Zr(e,8,r,r,r,r,r,n=i?r:n);return s.placeholder=t.placeholder,s},Un.curryRight=function t(e,n,i){var s=Zr(e,l,r,r,r,r,r,n=i?r:n);return s.placeholder=t.placeholder,s},Un.debounce=La,Un.defaults=ko,Un.defaultsDeep=Co,Un.defer=Pa,Un.delay=Oa,Un.difference=Bs,Un.differenceBy=Us,Un.differenceWith=Hs,Un.drop=function(t,e,n){var i=null==t?0:t.length;return i?rr(t,(e=n||e===r?1:mo(e))<0?0:e,i):[]},Un.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?rr(t,0,(e=i-(e=n||e===r?1:mo(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?pr(t,cs(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?pr(t,cs(e,3),!0):[]},Un.fill=function(t,e,n,i){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&_s(t,e,n)&&(n=0,i=s),function(t,e,n,i){var s=t.length;for((n=mo(n))<0&&(n=-n>s?0:s+n),(i=i===r||i>s?s:mo(i))<0&&(i+=s),i=n>i?0:go(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Un.filter=function(t,e){return(qa(t)?Pe:vi)(t,cs(e,3))},Un.flatMap=function(t,e){return yi(Ta(t,e),1)},Un.flatMapDeep=function(t,e){return yi(Ta(t,e),f)},Un.flatMapDepth=function(t,e,n){return n=n===r?1:mo(n),yi(Ta(t,e),n)},Un.flatten=Ws,Un.flattenDeep=function(t){return(null==t?0:t.length)?yi(t,f):[]},Un.flattenDepth=function(t,e){return(null==t?0:t.length)?yi(t,e=e===r?1:mo(e)):[]},Un.flip=function(t){return Zr(t,512)},Un.flow=nl,Un.flowRight=il,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Un.functions=function(t){return null==t?[]:Ti(t,Po(t))},Un.functionsIn=function(t){return null==t?[]:Ti(t,Oo(t))},Un.groupBy=_a,Un.initial=function(t){return(null==t?0:t.length)?rr(t,0,-1):[]},Un.intersection=Ks,Un.intersectionBy=zs,Un.intersectionWith=Ys,Un.invert=Io,Un.invertBy=Do,Un.invokeMap=Ea,Un.iteratee=sl,Un.keyBy=Sa,Un.keys=Po,Un.keysIn=Oo,Un.map=Ta,Un.mapKeys=function(t,e){var n={};return e=cs(e,3),Ei(t,(function(t,i,r){ai(n,e(t,i,r),t)})),n},Un.mapValues=function(t,e){var n={};return e=cs(e,3),Ei(t,(function(t,i,r){ai(n,i,e(t,i,r))})),n},Un.matches=function(t){return Ui(ci(t,1))},Un.matchesProperty=function(t,e){return Hi(t,ci(e,1))},Un.memoize=Ra,Un.merge=Ro,Un.mergeWith=Mo,Un.method=al,Un.methodOf=ol,Un.mixin=ll,Un.negate=Ma,Un.nthArg=function(t){return t=mo(t),Xi((function(e){return qi(e,t)}))},Un.omit=No,Un.omitBy=function(t,e){return $o(t,Ma(cs(e)))},Un.once=function(t){return Aa(2,t)},Un.orderBy=function(t,e,n,i){return null==t?[]:(qa(e)||(e=null==e?[]:[e]),qa(n=i?r:n)||(n=null==n?[]:[n]),Wi(t,e,n))},Un.over=ul,Un.overArgs=Na,Un.overEvery=dl,Un.overSome=hl,Un.partial=Fa,Un.partialRight=$a,Un.partition=wa,Un.pick=Fo,Un.pickBy=$o,Un.property=fl,Un.propertyOf=function(t){return function(e){return null==t?r:wi(t,e)}},Un.pull=Xs,Un.pullAll=Zs,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ki(t,e,cs(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ki(t,e,r,n):t},Un.pullAt=Js,Un.range=pl,Un.rangeRight=ml,Un.rearg=ja,Un.reject=function(t,e){return(qa(t)?Pe:vi)(t,Ma(cs(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],s=t.length;for(e=cs(e,3);++i<s;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return zi(t,r),n},Un.rest=function(t,e){if("function"!=typeof t)throw new Dt(s);return Xi(t,e=e===r?e:mo(e))},Un.reverse=ta,Un.sampleSize=function(t,e,n){return e=(n?_s(t,e,n):e===r)?1:mo(e),(qa(t)?Jn:Ji)(t,e)},Un.set=function(t,e,n){return null==t?t:tr(t,e,n)},Un.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:tr(t,e,n,i)},Un.shuffle=function(t){return(qa(t)?ti:ir)(t)},Un.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&_s(t,e,n)?(e=0,n=i):(e=null==e?0:mo(e),n=n===r?i:mo(n)),rr(t,e,n)):[]},Un.sortBy=ka,Un.sortedUniq=function(t){return t&&t.length?lr(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?lr(t,cs(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&_s(t,e,n)&&(e=n=r),(n=n===r?g:n>>>0)?(t=bo(t))&&("string"==typeof e||null!=e&&!so(e))&&!(e=ur(e))&&ln(t)?Sr(mn(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new Dt(s);return e=null==e?0:bn(mo(e),0),Xi((function(n){var i=n[e],r=Sr(n,0,e);return i&&Ne(r,i),xe(t,this,r)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?rr(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?rr(t,0,(e=n||e===r?1:mo(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?rr(t,(e=i-(e=n||e===r?1:mo(e)))<0?0:e,i):[]},Un.takeRightWhile=function(t,e){return t&&t.length?pr(t,cs(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?pr(t,cs(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Dt(s);return to(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),La(t,e,{leading:i,maxWait:e,trailing:r})},Un.thru=fa,Un.toArray=fo,Un.toPairs=jo,Un.toPairsIn=Bo,Un.toPath=function(t){return qa(t)?Me(t,Fs):lo(t)?[t]:Dr(Ns(bo(t)))},Un.toPlainObject=yo,Un.transform=function(t,e,n){var i=qa(t),r=i||za(t)||co(t);if(e=cs(e,4),null==n){var s=t&&t.constructor;n=r?i?new s:[]:to(t)&&Xa(s)?Hn(Kt(t)):{}}return(r?Ie:Ei)(t,(function(t,i,r){return e(n,t,i,r)})),n},Un.unary=function(t){return xa(t,1)},Un.union=ea,Un.unionBy=na,Un.unionWith=ia,Un.uniq=function(t){return t&&t.length?dr(t):[]},Un.uniqBy=function(t,e){return t&&t.length?dr(t,cs(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?dr(t,r,e):[]},Un.unset=function(t,e){return null==t||hr(t,e)},Un.unzip=ra,Un.unzipWith=sa,Un.update=function(t,e,n){return null==t?t:fr(t,e,br(n))},Un.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:fr(t,e,br(n),i)},Un.values=Uo,Un.valuesIn=function(t){return null==t?[]:tn(t,Oo(t))},Un.without=aa,Un.words=Zo,Un.wrap=function(t,e){return Fa(br(e),t)},Un.xor=oa,Un.xorBy=la,Un.xorWith=ca,Un.zip=ua,Un.zipObject=function(t,e){return vr(t||[],e||[],ni)},Un.zipObjectDeep=function(t,e){return vr(t||[],e||[],tr)},Un.zipWith=da,Un.entries=jo,Un.entriesIn=Bo,Un.extend=Eo,Un.extendWith=So,ll(Un,Un),Un.add=yl,Un.attempt=Jo,Un.camelCase=Ho,Un.capitalize=Go,Un.ceil=bl,Un.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=vo(n))==n?n:0),e!==r&&(e=(e=vo(e))==e?e:0),li(vo(t),e,n)},Un.clone=function(t){return ci(t,4)},Un.cloneDeep=function(t){return ci(t,5)},Un.cloneDeepWith=function(t,e){return ci(t,5,e="function"==typeof e?e:r)},Un.cloneWith=function(t,e){return ci(t,4,e="function"==typeof e?e:r)},Un.conformsTo=function(t,e){return null==e||ui(t,e,Po(e))},Un.deburr=qo,Un.defaultTo=function(t,e){return null==t||t!=t?e:t},Un.divide=_l,Un.endsWith=function(t,e,n){t=bo(t),e=ur(e);var i=t.length,s=n=n===r?i:li(mo(n),0,i);return(n-=e.length)>=0&&t.slice(n,s)==e},Un.eq=Ba,Un.escape=function(t){return(t=bo(t))&&X.test(t)?t.replace(Y,an):t},Un.escapeRegExp=function(t){return(t=bo(t))&&st.test(t)?t.replace(rt,"\\$&"):t},Un.every=function(t,e,n){var i=qa(t)?Le:mi;return n&&_s(t,e,n)&&(e=r),i(t,cs(e,3))},Un.find=ga,Un.findIndex=Gs,Un.findKey=function(t,e){return Ue(t,cs(e,3),Ei)},Un.findLast=va,Un.findLastIndex=qs,Un.findLastKey=function(t,e){return Ue(t,cs(e,3),Si)},Un.floor=El,Un.forEach=ya,Un.forEachRight=ba,Un.forIn=function(t,e){return null==t?t:bi(t,cs(e,3),Oo)},Un.forInRight=function(t,e){return null==t?t:_i(t,cs(e,3),Oo)},Un.forOwn=function(t,e){return t&&Ei(t,cs(e,3))},Un.forOwnRight=function(t,e){return t&&Si(t,cs(e,3))},Un.get=xo,Un.gt=Ua,Un.gte=Ha,Un.has=function(t,e){return null!=t&&gs(t,e,Ai)},Un.hasIn=Ao,Un.head=Vs,Un.identity=rl,Un.includes=function(t,e,n,i){t=Va(t)?t:Uo(t),n=n&&!i?mo(n):0;var r=t.length;return n<0&&(n=bn(r+n,0)),oo(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ge(t,e,n)>-1},Un.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:mo(n);return r<0&&(r=bn(i+r,0)),Ge(t,e,r)},Un.inRange=function(t,e,n){return e=po(e),n===r?(n=e,e=0):n=po(n),function(t,e,n){return t>=_n(e,n)&&t<bn(e,n)}(t=vo(t),e,n)},Un.invoke=Lo,Un.isArguments=Ga,Un.isArray=qa,Un.isArrayBuffer=Wa,Un.isArrayLike=Va,Un.isArrayLikeObject=Ka,Un.isBoolean=function(t){return!0===t||!1===t||eo(t)&&Ci(t)==_},Un.isBuffer=za,Un.isDate=Ya,Un.isElement=function(t){return eo(t)&&1===t.nodeType&&!ro(t)},Un.isEmpty=function(t){if(null==t)return!0;if(Va(t)&&(qa(t)||"string"==typeof t||"function"==typeof t.splice||za(t)||co(t)||Ga(t)))return!t.length;var e=ms(t);if(e==k||e==D)return!t.size;if(ws(t))return!Fi(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Oi(t,e)},Un.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Oi(t,e,r,n):!!i},Un.isError=Qa,Un.isFinite=function(t){return"number"==typeof t&&_e(t)},Un.isFunction=Xa,Un.isInteger=Za,Un.isLength=Ja,Un.isMap=no,Un.isMatch=function(t,e){return t===e||Ri(t,e,ds(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Ri(t,e,ds(e),n)},Un.isNaN=function(t){return io(t)&&t!=+t},Un.isNative=function(t){if(Ts(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mi(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=io,Un.isObject=to,Un.isObjectLike=eo,Un.isPlainObject=ro,Un.isRegExp=so,Un.isSafeInteger=function(t){return Za(t)&&t>=-9007199254740991&&t<=p},Un.isSet=ao,Un.isString=oo,Un.isSymbol=lo,Un.isTypedArray=co,Un.isUndefined=function(t){return t===r},Un.isWeakMap=function(t){return eo(t)&&ms(t)==O},Un.isWeakSet=function(t){return eo(t)&&"[object WeakSet]"==Ci(t)},Un.join=function(t,e){return null==t?"":Be.call(t,e)},Un.kebabCase=Wo,Un.last=Qs,Un.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var s=i;return n!==r&&(s=(s=mo(n))<0?bn(i+s,0):_n(s,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,s):He(t,We,s,!0)},Un.lowerCase=Vo,Un.lowerFirst=Ko,Un.lt=uo,Un.lte=ho,Un.max=function(t){return t&&t.length?gi(t,rl,xi):r},Un.maxBy=function(t,e){return t&&t.length?gi(t,cs(e,2),xi):r},Un.mean=function(t){return Ve(t,rl)},Un.meanBy=function(t,e){return Ve(t,cs(e,2))},Un.min=function(t){return t&&t.length?gi(t,rl,ji):r},Un.minBy=function(t,e){return t&&t.length?gi(t,cs(e,2),ji):r},Un.stubArray=gl,Un.stubFalse=vl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Tl,Un.nth=function(t,e){return t&&t.length?qi(t,mo(e)):r},Un.noConflict=function(){return me._===this&&(me._=Ut),this},Un.noop=cl,Un.now=Ca,Un.pad=function(t,e,n){t=bo(t);var i=(e=mo(e))?pn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Wr(ge(r),n)+t+Wr(pe(r),n)},Un.padEnd=function(t,e,n){t=bo(t);var i=(e=mo(e))?pn(t):0;return e&&i<e?t+Wr(e-i,n):t},Un.padStart=function(t,e,n){t=bo(t);var i=(e=mo(e))?pn(t):0;return e&&i<e?Wr(e-i,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Sn(bo(t).replace(at,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_s(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=po(t),e===r?(e=t,t=0):e=po(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var s=Tn();return _n(t+s*(e-t+de("1e-"+((s+"").length-1))),e)}return Yi(t,e)},Un.reduce=function(t,e,n){var i=qa(t)?Fe:Ye,r=arguments.length<3;return i(t,cs(e,4),n,r,fi)},Un.reduceRight=function(t,e,n){var i=qa(t)?$e:Ye,r=arguments.length<3;return i(t,cs(e,4),n,r,pi)},Un.repeat=function(t,e,n){return e=(n?_s(t,e,n):e===r)?1:mo(e),Qi(bo(t),e)},Un.replace=function(){var t=arguments,e=bo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var i=-1,s=(e=_r(e,t)).length;for(s||(s=1,t=r);++i<s;){var a=null==t?r:t[Fs(e[i])];a===r&&(i=s,a=n),t=Xa(a)?a.call(t):a}return t},Un.round=wl,Un.runInContext=t,Un.sample=function(t){return(qa(t)?Zn:Zi)(t)},Un.size=function(t){if(null==t)return 0;if(Va(t))return oo(t)?pn(t):t.length;var e=ms(t);return e==k||e==D?t.size:Fi(t).length},Un.snakeCase=zo,Un.some=function(t,e,n){var i=qa(t)?je:sr;return n&&_s(t,e,n)&&(e=r),i(t,cs(e,3))},Un.sortedIndex=function(t,e){return ar(t,e)},Un.sortedIndexBy=function(t,e,n){return or(t,e,cs(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=ar(t,e);if(i<n&&Ba(t[i],e))return i}return-1},Un.sortedLastIndex=function(t,e){return ar(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return or(t,e,cs(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ar(t,e,!0)-1;if(Ba(t[n],e))return n}return-1},Un.startCase=Yo,Un.startsWith=function(t,e,n){return t=bo(t),n=null==n?0:li(mo(n),0,t.length),e=ur(e),t.slice(n,n+e.length)==e},Un.subtract=kl,Un.sum=function(t){return t&&t.length?Qe(t,rl):0},Un.sumBy=function(t,e){return t&&t.length?Qe(t,cs(e,2)):0},Un.template=function(t,e,n){var i=Un.templateSettings;n&&_s(t,e,n)&&(e=r),t=bo(t),e=So({},e,i,Jr);var s,a,o=So({},e.imports,i.imports,Jr),l=Po(o),c=tn(o,l),u=0,d=e.interpolate||St,h="__p += '",f=At((e.escape||St).source+"|"+d.source+"|"+(d===tt?pt:St).source+"|"+(e.evaluate||St).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oe+"]")+"\n";t.replace(f,(function(e,n,i,r,o,l){return i||(i=r),h+=t.slice(u,l).replace(Tt,on),n&&(s=!0,h+="' +\n__e("+n+") +\n'"),o&&(a=!0,h+="';\n"+o+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),h+="';\n";var m=Nt.call(e,"variable")&&e.variable;if(m){if(ht.test(m))throw new wt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(W,""):h).replace(V,"$1").replace(K,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Jo((function(){return kt(l,p+"return "+h).apply(r,c)}));if(g.source=h,Qa(g))throw g;return g},Un.times=function(t,e){if((t=mo(t))<1||t>p)return[];var n=g,i=_n(t,g);e=cs(e),t-=g;for(var r=Xe(i,e);++n<t;)e(n);return r},Un.toFinite=po,Un.toInteger=mo,Un.toLength=go,Un.toLower=function(t){return bo(t).toLowerCase()},Un.toNumber=vo,Un.toSafeInteger=function(t){return t?li(mo(t),-9007199254740991,p):0===t?t:0},Un.toString=bo,Un.toUpper=function(t){return bo(t).toUpperCase()},Un.trim=function(t,e,n){if((t=bo(t))&&(n||e===r))return Ze(t);if(!t||!(e=ur(e)))return t;var i=mn(t),s=mn(e);return Sr(i,nn(i,s),rn(i,s)+1).join("")},Un.trimEnd=function(t,e,n){if((t=bo(t))&&(n||e===r))return t.slice(0,gn(t)+1);if(!t||!(e=ur(e)))return t;var i=mn(t);return Sr(i,0,rn(i,mn(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=bo(t))&&(n||e===r))return t.replace(at,"");if(!t||!(e=ur(e)))return t;var i=mn(t);return Sr(i,nn(i,mn(e))).join("")},Un.truncate=function(t,e){var n=30,i="...";if(to(e)){var s="separator"in e?e.separator:s;n="length"in e?mo(e.length):n,i="omission"in e?ur(e.omission):i}var a=(t=bo(t)).length;if(ln(t)){var o=mn(t);a=o.length}if(n>=a)return t;var l=n-pn(i);if(l<1)return i;var c=o?Sr(o,0,l).join(""):t.slice(0,l);if(s===r)return c+i;if(o&&(l+=c.length-l),so(s)){if(t.slice(l).search(s)){var u,d=c;for(s.global||(s=At(s.source,bo(mt.exec(s))+"g")),s.lastIndex=0;u=s.exec(d);)var h=u.index;c=c.slice(0,h===r?l:h)}}else if(t.indexOf(ur(s),l)!=l){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+i},Un.unescape=function(t){return(t=bo(t))&&Q.test(t)?t.replace(z,vn):t},Un.uniqueId=function(t){var e=++Ft;return bo(t)+e},Un.upperCase=Qo,Un.upperFirst=Xo,Un.each=ya,Un.eachRight=ba,Un.first=Vs,ll(Un,(Sl={},Ei(Un,(function(t,e){Nt.call(Un.prototype,e)||(Sl[e]=t)})),Sl),{chain:!1}),Un.VERSION="4.17.21",Ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),Ie(["drop","take"],(function(t,e){Wn.prototype[t]=function(n){n=n===r?1:bn(mo(n),0);var i=this.__filtered__&&!e?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=_n(n,i.__takeCount__):i.__views__.push({size:_n(n,g),type:t+(i.__dir__<0?"Right":"")}),i},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:cs(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Wn.prototype[t]=function(){return this[n](1).value()[0]}})),Ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Wn.prototype[t]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(rl)},Wn.prototype.find=function(t){return this.filter(t).head()},Wn.prototype.findLast=function(t){return this.reverse().find(t)},Wn.prototype.invokeMap=Xi((function(t,e){return"function"==typeof t?new Wn(this):this.map((function(n){return Li(n,t,e)}))})),Wn.prototype.reject=function(t){return this.filter(Ma(cs(t)))},Wn.prototype.slice=function(t,e){t=mo(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=mo(e))<0?n.dropRight(-e):n.take(e-t)),n)},Wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wn.prototype.toArray=function(){return this.take(g)},Ei(Wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),s=Un[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);s&&(Un.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,l=e instanceof Wn,c=o[0],u=l||qa(e),d=function(t){var e=s.apply(Un,Ne([t],o));return i&&h?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=a&&!h,m=l&&!f;if(!a&&u){e=m?e:new Wn(this);var g=t.apply(e,o);return g.__actions__.push({func:fa,args:[d],thisArg:r}),new qn(g,h)}return p&&m?t.apply(this,o):(g=this.thru(d),p?i?g.value()[0]:g.value():g)})})),Ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(qa(r)?r:[],t)}return this[n]((function(n){return e.apply(qa(n)?n:[],t)}))}})),Ei(Wn.prototype,(function(t,e){var n=Un[e];if(n){var i=n.name+"";Nt.call(Pn,i)||(Pn[i]=[]),Pn[i].push({name:e,func:n})}})),Pn[Ur(r,2).name]=[{name:"wrapper",func:r}],Wn.prototype.clone=function(){var t=new Wn(this.__wrapped__);return t.__actions__=Dr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Dr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Dr(this.__views__),t},Wn.prototype.reverse=function(){if(this.__filtered__){var t=new Wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qa(t),i=e<0,r=n?t.length:0,s=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var s=n[i],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=_n(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=s.start,o=s.end,l=o-a,c=i?o:a-1,u=this.__iteratees__,d=u.length,h=0,f=_n(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return mr(t,this.__actions__);var p=[];t:for(;l--&&h<f;){for(var m=-1,g=t[c+=e];++m<d;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue t;break t}}p[h++]=g}return p},Un.prototype.at=pa,Un.prototype.chain=function(){return ha(this)},Un.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===r&&(this.__values__=fo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof Gn;){var i=js(n);i.__index__=0,i.__values__=r,e?s.__wrapped__=i:e=i;var s=i;n=n.__wrapped__}return s.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var e=t;return this.__actions__.length&&(e=new Wn(this)),(e=e.reverse()).__actions__.push({func:fa,args:[ta],thisArg:r}),new qn(e,this.__chain__)}return this.thru(ta)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Zt&&(Un.prototype[Zt]=function(){return this}),Un}();me._=yn,(i=function(){return yn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},2537:()=>{},2982:()=>{},7009:()=>{!function(t,e,n,i){function r(e,n){this.settings=null,this.options=t.extend({},r.Defaults,n),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy((function(e,n){this._handlers[n]=t.proxy(this[n],this)}),this)),t.each(r.Plugins,t.proxy((function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)}),this)),t.each(r.Workers,t.proxy((function(e,n){this._pipe.push({filter:n.filter,run:t.proxy(n.run,this)})}),this)),this.setup(),this.initialize()}r.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},r.Width={Default:"default",Inner:"inner",Outer:"outer"},r.Type={Event:"event",State:"state"},r.Plugins={},r.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,r={width:"auto","margin-left":i?e:"","margin-right":i?"":e};!n&&this.$stage.children().css(r),t.css=r}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,r=!this.settings.autoWidth,s=[];for(t.items={merge:!1,width:e};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,t.items.merge=n>1||t.items.merge,s[i]=r?e*n:this._items[i].width();this._widths=s}},{filter:["items","settings"],run:function(){var e=[],n=this._items,i=this.settings,r=Math.max(2*i.items,4),s=2*Math.ceil(n.length/2),a=i.loop&&n.length?i.rewind?r:Math.max(r,s):0,o="",l="";for(a/=2;a>0;)e.push(this.normalize(e.length/2,!0)),o+=n[e[e.length-1]][0].outerHTML,e.push(this.normalize(n.length-1-(e.length-1)/2,!0)),l=n[e[e.length-1]][0].outerHTML+l,a-=1;this._clones=e,t(o).addClass("cloned").appendTo(this.$stage),t(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=-1,i=0,r=0,s=[];++n<e;)i=s[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,s.push(i+r*t);this._coordinates=s}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],i.eq(e).css(t.css);else n&&(t.css.width=t.items.width,i.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,i,r=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,a=this.coordinates(this.current())+s,o=a+this.width()*r,l=[];for(n=0,i=this._coordinates.length;n<i;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+s*r,(this.op(t,"<=",a)&&this.op(t,">",o)||this.op(e,"<",a)&&this.op(e,">",o))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],r.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},r.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map((function(e){return t(e)})),this._mergers=this._items.map((function(){return 1})),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},r.prototype.initialize=function(){var t,e,n;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:i,n=this.$element.children(e).width(),t.length&&n<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},r.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},r.prototype.setup=function(){var e=this.viewport(),n=this.options.responsive,i=-1,r=null;n?(t.each(n,(function(t){t<=e&&t>i&&(i=Number(t))})),"function"==typeof(r=t.extend({},this.options,n[i])).stagePadding&&(r.stagePadding=r.stagePadding()),delete r.responsive,r.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):r=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:r}}),this._breakpoint=i,this.settings=r,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},r.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},r.prototype.prepare=function(e){var n=this.trigger("prepare",{content:e});return n.data||(n.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:n.data}),n.data},r.prototype.update=function(){for(var e=0,n=this._pipe.length,i=t.proxy((function(t){return this[t]}),this._invalidated),r={};e<n;)(this._invalidated.all||t.grep(this._pipe[e].filter,i).length>0)&&this._pipe[e].run(r),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},r.prototype.width=function(t){switch(t=t||r.Width.Default){case r.Width.Inner:case r.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},r.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},r.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},r.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},r.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",(function(){return!1}))),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},r.prototype.onDragStart=function(e){var i=null;3!==e.which&&(t.support.transform?i={x:(i=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===i.length?12:4],y:i[16===i.length?13:5]}:(i=this.$stage.position(),i={x:this.settings.rtl?i.left+this.$stage.width()-this.width()+this.settings.margin:i.left,y:i.top}),this.is("animating")&&(t.support.transform?this.animate(i.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this.pointer(e),t(n).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(n).one("mousemove.owl.core touchmove.owl.core",t.proxy((function(e){var i=this.difference(this._drag.pointer,this.pointer(e));t(n).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(i.x)<Math.abs(i.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))}),this)))},r.prototype.onDragMove=function(t){var e=null,n=null,i=null,r=this.difference(this._drag.pointer,this.pointer(t)),s=this.difference(this._drag.stage.start,r);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-e,s.x=((s.x-e)%n+n)%n+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*r.x/5:0,s.x=Math.max(Math.min(s.x,e+i),n+i)),this._drag.stage.current=s,this.animate(s.x))},r.prototype.onDragEnd=function(e){var i=this.difference(this._drag.pointer,this.pointer(e)),r=this._drag.stage.current,s=i.x>0^this.settings.rtl?"left":"right";t(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==i.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(r.x,0!==i.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(i.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",(function(){return!1}))),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},r.prototype.closest=function(e,n){var r=-1,s=this.width(),a=this.coordinates();return this.settings.freeDrag||t.each(a,t.proxy((function(t,o){return"left"===n&&e>o-30&&e<o+30?r=t:"right"===n&&e>o-s-30&&e<o-s+30?r=t+1:this.op(e,"<",o)&&this.op(e,">",a[t+1]!==i?a[t+1]:o-s)&&(r="left"===n?t+1:t),-1===r}),this)),this.settings.loop||(this.op(e,">",a[this.minimum()])?r=e=this.minimum():this.op(e,"<",a[this.maximum()])&&(r=e=this.maximum())),r},r.prototype.animate=function(e){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):n?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},r.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},r.prototype.current=function(t){if(t===i)return this._current;if(0===this._items.length)return i;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==i&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},r.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,(function(t,e){return e}))},r.prototype.reset=function(t){(t=this.normalize(t))!==i&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},r.prototype.normalize=function(t,e){var n=this._items.length,r=e?0:this._clones.length;return!this.isNumeric(t)||n<1?t=i:(t<0||t>=n+r)&&(t=((t-r/2)%n+n)%n+r/2),t},r.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},r.prototype.maximum=function(t){var e,n,i,r=this.settings,s=this._coordinates.length;if(r.loop)s=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){if(e=this._items.length)for(n=this._items[--e].width(),i=this.$element.width();e--&&!((n+=this._items[e].width()+this.settings.margin)>i););s=e+1}else s=r.center?this._items.length-1:this._items.length-r.items;return t&&(s-=this._clones.length/2),Math.max(s,0)},r.prototype.minimum=function(t){return t?0:this._clones.length/2},r.prototype.items=function(t){return t===i?this._items.slice():(t=this.normalize(t,!0),this._items[t])},r.prototype.mergers=function(t){return t===i?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},r.prototype.clones=function(e){var n=this._clones.length/2,r=n+this._items.length,s=function(t){return t%2==0?r+t/2:n-(t+1)/2};return e===i?t.map(this._clones,(function(t,e){return s(e)})):t.map(this._clones,(function(t,n){return t===e?s(n):null}))},r.prototype.speed=function(t){return t!==i&&(this._speed=t),this._speed},r.prototype.coordinates=function(e){var n,r=1,s=e-1;return e===i?t.map(this._coordinates,t.proxy((function(t,e){return this.coordinates(e)}),this)):(this.settings.center?(this.settings.rtl&&(r=-1,s=e+1),n=this._coordinates[e],n+=(this.width()-n+(this._coordinates[s]||0))/2*r):n=this._coordinates[s]||0,n=Math.ceil(n))},r.prototype.duration=function(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},r.prototype.to=function(t,e){var n=this.current(),i=null,r=t-this.relative(n),s=(r>0)-(r<0),a=this._items.length,o=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>a/2&&(r+=-1*s*a),(i=(((t=n+r)-o)%a+a)%a+o)!==t&&i-r<=l&&i-r>0&&(n=i-r,t=i,this.reset(n))):t=this.settings.rewind?(t%(l+=1)+l)%l:Math.max(o,Math.min(l,t)),this.speed(this.duration(n,t,e)),this.current(t),this.isVisible()&&this.update()},r.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},r.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},r.prototype.onTransitionEnd=function(t){if(t!==i&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},r.prototype.viewport=function(){var i;return this.options.responsiveBaseElement!==e?i=t(this.options.responsiveBaseElement).width():e.innerWidth?i=e.innerWidth:n.documentElement&&n.documentElement.clientWidth?i=n.documentElement.clientWidth:console.warn("Can not detect viewport width."),i},r.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter((function(){return 1===this.nodeType})).each(t.proxy((function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)}),this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},r.prototype.add=function(e,n){var r=this.relative(this._current);n=n===i?this._items.length:this.normalize(n,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:n}),e=this.prepare(e),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[n-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(e),this._items.splice(n,0,e),this._mergers.splice(n,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[r]&&this.reset(this._items[r].index()),this.invalidate("items"),this.trigger("added",{content:e,position:n})},r.prototype.remove=function(t){(t=this.normalize(t,!0))!==i&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},r.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy((function(e,n){this.enter("pre-loading"),n=t(n),t(new Image).one("load",t.proxy((function(t){n.attr("src",t.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()}),this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))}),this))},r.prototype.destroy=function(){for(var i in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(n).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},r.prototype.op=function(t,e,n){var i=this.settings.rtl;switch(e){case"<":return i?t>n:t<n;case">":return i?t<n:t>n;case">=":return i?t<=n:t>=n;case"<=":return i?t>=n:t<=n}},r.prototype.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},r.prototype.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)},r.prototype.trigger=function(e,n,i,s,a){var o={item:{count:this._items.length,index:this.current()}},l=t.camelCase(t.grep(["on",e,i],(function(t){return t})).join("-").toLowerCase()),c=t.Event([e,"owl",i||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},o,n));return this._supress[e]||(t.each(this._plugins,(function(t,e){e.onTrigger&&e.onTrigger(c)})),this.register({type:r.Type.Event,name:e}),this.$element.trigger(c),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,c)),c},r.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy((function(t,e){this._states.current[e]===i&&(this._states.current[e]=0),this._states.current[e]++}),this))},r.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy((function(t,e){this._states.current[e]--}),this))},r.prototype.register=function(e){if(e.type===r.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var n=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!n||!n.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:n.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===r.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy((function(n,i){return t.inArray(n,this._states.tags[e.name])===i}),this)))},r.prototype.suppress=function(e){t.each(e,t.proxy((function(t,e){this._supress[e]=!0}),this))},r.prototype.release=function(e){t.each(e,t.proxy((function(t,e){delete this._supress[e]}),this))},r.prototype.pointer=function(t){var n={x:null,y:null};return(t=(t=t.originalEvent||t||e.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),n},r.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},r.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each((function(){var i=t(this),s=i.data("owl.carousel");s||(s=new r(this,"object"==typeof e&&e),i.data("owl.carousel",s),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],(function(e,n){s.register({type:r.Type.Event,name:n}),s.$element.on(n+".owl.carousel.core",t.proxy((function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([n]),s[n].apply(this,[].slice.call(arguments,1)),this.release([n]))}),s))}))),"string"==typeof e&&"_"!==e.charAt(0)&&s[e].apply(s,n)}))},t.fn.owlCarousel.Constructor=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy((function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()}),this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={autoRefresh:!0,autoRefreshInterval:500},r.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},r.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},r.prototype.destroy=function(){var t,n;for(t in e.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy((function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type)){var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,r=n.center&&-1*i||0,s=(e.property&&undefined!==e.property.value?e.property.value:this._core.current())+r,a=this._core.clones().length,o=t.proxy((function(t,e){this.load(e)}),this);for(n.lazyLoadEager>0&&(i+=n.lazyLoadEager,n.loop&&(s-=n.lazyLoadEager,i++));r++<i;)this.load(a/2+this._core.relative(s)),a&&t.each(this._core.clones(this._core.relative(s)),o),s++}}),this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={lazyLoad:!1,lazyLoadEager:0},r.prototype.load=function(n){var i=this._core.$stage.children().eq(n),r=i&&i.find(".owl-lazy");!r||t.inArray(i.get(0),this._loaded)>-1||(r.each(t.proxy((function(n,i){var r,s=t(i),a=e.devicePixelRatio>1&&s.attr("data-src-retina")||s.attr("data-src")||s.attr("data-srcset");this._core.trigger("load",{element:s,url:a},"lazy"),s.is("img")?s.one("load.owl.lazy",t.proxy((function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:a},"lazy")}),this)).attr("src",a):s.is("source")?s.one("load.owl.lazy",t.proxy((function(){this._core.trigger("loaded",{element:s,url:a},"lazy")}),this)).attr("srcset",a):((r=new Image).onload=t.proxy((function(){s.css({"background-image":'url("'+a+'")',opacity:"1"}),this._core.trigger("loaded",{element:s,url:a},"lazy")}),this),r.src=a)}),this)),this._loaded.push(i.get(0)))},r.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(n){this._core=n,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy((function(t){t.namespace&&this._core.settings.autoHeight&&this.update()}),this),"changed.owl.carousel":t.proxy((function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()}),this),"loaded.owl.lazy":t.proxy((function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()}),this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var i=this;t(e).on("load",(function(){i._core.settings.autoHeight&&i.update()})),t(e).resize((function(){i._core.settings.autoHeight&&(null!=i._intervalId&&clearTimeout(i._intervalId),i._intervalId=setTimeout((function(){i.update()}),250))}))};r.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},r.prototype.update=function(){var e=this._core._current,n=e+this._core.settings.items,i=this._core.settings.lazyLoad,r=this._core.$stage.children().toArray().slice(e,n),s=[],a=0;t.each(r,(function(e,n){s.push(t(n).height())})),(a=Math.max.apply(null,s))<=1&&i&&this._previousHeight&&(a=this._previousHeight),this._previousHeight=a,this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)},r.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy((function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})}),this),"resize.owl.carousel":t.proxy((function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()}),this),"refreshed.owl.carousel":t.proxy((function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()}),this),"changed.owl.carousel":t.proxy((function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()}),this),"prepared.owl.carousel":t.proxy((function(e){if(e.namespace){var n=t(e.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,t(e.content)))}}),this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy((function(t){this.play(t)}),this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1},r.prototype.fetch=function(t,e){var n=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),r=t.attr("data-width")||this._core.settings.videoWidth,s=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if((i=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)n="youtube";else if(i[3].indexOf("vimeo")>-1)n="vimeo";else{if(!(i[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");n="vzaar"}i=i[6],this._videos[a]={type:n,id:i,width:r,height:s},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},r.prototype.thumbnail=function(e,n){var i,r,s=n.width&&n.height?"width:"+n.width+"px;height:"+n.height+"px;":"",a=e.find("img"),o="src",l="",c=this._core.settings,u=function(n){'<div class="owl-video-play-icon"></div>',i=c.lazyLoad?t("<div/>",{class:"owl-video-tn "+l,srcType:n}):t("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+n+")"}),e.after(i),e.after('<div class="owl-video-play-icon"></div>')};if(e.wrap(t("<div/>",{class:"owl-video-wrapper",style:s})),this._core.settings.lazyLoad&&(o="data-src",l="owl-lazy"),a.length)return u(a.attr(o)),a.remove(),!1;"youtube"===n.type?(r="//img.youtube.com/vi/"+n.id+"/hqdefault.jpg",u(r)):"vimeo"===n.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t[0].thumbnail_large,u(r)}}):"vzaar"===n.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t.framegrab_url,u(r)}})},r.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},r.prototype.play=function(e){var n,i=t(e.target).closest("."+this._core.settings.itemClass),r=this._videos[i.attr("data-video")],s=r.width||"100%",a=r.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),(n=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",a),n.attr("width",s),"youtube"===r.type?n.attr("src","//www.youtube.com/embed/"+r.id+"?autoplay=1&rel=0&v="+r.id):"vimeo"===r.type?n.attr("src","//player.vimeo.com/video/"+r.id+"?autoplay=1"):"vzaar"===r.type&&n.attr("src","//view.vzaar.com/"+r.id+"/player?autoplay=true"),t(n).wrap('<div class="owl-video-frame" />').insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},r.prototype.isInFullScreen=function(){var e=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},r.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this.core=e,this.core.options=t.extend({},r.Defaults,this.core.options),this.swapping=!0,this.previous=i,this.next=i,this.handlers={"change.owl.carousel":t.proxy((function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)}),this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy((function(t){t.namespace&&(this.swapping="translated"==t.type)}),this),"translate.owl.carousel":t.proxy((function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()}),this)},this.core.$element.on(this.handlers)};r.Defaults={animateOut:!1,animateIn:!1},r.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,n=t.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),r=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(t.support.animation.end,n).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(a)),s&&r.one(t.support.animation.end,n).addClass("animated owl-animated-in").addClass(s))}},r.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},r.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy((function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)}),this),"initialized.owl.carousel":t.proxy((function(t){t.namespace&&this._core.settings.autoplay&&this.play()}),this),"play.owl.autoplay":t.proxy((function(t,e,n){t.namespace&&this.play(e,n)}),this),"stop.owl.autoplay":t.proxy((function(t){t.namespace&&this.stop()}),this),"mouseover.owl.autoplay":t.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"mouseleave.owl.autoplay":t.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()}),this),"touchstart.owl.core":t.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"touchend.owl.core":t.proxy((function(){this._core.settings.autoplayHoverPause&&this.play()}),this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},r.Defaults,this._core.options)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},r.prototype._next=function(i){this._call=e.setTimeout(t.proxy(this._next,this,i),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||n.hidden||this._core.next(i||this._core.settings.autoplaySpeed)},r.prototype.read=function(){return(new Date).getTime()-this._time},r.prototype.play=function(n,i){var r;this._core.is("rotating")||this._core.enter("rotating"),n=n||this._core.settings.autoplayTimeout,r=Math.min(this._time%(this._timeout||n),n),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%n-r,this._timeout=n,this._call=e.setTimeout(t.proxy(this._next,this,i),n-r)},r.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},r.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},r.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){"use strict";var r=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")}),this),"added.owl.carousel":t.proxy((function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())}),this),"remove.owl.carousel":t.proxy((function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)}),this),"changed.owl.carousel":t.proxy((function(t){t.namespace&&"position"==t.property.name&&this.draw()}),this),"initialized.owl.carousel":t.proxy((function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))}),this),"refreshed.owl.carousel":t.proxy((function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))}),this)},this._core.options=t.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers)};r.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},r.prototype.initialize=function(){var e,n=this._core.settings;for(e in this._controls.$relative=(n.navContainer?t(n.navContainer):t("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy((function(t){this.prev(n.navSpeed)}),this)),this._controls.$next=t("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy((function(t){this.next(n.navSpeed)}),this)),n.dotsData||(this._templates=[t('<button role="button">').addClass(n.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?t(n.dotsContainer):t("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy((function(e){var i=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(i,n.dotsSpeed)}),this)),this._overrides)this._core[e]=t.proxy(this[e],this)},r.prototype.destroy=function(){var t,e,n,i,r;for(t in r=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&r.navContainer?this._controls[e].html(""):this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},r.prototype.update=function(){var t,e,n=this._core.clones().length/2,i=n+this._core.items().length,r=this._core.maximum(!0),s=this._core.settings,a=s.center||s.autoWidth||s.dotsData?1:s.dotsEach||s.items;if("page"!==s.slideBy&&(s.slideBy=Math.min(s.slideBy,s.items)),s.dots||"page"==s.slideBy)for(this._pages=[],t=n,e=0,0;t<i;t++){if(e>=a||0===e){if(this._pages.push({start:Math.min(r,t-n),end:t-n+a-1}),Math.min(r,t-n)===r)break;e=0}e+=this._core.mergers(this._core.relative(t))}},r.prototype.draw=function(){var e,n=this._core.settings,i=this._core.items().length<=n.items,r=this._core.relative(this._core.current()),s=n.loop||n.rewind;this._controls.$relative.toggleClass("disabled",!n.nav||i),n.nav&&(this._controls.$previous.toggleClass("disabled",!s&&r<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&r>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!n.dots||i),n.dots&&(e=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},r.prototype.onTrigger=function(e){var n=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},r.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy((function(t,n){return t.start<=e&&t.end>=e}),this)).pop()},r.prototype.getPosition=function(e){var n,i,r=this._core.settings;return"page"==r.slideBy?(n=t.inArray(this.current(),this._pages),i=this._pages.length,e?++n:--n,n=this._pages[(n%i+i)%i].start):(n=this._core.relative(this._core.current()),i=this._core.items().length,e?n+=r.slideBy:n-=r.slideBy),n},r.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},r.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},r.prototype.to=function(e,n,i){var r;!i&&this._pages.length?(r=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%r+r)%r].start,n)):t.proxy(this._overrides.to,this._core)(e,n)},t.fn.owlCarousel.Constructor.Plugins.Navigation=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){"use strict";var r=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy((function(n){n.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")}),this),"prepared.owl.carousel":t.proxy((function(e){if(e.namespace){var n=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!n)return;this._hashes[n]=e.content}}),this),"changed.owl.carousel":t.proxy((function(n){if(n.namespace&&"position"===n.property.name){var i=this._core.items(this._core.relative(this._core.current())),r=t.map(this._hashes,(function(t,e){return t===i?e:null})).join();if(!r||e.location.hash.slice(1)===r)return;e.location.hash=r}}),this)},this._core.options=t.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy((function(t){var n=e.location.hash.substring(1),i=this._core.$stage.children(),r=this._hashes[n]&&i.index(this._hashes[n]);undefined!==r&&r!==this._core.current()&&this._core.to(this._core.relative(r),!1,!0)}),this))};r.Defaults={URLhashListener:!1},r.prototype.destroy=function(){var n,i;for(n in t(e).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=t("<support>").get(0).style,s="Webkit Moz O ms".split(" "),a={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},o=function(){return!!u("transform")},l=function(){return!!u("perspective")},c=function(){return!!u("animation")};function u(e,n){var a=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+s.join(o+" ")+o).split(" "),(function(t,e){if(r[e]!==i)return a=!n||e,!1})),a}function d(t){return u(t,!0)}(function(){return!!u("transition")})()&&(t.support.transition=new String(d("transition")),t.support.transition.end=a.transition.end[t.support.transition]),c()&&(t.support.animation=new String(d("animation")),t.support.animation.end=a.animation.end[t.support.animation]),o()&&(t.support.transform=new String(d("transform")),t.support.transform3d=l())}(window.Zepto||window.jQuery,window,document)},8981:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>at});var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var s=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function o(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=o(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:c(l(t))}function u(t){return t&&t.referenceNode?t.referenceNode:t}var d=i&&!(!window.MSInputMethodContext||!document.documentMode),h=i&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?d:10===t?h:d||h}function p(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);var a,o,l=s.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(o=(a=l).nodeName)||"HTML"!==o&&p(a.firstElementChild)!==a?p(l):l;var c=m(t);return c.host?g(c.host,e):g(t,m(e).host)}function v(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function y(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function b(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,i=f(10)&&getComputedStyle(n);return{height:b("Height",e,n,i),width:b("Width",e,n,i)}}var E=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),S=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function w(t){return T({},t,{right:t.left+t.width,bottom:t.top+t.height})}function k(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s="HTML"===t.nodeName?_(t.ownerDocument):{},a=s.width||t.clientWidth||r.width,l=s.height||t.clientHeight||r.height,c=t.offsetWidth-a,u=t.offsetHeight-l;if(c||u){var d=o(t);c-=y(d,"x"),u-=y(d,"y"),r.width-=c,r.height-=u}return w(r)}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(10),r="HTML"===e.nodeName,s=k(t),a=k(e),l=c(t),u=o(e),d=parseFloat(u.borderTopWidth),h=parseFloat(u.borderLeftWidth);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=w({top:s.top-a.top-d,left:s.left-a.left-h,width:s.width,height:s.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var m=parseFloat(u.marginTop),g=parseFloat(u.marginLeft);p.top-=d-m,p.bottom-=d-m,p.left-=h-g,p.right-=h-g,p.marginTop=m,p.marginLeft=g}return(i&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),r=v(e,"left"),s=n?-1:1;return t.top+=i*s,t.bottom+=i*s,t.left+=r*s,t.right+=r*s,t}(p,e)),p}function x(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===o(t,"position"))return!0;var n=l(t);return!!n&&x(n)}function A(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===o(e,"transform");)e=e.parentElement;return e||document.documentElement}function I(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},a=r?A(t):g(t,u(e));if("viewport"===i)s=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=C(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:v(n),o=e?0:v(n,"left");return w({top:a-i.top+i.marginTop,left:o-i.left+i.marginLeft,width:r,height:s})}(a,r);else{var o=void 0;"scrollParent"===i?"BODY"===(o=c(l(e))).nodeName&&(o=t.ownerDocument.documentElement):o="window"===i?t.ownerDocument.documentElement:i;var d=C(o,a,r);if("HTML"!==o.nodeName||x(a))s=d;else{var h=_(t.ownerDocument),f=h.height,p=h.width;s.top+=d.top-d.marginTop,s.bottom=f+d.top,s.left+=d.left-d.marginLeft,s.right=p+d.left}}var m="number"==typeof(n=n||0);return s.left+=m?n:n.left||0,s.top+=m?n:n.top||0,s.right-=m?n:n.right||0,s.bottom-=m?n:n.bottom||0,s}function D(t,e,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=I(n,i,s,r),o={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(o).map((function(t){return T({key:t},o[t],{area:(e=o[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function L(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,i?A(e):g(e,u(n)),i)}function P(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function O(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function R(t,e,n){n=n.split("-")[0];var i=P(t),r={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(n),a=s?"top":"left",o=s?"left":"top",l=s?"height":"width",c=s?"width":"height";return r[a]=e[a]+e[l]/2-i[l]/2,r[o]=n===o?e[o]-i[c]:e[O(o)],r}function M(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function N(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=M(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=w(e.offsets.popper),e.offsets.reference=w(e.offsets.reference),e=n(e,t))})),e}function F(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=D(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=R(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=N(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function $(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],s=r?""+r+n:t;if(void 0!==document.body.style[s])return s}return null}function B(){return this.state.isDestroyed=!0,$(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(t){var e=t.ownerDocument;return e?e.defaultView:window}function H(t,e,n,i){var r="BODY"===t.nodeName,s=r?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),r||H(c(s.parentNode),e,n,i),i.push(s)}function G(t,e,n,i){n.updateBound=i,U(t).addEventListener("resize",n.updateBound,{passive:!0});var r=c(t);return H(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled||(this.state=G(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,U(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function V(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function K(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&V(e[n])&&(i="px"),t.style[n]=e[n]+i}))}var z=i&&/Firefox/i.test(navigator.userAgent);function Y(t,e,n){var i=M(t,(function(t){return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var s="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return r}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=Q.slice(3);function Z(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=X.indexOf(t),i=X.slice(n+1).concat(X.slice(0,n));return e?i.reverse():i}var J="flip",tt="clockwise",et="counterclockwise";function nt(t,e,n,i){var r=[0,0],s=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),o=a.indexOf(M(a,(function(t){return-1!==t.search(/,|\s/)})));a[o]&&-1===a[o].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==o?[a.slice(0,o).concat([a[o].split(l)[0]]),[a[o].split(l)[1]].concat(a.slice(o+1))]:[a];return c=c.map((function(t,i){var r=(1===i?!s:s)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+r[1],a=r[2];if(!s)return t;if(0===a.indexOf("%")){return w("%p"===a?n:i)[e]/100*s}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s;return s}(t,r,e,n)}))})),c.forEach((function(t,e){t.forEach((function(n,i){V(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}var it={shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,s=r.reference,a=r.popper,o=-1!==["bottom","top"].indexOf(n),l=o?"left":"top",c=o?"width":"height",u={start:S({},l,s[l]),end:S({},l,s[l]+s[c]-a[c])};t.offsets.popper=T({},a,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,s=r.popper,a=r.reference,o=i.split("-")[0],l=void 0;return l=V(+n)?[+n,0]:nt(n,s,a,o),"left"===o?(s.top+=l[0],s.left-=l[1]):"right"===o?(s.top+=l[0],s.left+=l[1]):"top"===o?(s.left+=l[0],s.top-=l[1]):"bottom"===o&&(s.left+=l[0],s.top+=l[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=j("transform"),r=t.instance.popper.style,s=r.top,a=r.left,o=r[i];r.top="",r.left="",r[i]="";var l=I(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=s,r.left=a,r[i]=o,e.boundaries=l;var c=e.priority,u=t.offsets.popper,d={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),S({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),S({},n,i)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=T({},u,d[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],s=Math.floor,a=-1!==["top","bottom"].indexOf(r),o=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[o]<s(i[l])&&(t.offsets.popper[l]=s(i[l])-n[c]),n[l]>s(i[o])&&(t.offsets.popper[l]=s(i[o])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!Y(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],s=t.offsets,a=s.popper,l=s.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",m=P(i)[u];l[p]-m<a[h]&&(t.offsets.popper[h]-=a[h]-(l[p]-m)),l[h]+m>a[p]&&(t.offsets.popper[h]+=l[h]+m-a[p]),t.offsets.popper=w(t.offsets.popper);var g=l[h]+l[u]/2-m/2,v=o(t.instance.popper),y=parseFloat(v["margin"+d]),b=parseFloat(v["border"+d+"Width"]),_=g-t.offsets.popper[h]-y-b;return _=Math.max(Math.min(a[u]-m,_),0),t.arrowElement=i,t.offsets.arrow=(S(n={},h,Math.round(_)),S(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if($(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=I(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=O(i),s=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case J:a=[i,r];break;case tt:a=Z(i);break;case et:a=Z(i,!0);break;default:a=e.behavior}return a.forEach((function(o,l){if(i!==o||a.length===l+1)return t;i=t.placement.split("-")[0],r=O(i);var c=t.offsets.popper,u=t.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),p=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===i&&f||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===s&&f||y&&"end"===s&&p||!y&&"start"===s&&m||!y&&"end"===s&&g),_=!!e.flipVariationsByContent&&(y&&"start"===s&&p||y&&"end"===s&&f||!y&&"start"===s&&g||!y&&"end"===s&&m),E=b||_;(h||v||E)&&(t.flipped=!0,(h||v)&&(i=a[l+1]),E&&(s=function(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=i+(s?"-"+s:""),t.offsets.popper=T({},t.offsets.popper,R(t.instance.popper,t.offsets.reference,t.placement)),t=N(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,s=i.reference,a=-1!==["left","right"].indexOf(n),o=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=s[n]-(o?r[a?"width":"height"]:0),t.placement=O(e),t.offsets.popper=w(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Y(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=M(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,s=M(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==s?s:e.gpuAcceleration,o=p(t.instance.popper),l=k(o),c={position:r.position},u=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,s=Math.round,a=Math.floor,o=function(t){return t},l=s(r.width),c=s(i.width),u=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),h=e?u||d||l%2==c%2?s:a:o,f=e?s:o;return{left:h(l%2==1&&c%2==1&&!d&&e?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:h(i.right)}}(t,window.devicePixelRatio<2||!z),d="bottom"===n?"top":"bottom",h="right"===i?"left":"right",f=j("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===o.nodeName?-o.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===h?"HTML"===o.nodeName?-o.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[d]=0,c[h]=0,c.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===h?-1:1;c[d]=g*v,c[h]=m*y,c.willChange=d+", "+h}var b={"x-placement":t.placement};return t.attributes=T({},b,t.attributes),t.styles=T({},c,t.styles),t.arrowStyles=T({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return K(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&K(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var s=L(r,e,t,n.positionFixed),a=D(n.placement,s,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),K(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},rt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:it},st=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=T({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(T({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=T({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return T({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return E(t,[{key:"update",value:function(){return F.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return q.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),t}();st.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,st.placements=Q,st.Defaults=rt;const at=st},4155:t=>{var e,n,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:r}catch(t){e=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var o,l=[],c=!1,u=-1;function d(){c&&o&&(c=!1,o.length?l=o.concat(l):u=-1,l.length&&h())}function h(){if(!c){var t=a(d);c=!0;for(var e=l.length;e;){for(o=l,l=[];++u<e;)o&&o[u].run();u=-1,e=l.length}o=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||c||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},2820:(t,e,n)=>{"use strict";var i=n(3379),r=n.n(i),s=n(5470),a={insert:"head",singleton:!1};r()(s.Z,a),s.Z.locals},3379:(t,e,n)=>{"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function o(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],l=e.base?s[0]+e.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=o(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:u,updater:g(h,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=s(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var s=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function f(t,e,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,m=0;function g(t,e){var n,i,r;if(e.singleton){var s=m++;n=p||(p=c(e)),i=h.bind(null,n,s,!1),r=h.bind(null,n,s,!0)}else n=c(e),i=f.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=o(n[i]);a[r].references--}for(var s=l(t,e),c=0;c<n.length;c++){var u=o(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=s}}}},6945:function(t,e,n){var i;i=t=>(()=>{"use strict";var e={311:e=>{e.exports=t}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};return(()=>{i.d(r,{default:()=>d});var t=i(311),e=i.n(t),n=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"];function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s.apply(this,arguments)}var a=function(t){return t&&t.length?t:null},o=function(t){return s({},t)},l=n.concat(["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"]),c=["locale","showMonths"];const u={name:"flat-pickr",render:function(t){return t("input",{attrs:{type:"text","data-input":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||"string"==typeof t||t instanceof String||t instanceof Array||"number"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return n}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var n=o(this.config);this.events.forEach((function(i){var r,s=e().defaultConfig[i]||[];n[i]=(r=n[i]||[],r instanceof Array?r:[r]).concat(s,(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s;t.$emit.apply(t,[(s=i,s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())].concat(n))}))})),n.defaultDate=this.value||n.defaultDate,this.fp=new(e())(this.getElem(),n),this.fpInput().addEventListener("blur",this.onBlur),this.$on("on-close",this.onClose),this.$watch("disabled",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit("input",a(n.value))}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit("blur",a(t.target.value))},onClose:function(t,e){this.$emit("input",a(e))},watchDisabled:function(t){t?this.fpInput().setAttribute("disabled",t):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=o(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),c.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==a(this.$el.value)&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)},install:function(t,e){var n="flat-pickr";"string"==typeof e&&(n=e),t.component(n,u)}},d=u})(),r=r.default})(),t.exports=i(n(6667))},5151:(t,e,n)=>{"use strict";n.d(e,{Z:()=>R});var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o={props:["booking_details","voucher","sub_total","bookings","amount","property"],data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,i.Se)({bookingTotal:"bookingTotal",bookingPropertyServicesTotal:"bookingPropertyServicesTotal",bookingServicesTotal:"bookingServicesTotal"}))};var l=n(1900);const c=(0,l.Z)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"bg-white"},[e("div",{staticClass:"card-title custom-border-bottom p-3 text-size-1-big bold-3"},[t._v("\n      Your Booking \n    ")]),t._v(" "),e("div",[e("ul",{staticClass:"list-unstyled mb-2 p-3"},[e("li",{staticClass:"d-flex justify-content-between mb-3 lh-22"},[e("p",{staticClass:"text-gray-light mb-0 bold-2"},[t._v("Check in")]),t._v(" "),e("p",{staticClass:"font-weight-500 text-heading mb-0"},[t._v("\n            "+t._s(t.booking_details.from)+"\n          ")])]),t._v(" "),e("li",{staticClass:"d-flex justify-content-between mb-3 lh-22"},[e("p",{staticClass:"text-gray-light mb-0 bold-2"},[t._v("Check out")]),t._v(" "),e("p",{staticClass:"font-weight-500 text-heading mb-0"},[t._v("\n            "+t._s(t.booking_details.to)+"\n          ")])]),t._v(" "),e("li",{staticClass:"d-flex justify-content-between lh-22"},[e("p",{staticClass:"text-gray-light mb-0 bold-2"},[t._v("Total length of stay")]),t._v(" "),e("p",{staticClass:"font-weight-500 text-heading mb-0"},[t._v("\n            "+t._s(t.booking_details.days)+" "+t._s(t.booking_details.nights[1])+"\n          ")])])])])]),t._v(" "),e("div",{staticClass:"bg-white mt-2"},[e("div",{staticClass:"card-title bold-3 custom-border-bottom p-3 text-size-1-big"},[t._v("\n      Price Details\n    ")]),t._v(" "),t._l(t.bookings,(function(n){return t.booking_details.days_not_in_peak_period>0?e("div",{key:n.id,staticClass:"p-3 bg-transparent d-flex justify-content-between p-0 align-items-center"},[n.sale_price?[e("div",[e("div",[t._v("\n            "+t._s(n.apartment.name||t.property.name)+"\n          ")]),t._v(" "),e("span",{staticClass:"bold-2"},[e("del",[t._v(t._s(n.currency)+t._s(t._f("priceFormat")(n.regular_price)))]),t._v("\n            "+t._s(n.currency)+t._s(t._f("priceFormat")(n.sale_price))+" X\n            "+t._s(t.booking_details.days_not_in_peak_period+" night(s)")+"\n          ")])]),t._v(" "),e("span",{staticClass:"text-size-2"},[t._v(" per night")]),t._v(" "),e("div",{staticClass:"bold-2"},[t._v("\n          "+t._s(t.property.currency)+t._s(t._f("priceFormat")(n.regular_price*t.booking_details.days_not_in_peak_period_total))+"\n        ")])]:[e("div",[e("div",[t._v("\n            "+t._s(n.apartment.name||t.property.name)+"\n          ")]),t._v(" "),e("div",{staticClass:"bold-2"},[t._v("\n            "+t._s(t.property.currency)+t._s(t._f("priceFormat")(n.regular_price))+" X\n            "+t._s(t.booking_details.days_not_in_peak_period+" night(s)")+"\n            "),e("div",{staticClass:"text-size-2"},[t._v("per night")]),t._v(" "),t.booking_details.is_peak_period_present?e("span",{staticClass:"badge bg-primary"},[t._v("Regular")]):t._e()])]),t._v(" "),e("div",{staticClass:"bold-2"},[t._v("\n          "+t._s(t.property.currency)+t._s(t._f("priceFormat")(n.regular_price*t.booking_details.days_not_in_peak_period))+"\n        ")])]],2):t._e()})),t._v(" "),t.booking_details.is_peak_period_present?e("div",{staticClass:"p-3 bg-transparent d-flex justify-content-between p-0 align-items-center"},[e("div",[e("div",{staticClass:"bold-2"},[t._v("\n          "+t._s(t.property.currency)+t._s(t._f("priceFormat")(t.booking_details.peak_price))+" X\n          "+t._s(t.booking_details.days_in_peak_period+" night(s)")+"\n          "),e("div",{staticClass:"text-size-2"},[t._v("per night")]),t._v(" "),e("span",{staticClass:"badge bg-primary"},[t._v("Peak Period")])])]),t._v(" "),e("div",{staticClass:"bold-2"},[t._v("\n        "+t._s(t.property.currency)+t._s(t._f("priceFormat")(t.booking_details.peak_price*t.booking_details.days_in_peak_period))+"\n      ")])]):t._e(),t._v(" "),t.booking_details.is_peak_period_present?e("div",{staticClass:"alert alert-success p-3 ml-3",attrs:{role:"alert"}},[e("strong",[t._v("Note:")]),t._v(" Due to the peak period, prices from\n      "+t._s(t.booking_details.peak_period.from_date)+" to\n      "+t._s(t.booking_details.peak_period.to_date)+" are at\n      "),e("span",{staticClass:"fw-bold"},[t._v("\n        "+t._s(t.property.currency)+t._s(t._f("priceFormat")(t.booking_details.peak_price)))]),t._v("\n      per night.\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"card-footer p-3 bg-transparent d-flex justify-content-between p-0 align-items-center"},[e("p",{staticClass:"text-heading mb-0 bold-2"},[t._v("Sub Total")]),t._v(" "),e("span",{staticClass:"text-heading total-price bold-3"},[t._v(t._s(t.property.currency)+t._s(t._f("priceFormat")(parseInt(t.sub_total))))])]),t._v(" "),e("div",{staticClass:"card-footer p-3 bg-transparent d-flex justify-content-between p-0 align-items-center"},[e("p",{staticClass:"text-heading bold-3 mb-0"},[t._v("Total Price:")]),t._v(" "),e("span",{staticClass:"bold-3 text-heading total-price price",attrs:{"data-total":t.bookingTotal+t.bookingPropertyServicesTotal+t.bookingServicesTotal}},[t.voucher&&void 0!==t.voucher&&t.voucher.length?[e("span",{staticClass:"text-danger fs-3"},[e("del",[t._v("\n              "+t._s(t.property.currency)+t._s(t._f("priceFormat")(t.bookingTotal+t.bookingPropertyServicesTotal+t.bookingServicesTotal))+"\n            ")])]),t._v("\n          "+t._s(t.property.currency)+t._s(t._f("priceFormat")(t.voucher[0].sub_total))+"\n\n          "),e("p",{staticClass:"fs-5"},[t._v(t._s(t.voucher[0].percent))])]:[t._v("\n          "+t._s(t.property.currency)+t._s(t._f("priceFormat")(t.bookingTotal+t.bookingPropertyServicesTotal+t.bookingServicesTotal))+"\n        ")]],2)])],2)])}),[],!1,null,null,null).exports;function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const p={props:{booking:Object,property:Object,booking_details:Object,bookings:Array},data:function(){return{amount:0,checkboxesChecked:[],extras:[],isChecked:!1}},computed:h({},(0,i.Se)({bookingTotal:"bookingTotal",bookingSubTotal:"bookingSubTotal",bookingPropertyServicesTotal:"bookingPropertyServicesTotal",bookingServicesTotal:"bookingServicesTotal"})),methods:h(h({},(0,i.nv)({deleteBooking:"deleteBooking"})),{},{addServices:function(t){this.isChecked=!this.isChecked,t.target.classList.contains("checked")||(this.isChecked=!0),this.isChecked?(t.target.checked=!0,t.target.classList.add("checked")):(t.target.checked=!1,t.target.classList.remove("checked"));for(var e={},n=[],i=[],r=document.querySelectorAll("input.filter-attribute:checked"),s=0;s<r.length;s++)r[s].checked&&(n.push(r[s].dataset.price),e=f({},r[s].dataset.apartment,f({},r[s].value,r[s].dataset.quantity)),i.push(e));var a=this.sum(n);this.$store.commit("setBookingServicesTotal",a),this.$emit("addExtraService",{extras:i})},removeFromBooking:function(t,e,n){for(var i=this,r=document.querySelectorAll(".extra_services_"+n),s=[],a={},o=[],l=[],c=0;c<r.length;c++)r[c].checked&&s.push(r[c].dataset.price);var u=document.querySelectorAll("input.filter-attribute:checked");for(c=0;c<u.length;c++)u[c].checked&&(o.push(u[c].dataset.price),a=f({},u[c].dataset.apartment,f({},u[c].value,u[c].dataset.quantity)),l.push(a));l.forEach((function(t,e){for(var i in t)t.hasOwnProperty.call(t,i)&&delete l[e][n]})),s.forEach((function(t,e){console.log(t);var n=o.indexOf(t);-1!=n&&o.splice(n,1)}));var d=this.sum(o);this.$store.commit("setBookingServicesTotal",d),this.deleteBooking({context:this,booking_id:e,property_id:this.property.id,amount:d}).then((function(t){i.$emit("addExtraService",{extras:l})}))},sum:function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)}})};const m=(0,l.Z)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white mt-2"},[e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("div",[e("h4",{staticClass:"card-title p-3 mb-0 bold-2"},[t._v("\n          "+t._s(t.booking.apartment.name||t.property.name)+"\n        ")])]),t._v(" "),t.bookings.length>1?e("div",{staticClass:"mr-2"},[e("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.removeFromBooking(e,t.booking.id,t.booking.apartment.id)}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" Remove")])]):t._e()]),t._v(" "),e("div",{staticClass:"card-body pt-0"},[t._m(0),t._v(" "),e("div",{staticClass:"entire-apartment"},[e("div",{staticClass:"mb-3"},[t._v("Entire apartment")]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between flex-wrap"},[e("div",{staticClass:"position-relative"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#bedrooms-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.booking.apartment.no_of_rooms)+" Bedrooms\n              "+t._s(t.booking.apartment.id))])]),t._v(" "),e("div",{staticClass:"position-relative"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#bathroom-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.booking.apartment.toilets)+" bathrooms")])]),t._v(" "),e("div",{staticClass:"position-relative"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#sleeps-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.booking.apartment.guests)+" Guests")])])])]),t._v(" "),t._m(1),t._v(" "),t.booking.apartment.free_services.length?e("div",{staticClass:"d-inline-flex flex-wrap"},t._l(t.booking.free_services,(function(n){return e("div",{key:n.id,staticClass:"position-relative"},[e("span",{staticClass:"position-absolute svg-icon-section"}),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(n.name)+" included")])])})),0):t._e(),t._v(" "),t.booking.apartment.bedrooms.length?t._l(t.booking.apartment.bedrooms,(function(n){return e("div",{key:n.id,staticClass:"position-relative"},[e("span",{staticClass:"position-absolute svg-icon-section"}),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(n.parent.name))]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v("\n            "+t._s(n.pivot.bed_count)+" "+t._s(n.name))])])})):t._e(),t._v(" "),t.booking.apartment.extra_services.length?[e("div",{staticClass:"card-title"},[t._v("Extras")]),t._v(" "),e("p",[t._v("We offer")]),t._v(" "),e("div",{staticStyle:{height:"150px",overflow:"scroll"}},t._l(parseInt(t.booking_details.days),(function(n){return e("div",{key:n},t._l(t.booking.apartment.extra_services,(function(i){return e("div",{key:i.id,staticClass:"card-footer bg-transparent d-flex justify-content-between p-0 align-items-center"},[e("div",{staticClass:"checkbox mt-3"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-attribute",class:"extra_services_"+t.booking.apartment.id,attrs:{for:"box50",name:"extra_services_"+t.booking.apartment.id+"_"+i.id,type:"radio","data-quantity":parseInt(n),"data-price":i.pivot.price*parseInt(n),"data-apartment":t.booking.apartment.id},domProps:{value:i.id},on:{click:function(e){return t.addServices(e)}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v(t._s(i.name)+"\n                  ")])]),t._v(" "),e("p",[t._v(t._s(n)+" "+t._s(n>1?"nights":"night"))]),t._v(" "),e("p",[t._v("\n                  "+t._s(i.description)+"\n                ")])]),t._v(" "),e("span",{staticClass:"fs-32 mt-4 font-weight-bold-2 text-heading total-price"},[t._v("\n                "+t._s(t.property.currency)+t._s(t._f("priceFormat")(parseInt(n)*i.pivot.price)))])])})),0)})),0)]:t._e()],2)])}),[function(){var t=this._self._c;return t("div",{staticClass:"text-gold"},[t("i",{staticClass:"fas fa-info-circle mr-2 text-gold text-size-2"}),this._v("Instant\n        Confirmation\n      ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-relative"},[e("span",{staticClass:"position-absolute svg-icon-section"}),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v("Air condition")])])}],!1,null,null,null).exports;const g={props:{booking_details:Object}};const v=(0,l.Z)(g,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-background mt-1"},[e("div",{staticClass:"card-body"},[t.booking_details.loggedIn?t._e():e("div",[e("a",{staticClass:"auth-form text-white bold-3",attrs:{"data-toggle":"modal",href:"#","data-to":"login","data-target":"#loadModal"}},[t._v("Sign\n        in")]),t._v(" "),e("span",{staticClass:"text-white"},[t._v("to book with your saved details. It helps to track your record!\n      ")])]),t._v(" "),t.booking_details.loggedIn?e("div",{staticClass:"text-white"},[t._v("\n      You are signed in as "+t._s(t.booking_details.user.email)+"\n    ")]):t._e()])])}),[],!1,null,null,null).exports;const y={props:{property:Object}};const b=(0,l.Z)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white"},[e("div",{staticClass:"position-relative loaded-apartments"},[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-md-3 position-relative"},[e("div",[e("a",{attrs:{target:"_blank",href:t.property.link}},[e("img",{staticClass:"img img-fluid",attrs:{src:t.property.image_m}})])])]),t._v(" "),e("div",{staticClass:"col-md-9 position-relative col-12 pl-3"},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",[e("a",{staticClass:"bold-2",attrs:{href:t.property.link}},[t._v(t._s(t.property.name))]),t._v(" "),e("div",{staticClass:"d"},[e("small",[e("a",{staticClass:"p-0",attrs:{href:t.property.link}},[t._v(t._s(t.property.city))]),t._v(", "),e("a",{attrs:{href:""}},[t._v(t._s(t.property.state))])])]),t._v(" "),e("div",{staticClass:"mb-5"},[t.property.facilities.length?e("div",{staticClass:"facilities"},t._l(t.property.facilities,(function(n){return e("span",{key:n.id},[t._v(t._s(n.name)+".\n                ")])})),0):t._e(),t._v(" "),"single"==t.property.type?e("div",{staticClass:"guests-section"},[e("span",[t._v(t._s(t.property.guests)+" guests")]),t._v(" "),e("span",{attrs:{"aria-hidden":"true"}},[t._v("  ")]),t._v(" "),e("span",[t._v(t._s(t.property.rooms)+" bedroom")]),t._v(" "),e("span",{attrs:{"aria-hidden":"true"}},[t._v("  ")]),t._v(" "),e("span",[t._v(t._s(t.property.baths)+" baths")])]):t._e(),t._v(" "),t.property.is_refundable?e("div",[t._v("Fully Refundable")]):t._e(),t._v(" "),t.property.free_services.length?e("div",{staticClass:"d-inline-flex"},t._l(t.property.free_services,(function(n){return e("div",{key:n.id,staticClass:"refundable mr-2 text-gold"},[t._v("\n                  "+t._s(n.name)+"\n                ")])})),0):t._e()])])]),t._v(" "),t._m(0)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"d-flex position-absolute apartment-review justify-content-between mt-1 align-items-end"},[t("div",{staticClass:"reviews-section"}),this._v(" "),t("div",{staticClass:"text-right mr-2"},[t("div",{staticClass:"d-inline-flex"})])])}],!1,null,null,null).exports;function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function S(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const T={props:{extra_service:Object,property:Object},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,i.Se)({bookingTotal:"bookingTotal",bookingSubTotal:"bookingSubTotal",bookingPropertyServicesTotal:"bookingPropertyServicesTotal",bookingServicesTotal:"bookingServicesTotal"})),methods:{addServices:function(){for(var t=document.querySelectorAll("input.property-filter-attribute:checked"),e=[],n=[],i=0;i<t.length;i++)t[i].checked&&(e.push(t[i].dataset.price),n.push(t[i].value));var r=this.sum(e);this.$store.commit("setBookingPropertyServicesTotal",r),this.$emit("addExtraPropertyService",{extras:n})},sum:function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)}}};const w=(0,l.Z)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-transparent d-flex justify-content-between p-0 align-items-center"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"property-filter-attribute",attrs:{for:"box50",name:"prices[]",type:"checkbox","data-price":t.extra_service.pivot.price},domProps:{value:t.extra_service.id},on:{change:function(e){return t.addServices()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v(t._s(t.extra_service.name))])])]),t._v(" "),e("span",{staticClass:"fs-32 mt-4 bold-2 text-heading total-price"},[t._v(t._s(t.property.currency)+t._s(t._f("priceFormat")(t.extra_service.pivot.price))+"\n  ")])])}),[],!1,null,null,null).exports;const k={};const C=(0,l.Z)(k,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-8 offset-md-2"},[e("div",{staticClass:"error-page text-center"},[e("h1",{staticClass:"bold-3"},[t._v("Booking Confirmed")]),t._v(" "),e("p",{staticClass:"large text-black"},[t._v("\n        Thank you for choosing Central Avenue.\n\nYour reservation has been successfully received and confirmed. An invoice has been sent to your email with full details of your booking.\n      ")]),t._v(" "),e("p",{staticClass:"large"}),t._v(" "),e("a",{staticClass:"btn btn-primary btn-round",attrs:{href:"/"}},[t._v("Continue")])])])}],!1,null,null,null).exports;const x={props:["property"]};const A=(0,l.Z)(x,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports;function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==I(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===I(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const O={props:{property:Object,apartments:Array,booking_details:Object},data:function(){var t;return P(t={scriptLoaded:null,paymentIsComplete:!1,submiting:!1,coupon_code:null,codes:[{UK:"44"},{USA:"1"},{Nigeria:"234"},{Algeria:"213"},{Andorra:"376"},{Angola:"244"},{Anguilla:"1264"},{"Antigua & Barbuda":"1268"},{Argentina:"54"},{Armenia:"374"},{Aruba:"297"},{Australia:"61"},{Austria:"43"},{Azerbaijan:"994"},{Bahamas:"1242"},{Bahrain:"973"},{Bangladesh:"880"},{Barbados:"1246"},{Belarus:"375"},{Belgium:"32"},{Belize:"501"},{Benin:"229"},{Bermuda:"1441"},{Bhutan:"975"},{Bolivia:"591"},{"Bosnia Herzegovina":"387"},{Botswana:"267"},{Brazil:"55"},{Brunei:"673"},{Bulgaria:"359"},{"Burkina Faso":"226"},{Burundi:"257"},{Cambodia:"855"},{Cameroon:"237"},{Canada:"1"},{"Cape Verde Islands":"238"},{"Cayman Islands":"1345"},{"Central African Republic":"236"},{Chile:"56"},{China:"86"},{Colombia:"57"},{Comoros:"269"},{Congo:"242"},{"Cook Islands":"682"},{"Costa Rica":"506"},{Croatia:"385"},{Cuba:"53"},{"Cyprus North":"90392"},{"Cyprus South":"357"},{"Czech Republic":"42"},{Denmark:"45"},{Djibouti:"253"},{Dominica:"1809"},{"Dominican Republic":"1809"},{Ecuador:"593"},{Egypt:"20"},{"El Salvador":"503"},{"Equatorial Guinea":"240"},{Eritrea:"291"},{Estonia:"372"},{Ethiopia:"251"},{"Falkland Islands":"500"},{"Faroe Islands":"298"},{Fiji:"679"},{Finland:"358"},{France:"33"},{"French Guiana":"594"},{"French Polynesia":"689"},{Gabon:"241"},{Gambia:"220"},{Georgia:"7880"},{Germany:"49"},{Ghana:"233"},{Gibraltar:"350"},{Greece:"30"},{Greenland:"299"},{Grenada:"1473"},{Guadeloupe:"590"},{Guam:"671"},{Guatemala:"502"},{Guinea:"224"},{"Guinea - Bissau":"245"},{Guyana:"592"},{Haiti:"509"},{Honduras:"504"},{"Hong Kong":"852"},{Hungary:"36"},{Iceland:"354"},{India:"91"},{Indonesia:"62"},{Iran:"98"},{Iraq:"964"},{Ireland:"353"},{Israel:"972"},{Italy:"39"},{Jamaica:"1876"},{Japan:"81"},{Jordan:"962"},{Kazakhstan:"7"},{Kenya:"254"},{Kiribati:"686"},{"Korea North":"850"},{"Korea South":"82"},{Kuwait:"965"},{Kyrgyzstan:"996"},{Laos:"856"},{Latvia:"371"},{Lebanon:"961"},{Lesotho:"266"},{Liberia:"231"},{Libya:"218"},{Liechtenstein:"417"},{Lithuania:"370"},{Luxembourg:"352"},{Macao:"853"},{Macedonia:"389"},{Madagascar:"261"},{Malawi:"265"},{Malaysia:"60"},{Maldives:"960"},{Mali:"223"},{Malta:"356"},{"Marshall Islands":"692"},{Martinique:"596"},{Mauritania:"222"},{Mayotte:"269"},{Mexico:"52"},{Micronesia:"691"},{Moldova:"373"},{Monaco:"377"},{Mongolia:"976"},{Montserrat:"1664"},{Morocco:"212"},{Mozambique:"258"},{Myanmar:"95"},{Namibia:"264"},{Nauru:"674"},{Nepal:"977"},{Netherlands:"31"},{"New Caledonia":"687"},{"New Zealand":"64"},{Nicaragua:"505"},{Niger:"227"},{Nigeria:"234"},{Niue:"683"},{"Norfolk Islands":"672"},{"Northern Marianas":"670"},{Norway:"47"},{Oman:"968"},{Palau:"680"},{Panama:"507"},{"Papua New Guinea":"675"},{Paraguay:"595"},{Peru:"51"},{Philippines:"63"},{Poland:"48"},{Portugal:"351"},{"Puerto Rico":"1787"},{Qatar:"974"},{Reunion:"262"},{Romania:"40"},{Russia:"7"},{Rwanda:"250"},{"San Marino":"378"},{"Sao Tome & Principe":"239"},{"Saudi Arabia":"966"},{Senegal:"221"},{Serbia:"381"},{Seychelles:"248"},{"Sierra Leone":"232"},{Singapore:"65"},{"Slovak Republic":"421"},{Slovenia:"386"},{"Solomon Islands":"677"},{Somalia:"252"},{"South Africa":"27"},{Spain:"34"},{"Sri Lanka":"94"},{"St. Helena":"290"},{"St. Kitts":"1869"},{"St. Lucia":"1758"},{Sudan:"249"},{Suriname:"597"},{Swaziland:"268"},{Sweden:"46"},{Switzerland:"41"},{Syria:"963"},{Taiwan:"886"},{Tajikstan:"7"},{Thailand:"66"},{Togo:"228"},{Tonga:"676"},{"Trinidad & Tobago":"1868"},{Tunisia:"216"},{Turkey:"90"},{Turkmenistan:"993"},{"Turks & Caicos Islands":"1649"},{Tuvalu:"688"},{Uganda:"256"},{Ukraine:"380"},{"United Arab Emirates":"971"},{Uruguay:"598"},{Uzbekistan:"7"},{Vanuatu:"678"},{"Vatican City":"379"},{Venezuela:"58"},{Vietnam:"84"},{"Virgin Islands - British":"1284"},{"Virgin Islands - US":"1340"},{"Wallis & Futuna":"681"},{Zambia:"260"},{Zimbabwe:"263"}],coupon:null,amount:this.booking_details.total,tracking_id:null,payment_method:null},"paymentIsComplete",null),P(t,"coupon_error",null),P(t,"payment_is_processing",null),P(t,"voucher",[]),P(t,"order_text","Book Now"),P(t,"error",null),P(t,"errorsBag",[]),P(t,"form",{first_name:null,last_name:null,email:null,code:"",phone_number:null,services:[],total:this.amount,booking_ids:this.booking_details.booking_ids,property_id:this.property.id,coupon:this.coupon_code,property_services:[]}),t},computed:L({},(0,i.Se)({user:"user",userType:"userType",bookings:"bookings",errors:"errors",bookingTotal:"bookingTotal",bookingSubTotal:"bookingSubTotal",bookingPropertyServicesTotal:"bookingPropertyServicesTotal",bookingServicesTotal:"bookingServicesTotal"})),created:function(){var t=this;this.scriptLoaded=new Promise((function(e){t.loadScript((function(){e()}))})),this.amount=this.booking_details.total,this.$store.commit("setBookings",this.apartments),this.$store.commit("setBookingTotal",this.booking_details.total),this.$store.commit("setBookingSubTotal",this.booking_details.total)},mounted:function(){var t=this;document.getElementById("full-bg").remove();var e={page_url:window.location.href,apartment_id:this.booking_details.apt_id,from:this.booking_details.from,to:this.booking_details.to};axios.post("/abandoned-cart",e).then((function(e){t.tracking_id=e.data.id})).catch((function(t){console.error("Error sending abandoned cart payload:",t)}))},components:{PriceDetails:c,Bookings:m,BookingProperty:b,BookingLogin:v,PropertyExtras:w,BookingComplete:C,Rules:A},methods:L(L({},(0,i.nv)({applyVoucher:"applyVoucher",validateForm:"validateForm",clearErrors:"clearErrors",checkInput:"checkInput"})),{},{formatError:function(t){return Array.isArray(t)?t[0]:t},removeError:function(t){var e=document.querySelectorAll(".required");void 0!==e&&this.clearErrors({context:this,input:e,e:t})},vInput:function(t){var e=document.querySelectorAll(".required");void 0!==e&&this.checkInput({context:this,email:this.form.email,input:e,e:t})},addExtraService:function(t){var e=t.extras;this.form.services=e},addExtraPropertyService:function(t){var e=t.extras;this.form.property_services=e},sum:function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)},loadScript:function(t){var e=document.createElement("script");e.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(e),e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()}},applyCoupon:function(){var t=this;if(!this.coupon)return this.coupon_error="Enter a coupon code",void setTimeout((function(){t.error=null}),2e3);this.coupon_code=this.coupon,this.coupon_error=null,this.submiting=!0,axios.post("/book/coupon",{coupon:this.coupon,total:this.bookingTotal,limit:this.booking_details.days}).then((function(e){t.submiting=!1,t.coupon="",t.voucher.push(e.data),t.amount=parseInt(e.data.sub_total),localStorage.clear(),context.payment_is_processing=!1,context.paymentIsComplete=!0})).catch((function(e){t.submiting=!1,t.coupon_error=e.response.data.error,e.response.status&&(t.submiting=!1)}))},scrollToPosition:function(t,e,n){var i=performance.now(),r=window.scrollX,s=window.scrollY;window.requestAnimationFrame((function a(o){var l=o-i;l>n&&(l=n);var c=l/n,u=r+(t-r)*c,d=s+(e-s)*c;window.scrollTo(u,d),l<n&&window.requestAnimationFrame(a)}))},makePayment:function(){var t=document.querySelectorAll(".required");if(this.validateForm({context:this,input:t}),0!==Object.keys(this.errors).length)return this.error="Please check for errors",this.scrollToPosition(200,200,1e3),!1;this.payment_is_processing=!0;var e=this;this.order_text="Booking...";var n={first_name:this.form.first_name,last_name:this.form.last_name,email:this.form.email,code:this.form.code,phone_number:this.form.phone_number,services:this.form.services,currency:this.booking_details.currency,length_of_stay:this.booking_details.days,total:e.voucher.length?e.voucher[0].sub_total:e.bookingPropertyServicesTotal+e.bookingServicesTotal+e.bookingTotal,booking_ids:e.booking_details.booking_ids,from:e.booking_details.from,to:e.booking_details.to,property_id:e.property.id,coupon:this.coupon_code,property_services:this.form.property_services,original_amount:e.bookingPropertyServicesTotal+e.bookingServicesTotal+e.bookingTotal,page_url:window.location.href,session_id:this.booking_details.sessionId,apartment_id:this.booking_details.apt_id};axios.post("/checkout",n).then((function(t){localStorage.clear(),e.payment_is_processing=!1,e.paymentIsComplete=!0})).catch((function(t){}))}})};const R=(0,l.Z)(O,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t.paymentIsComplete?e("div",{staticClass:"d-flex col-md-12 align-items-center mb-3"},[e("booking-complete")],1):t._e(),t._v(" "),t.paymentIsComplete?e("div",{staticClass:"col-md-12 align-items-center mb-3"},[e("price-details",{attrs:{voucher:t.voucher,bookings:t.bookings,property:t.property,booking_details:t.booking_details,amount:t.amount,sub_total:t.bookingSubTotal}})],1):t._e(),t._v(" "),t.paymentIsComplete?t._e():e("div",{staticClass:"col-md-7 mb-3"},[e("h3",{staticClass:"bold-3"},[t._v("Review and book")])]),t._v(" "),t.paymentIsComplete?t._e():e("div",{staticClass:"col-lg-7 col-md-7"},[e("form",{attrs:{action:"",method:"get"}},[e("div",{staticClass:"bg-white mt-1"},[e("h3",{staticClass:"card-title p-3 custom-border-bottom bold-3"},[t._v("Who's our guest?")]),t._v(" "),e("div",{staticClass:"card-body pt-0"},[e("form",{staticClass:"tw-form",attrs:{method:"POST",action:"/login"}},[e("div",{staticClass:"form-row mb-3"},[e("div",{staticClass:"col-6"},[e("label",{},[t._v("First name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"required",class:{"has-danger":t.errors.first_name},attrs:{id:"first_name",type:"text",name:"first_name"},domProps:{value:t.form.first_name},on:{input:[function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.first_name?e("span",[e("strong",{staticClass:"text-danger text-size-2"},[t._v(t._s(t.formatError(t.errors.first_name)))])]):t._e()]),t._v(" "),e("div",{staticClass:"col-6"},[e("label",{},[t._v("Last name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"required",class:{"has-danger":t.errors.last_name},attrs:{id:"last_name",type:"text",name:"last_name"},domProps:{value:t.form.last_name},on:{input:[function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.last_name?e("span",[e("strong",{staticClass:"text-danger text-size-2"},[t._v(t._s(t.formatError(t.errors.last_name)))])]):t._e()])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 col-4 tw-select"},[e("label",{},[t._v("--")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],staticClass:"required",class:{"has-danger":t.errors.code},attrs:{name:"phone_code",id:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"code",e.target.multiple?n:n[0])},function(e){return t.vInput(e)}]}},[e("option",{attrs:{value:""}},[t._v("Choose Code")]),t._v(" "),t._l(t.codes,(function(n,i){return t._l(n,(function(n,i){return e("option",{key:i,domProps:{value:n}},[t._v("\n                    "+t._s(i)+" (+"+t._s(n)+")\n                  ")])}))}))],2)]),t._v(" "),e("div",{staticClass:"col-md-4 col-8"},[e("label",{},[t._v("Phone number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone_number,expression:"form.phone_number"}],staticClass:"required",class:{"has-danger":t.errors.phone_number},attrs:{type:"text",name:"phone_number"},domProps:{value:t.form.phone_number},on:{input:[function(e){e.target.composing||t.$set(t.form,"phone_number",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.phone_number?e("span",[e("strong",{staticClass:"text-danger text-size-2"},[t._v(t._s(t.formatError(t.errors.phone_number)))])]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-5 col-12"},[e("label",{},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"required",class:{"has-danger":t.errors.email},attrs:{id:"email",type:"email",name:"email"},domProps:{value:t.form.email},on:{input:[function(e){e.target.composing||t.$set(t.form,"email",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.email?e("span",[e("strong",{staticClass:"text-danger text-size-2"},[t._v(t._s(t.formatError(t.errors.email)))])]):t._e()])])])])]),t._v(" "),t.property.extra_services.length?[e("div",{staticClass:"bg-white mt-3"},[e("h3",{staticClass:"card-title p-3 custom-border-bottom mb-0 bold-3"},[t._v("\n            You may be intrested in\n          ")]),t._v(" "),e("div",{staticClass:"card-body pt-0"},t._l(t.property.extra_services,(function(n){return e("property-extras",{key:n.id,attrs:{extra_service:n,property:t.property},on:{addExtraPropertyService:t.addExtraPropertyService}})})),1)])]:t._e(),t._v(" "),e("div",{staticClass:"d-block d-sm-none"},[e("price-details",{attrs:{bookings:t.bookings,property:t.property,booking_details:t.booking_details,amount:t.bookingTotal,sub_total:t.bookingSubTotal}})],1),t._v(" "),e("rules",{attrs:{property:t.property}}),t._v(" "),e("div",{staticClass:"bg-white mt-3"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body pt-0"},[e("price-details",{attrs:{voucher:t.voucher,bookings:t.bookings,property:t.property,booking_details:t.booking_details,amount:t.amount,sub_total:t.bookingSubTotal}}),t._v(" "),e("div",{staticClass:"primary-color p-3"},[e("p",{staticClass:"form-group mt-3"},[e("button",{staticClass:"ml-1 btn btn-primary btn-round btn-block auth-form-button",attrs:{type:"buttom","data-total":""},on:{click:function(e){return e.preventDefault(),t.makePayment()}}},[e("div",{staticClass:"auth-spinner d-none"},[t._v("\n                  spinner\n                ")]),t._v(" "),e("span",{staticClass:"lt bold-2 text-white"},[t._v(t._s(t.order_text))])])]),t._v(" "),e("div",{staticClass:"primary-color p-3"},[t._v("\n              By clicking on the button below, I acknowledge that I have read\n              and understand the rules and regulations of this property\n            ")])])],1)])],2)]),t._v(" "),t.paymentIsComplete?t._e():e("div",{staticClass:"col-md-5 d-none d-lg-block"},[e("price-details",{attrs:{voucher:t.voucher,bookings:t.bookings,property:t.property,booking_details:t.booking_details,amount:t.amount,sub_total:t.bookingSubTotal}})],1)])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-"},[e("div",{staticClass:"custom-border-bottom"},[e("div",{staticClass:"d-flex justify-content-between align-items-center p-2 px-3 pb-3"},[e("h3",{staticClass:"card-title payment mb-0 bold-3"},[t._v("\n                Review\n              ")]),t._v(" "),e("div",{staticClass:"payment-icons d-flex justify-content-center align-items-center"})])])])}],!1,null,null,null).exports},2420:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const i={data:function(){return{adults:0,children:0,totalPersons:0,showDropDown:!0,rooms:1}},methods:{addSubtract:function(t,e,n){"a"===n?this[e]++:this[e]--,t.stopPropagation()},dropDownToggle:function(){this.showDropDown=!this.showDropDown}}};var r=n(1900);const s={components:{Persons:(0,r.Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-btn btn-block pb-2 pt-2",attrs:{type:"button",id:"","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){return t.dropDownToggle()}}},[e("i",{staticClass:"fal fa-users"}),t._v(" "+t._s(t.adults+t.children)+" Guests -\n    "+t._s(t.rooms)+" Rooms\n  ")]),t._v(" "),e("div",{staticClass:"position-absolute p-dropdown-toggle z-index-1",class:{"d-none":t.showDropDown},attrs:{"aria-labelledby":""}},[e("div",{staticClass:"menu-dropdown p-3",attrs:{type:"button"}},[e("div",{staticClass:"counter pb-2 pt-2 border-bottom d-flex"},[t._m(0),t._v(" "),e("div",{staticClass:"d-flex flex-grow-1 align-items-center justify-content-end",attrs:{id:""}},[e("button",{staticClass:"mr-5",attrs:{type:"button",disabled:0==t.adults,"aria-label":"decrease value","aria-describedby":""},on:{click:function(e){return t.addSubtract("adults","s")}}},[t._m(1)]),t._v(" "),e("div",{staticClass:"mr-5"},[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.adults))])]),t._v(" "),e("button",{attrs:{type:"button"},on:{click:function(e){return t.addSubtract("adults","a")}}},[t._m(2)])])]),t._v(" "),e("div",{staticClass:"counter pt-2 pb-2 d-flex"},[t._m(3),t._v(" "),e("div",{staticClass:"d-flex flex-grow-1 align-items-center justify-content-end",attrs:{id:""}},[e("button",{staticClass:"mr-5",attrs:{type:"button",disabled:0==t.children,"aria-label":"decrease value","aria-describedby":""},on:{click:function(e){return t.addSubtract("children","s")}}},[t._m(4)]),t._v(" "),e("div",{staticClass:"mr-5"},[e("span",[t._v(t._s(t.children))])]),t._v(" "),e("button",{attrs:{type:"button"},on:{click:function(e){return t.addSubtract("children","a")}}},[t._m(5)])])]),t._v(" "),e("div",{staticClass:"counter pt-2 pb-2 d-flex"},[t._m(6),t._v(" "),e("div",{staticClass:"d-flex flex-grow-1 align-items-center justify-content-end",attrs:{id:""}},[e("button",{staticClass:"mr-5",attrs:{type:"button",disabled:1==t.rooms,"aria-label":"decrease value","aria-describedby":""},on:{click:function(e){return t.addSubtract(e,"rooms","s")}}},[t._m(7)]),t._v(" "),e("div",{staticClass:"mr-5"},[e("span",[t._v(t._s(t.rooms))])]),t._v(" "),e("button",{attrs:{type:"button"},on:{click:function(e){return t.addSubtract("rooms","a")}}},[t._m(8)])])])])]),t._v(" "),e("input",{attrs:{type:"hidden",name:"rooms"},domProps:{value:t.rooms}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"no_of_children"},domProps:{value:t.children}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"no_of_adults"},domProps:{value:t.adults}})])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-left"},[e("div",{attrs:{id:""}},[t._v("Adults")]),t._v(" "),e("div",{staticClass:"text-muted",attrs:{id:""}},[t._v("Ages 13 or above")])])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"fas fa-minus"})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"far fa-plus"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-left"},[e("div",{attrs:{id:""}},[t._v("Children")]),t._v(" "),e("div",{staticClass:"text-muted",attrs:{id:""}},[t._v("Ages 0 to 12")])])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"fas fa-minus"})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"far fa-plus"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-left"},[e("div",{attrs:{id:""}},[t._v("Rooms")]),t._v(" "),e("div",{staticClass:"text-muted",attrs:{id:""}})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"fas fa-minus"})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"far fa-plus"})])}],!1,null,null,null).exports},data:function(){return{adults:0,children:0,totalPersons:0,showDropDown:!0,rooms:1}},methods:{addSubtract:function(t,e){"a"===e?this[t]++:this[t]--},dropDownToggle:function(){this.showDropDown=!this.showDropDown}}};const a=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"bg-single-image-03 pt-9 step-one",attrs:{"data-animated-id":"5"}},[e("div",{staticClass:"container"},[e("h2",{staticClass:"text-dark text-center mxw-751 px-md-8 lh-163"},[t._v("\n        We have the most listings and constant updates. So youll never miss\n        out.\n      ")]),t._v(" "),e("span",{staticClass:"heading-divider mx-auto"}),t._v(" "),e("div",{staticClass:"row mt-7 mb-6 mb-lg-11"},[e("div",{staticClass:"col-lg-6 mb-6 mb-lg-0"},[e("div",{staticClass:"media rounded-lg bg-white border border-hover shadow-xs-2 shadow-hover-lg-1 px-7 py-8 hover-change-image flex-column flex-sm-row h-100 fadeInUp animated",attrs:{"data-animate":"fadeInUp"}},[e("img",{staticClass:"mb-6 mb-sm-0 mr-sm-6",attrs:{src:"/img/group-16.png",alt:"Buy a new home"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("a",{staticClass:"text-decoration-none d-flex align-items-center",attrs:{href:"#"}},[e("h4",{staticClass:"fs-20 lh-1625 text-secondary mb-1"},[t._v("\n                  Single Apartment\n                ")]),t._v(" "),e("div",{staticClass:"position-relative d-flex align-items-center ml-2"},[t._m(0),t._v(" "),e("span",{staticClass:"text-primary fs-42 lh-1 hover-image d-flex align-items-center"},[e("svg",{staticClass:"icon icon-long-arrow"},[e("use",{attrs:{"xlink:href":"#icon-long-arrow"}})])])])]),t._v(" "),e("p",{staticClass:"mb-0"},[t._v("\n                Click here if you\n              ")])])])]),t._v(" "),e("div",{staticClass:"col-lg-6 mb-6 mb-lg-0"},[e("div",{staticClass:"media rounded-lg bg-white border border-hover shadow-xs-2 shadow-hover-lg-1 px-7 py-8 hover-change-image flex-column flex-sm-row h-100 fadeInUp animated",attrs:{"data-animate":"fadeInUp"}},[e("img",{staticClass:"mb-6 mb-sm-0 mr-sm-6",attrs:{src:"/img/group-17.png",alt:"Sell a home"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("a",{staticClass:"text-decoration-none d-flex align-items-center",attrs:{href:"#"}},[e("h4",{staticClass:"fs-20 lh-1625 text-secondary mb-1"},[t._v("\n                  Multiple Apartments\n                ")]),t._v(" "),e("div",{staticClass:"position-relative d-flex align-items-center ml-2"},[t._m(1),t._v(" "),e("span",{staticClass:"text-primary fs-42 lh-1 hover-image d-flex align-items-center"},[e("svg",{staticClass:"icon icon-long-arrow"},[e("use",{attrs:{"xlink:href":"#icon-long-arrow"}})])])])]),t._v(" "),e("p",{staticClass:"mb-0"})])])]),t._v(" "),t._m(2)])])]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)])}),[function(){var t=this._self._c;return t("span",{staticClass:"image text-primary position-absolute pos-fixed-left-center fs-16"},[t("i",{staticClass:"fal fa-long-arrow-right"})])},function(){var t=this._self._c;return t("span",{staticClass:"image text-primary position-absolute pos-fixed-left-center fs-16"},[t("i",{staticClass:"fal fa-long-arrow-right"})])},function(){var t=this._self._c;return t("div",{staticClass:"col-md-12 text-right mt-5"},[t("a",{staticClass:"btn btn-lg text-secondary btn-accent",attrs:{href:""}},[this._v("Next\n            "),t("i",{staticClass:"far fa-long-arrow-right ml-1"})])])},function(){var t=this,e=t._self._c;return e("section",[e("h2",[t._v("Title")]),t._v(" "),e("form",{staticClass:"form-row",attrs:{action:""}},[e("div",{staticClass:"col-md-7"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Title hhh")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"email",id:"",placeholder:""}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Description")]),t._v(" "),e("textarea",{staticClass:"form-control",attrs:{id:"",rows:"3"}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-4"},[e("label",{attrs:{for:"inputState"}},[t._v("State")]),t._v(" "),e("select",{staticClass:"form-control",attrs:{id:"inputState"}},[e("option",{attrs:{selected:""}},[t._v("Choose...")]),t._v(" "),e("option",[t._v("...")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",{attrs:{for:"inputState"}},[t._v("City")]),t._v(" "),e("select",{staticClass:"form-control",attrs:{id:"inputState"}},[e("option",{attrs:{selected:""}},[t._v("Choose...")]),t._v(" "),e("option",[t._v("...")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",{attrs:{for:"inputState"}},[t._v("Town")]),t._v(" "),e("select",{staticClass:"form-control",attrs:{id:"inputState"}},[e("option",{attrs:{selected:""}},[t._v("Choose...")]),t._v(" "),e("option",[t._v("...")])])])])]),t._v(" "),e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"j-drop",attrs:{id:"j-drop"}},[e("input",{staticClass:"upload_input",attrs:{accept:"image/*","data-msg":"Upload  your image",type:"file",name:"img"}}),t._v(" "),e("div",{staticClass:"upload-text"},[e("a",{attrs:{href:"#"}},[e("img",{attrs:{src:"/backend/img/upload_icon.png"}}),t._v(" "),e("b",[t._v("Click to upload image")])])]),t._v(" "),e("div",{staticClass:"j-details",attrs:{id:"j-details"}},[e("div",{staticClass:"j-complete",attrs:{id:""}},[e("div",{staticClass:"j-preview"},[e("div",{staticClass:"remove_image remove-image",attrs:{id:"remove_image"}},[e("a",{staticClass:"remove-image",attrs:{"data-mode":"edit","data-randid":"","data-id":"","data-url":"",href:"#"}},[t._v("Remove")])]),t._v(" "),e("input",{staticClass:"file_upload_input stored_image_url",attrs:{type:"hidden",value:"",name:"image"}})])])])]),t._v(" "),e("div",{staticClass:"information"},[e("div",{staticClass:"information-box border"})])]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-6"},[e("a",{staticClass:"btn btn-lg text-secondary btn-accent",attrs:{href:""}},[e("i",{staticClass:"far fa-long-arrow-left ml-1"}),t._v("\n\n              Prev\n            ")])]),t._v(" "),e("div",{staticClass:"col-md-6 text-right"},[e("button",{staticClass:"btn btn-lg text-secondary btn-accent",attrs:{type:"submit"}},[t._v("\n              Next\n              "),e("i",{staticClass:"far fa-long-arrow-right ml-1"})])])])])])])},function(){var t=this,e=t._self._c;return e("section",[e("h2",[t._v("Common Facilities")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6 col-lg-3"},[e("ul",{staticClass:"list-group list-group-no-border"},[e("li",{staticClass:"list-group-item px-0 pt-0 pb-2"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"features[]",id:"attic"}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"attic"}},[t._v("Attic")])])]),t._v(" "),e("li",{staticClass:"list-group-item px-0 pt-0 pb-2"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"features[]",id:"basketball-court"}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"basketball-court"}},[t._v("Basketball court")])])])])]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-6"},[e("a",{staticClass:"btn btn-lg text-secondary btn-accent",attrs:{href:""}},[e("i",{staticClass:"far fa-long-arrow-left ml-1"}),t._v("\n\n              Prev\n            ")])]),t._v(" "),e("div",{staticClass:"col-md-6 text-right"},[e("button",{staticClass:"btn btn-lg text-secondary btn-accent",attrs:{type:"submit"}},[t._v("\n              Next\n              "),e("i",{staticClass:"far fa-long-arrow-right ml-1"})])])])])])])},function(){var t=this,e=t._self._c;return e("form",{attrs:{action:""}},[e("section",[e("h2",[t._v("Title")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Title hhh")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"email",id:"",placeholder:""}})])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputState"}},[t._v("Bedrooms")]),t._v(" "),e("select",{staticClass:"form-control",attrs:{id:"inputState"}},[e("option",{attrs:{selected:""}},[t._v("Choose...")]),t._v(" "),e("option",[t._v("...")])])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputState"}},[t._v("Adults")]),t._v(" "),e("select",{staticClass:"form-control",attrs:{id:"inputState"}},[e("option",{attrs:{selected:""}},[t._v("Choose...")]),t._v(" "),e("option",[t._v("...")])])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputState"}},[t._v("Children")]),t._v(" "),e("select",{staticClass:"form-control",attrs:{id:"inputState"}},[e("option",{attrs:{selected:""}},[t._v("Choose...")]),t._v(" "),e("option",[t._v("...")])])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Price")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"email",id:"",placeholder:""}})])]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("h4",[t._v("Bedroom")]),t._v(" "),e("div",{staticClass:"d-flex flex-grow-1"},[e("div",{staticClass:"custom-control custom-radio mr-3"},[e("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"customControlValidation2",name:"radio-stacked",required:""}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customControlValidation2"}},[t._v("1 queen bed")])]),t._v(" "),e("div",{staticClass:"custom-control custom-radio mb-3"},[e("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"customControlValidation3",name:"radio-stacked",required:""}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customControlValidation3"}},[t._v("1 double bed")]),t._v(" "),e("div",{staticClass:"invalid-feedback"},[t._v("\n                More example invalid feedback text\n              ")])])])]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"j-drop",attrs:{id:"j-drop"}},[e("input",{staticClass:"upload_input",attrs:{accept:"image/*","data-msg":"Upload  your image",type:"file",name:"img"}}),t._v(" "),e("div",{staticClass:"upload-text"},[e("a",{attrs:{href:"#"}},[e("img",{attrs:{src:"/backend/img/upload_icon.png"}}),t._v(" "),e("b",[t._v("Click to upload image")])])]),t._v(" "),e("div",{staticClass:"j-details",attrs:{id:"j-details"}},[e("div",{staticClass:"j-complete",attrs:{id:""}},[e("div",{staticClass:"j-preview"},[e("div",{staticClass:"remove_image remove-image",attrs:{id:"remove_image"}},[e("a",{staticClass:"remove-image",attrs:{"data-mode":"edit","data-randid":"","data-id":"","data-url":"",href:"#"}},[t._v("Remove")])]),t._v(" "),e("input",{staticClass:"file_upload_input stored_image_url",attrs:{type:"hidden",value:"",name:"image"}})])])])])])]),t._v(" "),e("h2",[t._v("Title")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6 col-lg-3"},[e("ul",{staticClass:"list-group list-group-no-border"},[e("li",{staticClass:"list-group-item px-0 pt-0 pb-2"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"features[]",id:"attic"}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"attic"}},[t._v("Attic")])])]),t._v(" "),e("li",{staticClass:"list-group-item px-0 pt-0 pb-2"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"features[]",id:"basketball-court"}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"basketball-court"}},[t._v("Basketball court")])])])])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-6"},[e("a",{staticClass:"btn btn-lg text-secondary btn-accent",attrs:{href:""}},[e("i",{staticClass:"far fa-long-arrow-left ml-1"}),t._v("\n\n            Prev\n          ")])]),t._v(" "),e("div",{staticClass:"col-md-6 text-right"},[e("button",{staticClass:"btn btn-lg text-secondary btn-accent",attrs:{type:"submit"}},[t._v("\n            Next\n            "),e("i",{staticClass:"far fa-long-arrow-right ml-1"})])])])])])}],!1,null,null,null).exports},3526:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(3041);const r={props:{property:Object,room:Object,propertyLoading:Boolean,stays:Array,qty:Boolean,amenities:Array,classType:Array,showReserve:Boolean,isGallery:Number,isIndex:Boolean},data:function(){return{total:0,aps:0,totalRooms:0,apartment_bed_rooms:0,attrPrice:0,checkedAttr:[],guests:0,sub_total:0,lunchModal:!1,showSlider:!1,propertyQty:[],isPlaying:!1,src:"",apartment_facilities:[],settings:{dots:!0,dotsClass:"slick-dots custom-dot-class",edgeFriction:.35,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1},form:{room_quantity:[],selectedRooms:[]}}},mounted:function(){var t=this,e=this.$refs.videoPlayer;console.log(this.room),this.src="https://avevuemontaigne-ng.lon1.cdn.digitaloceanspaces.com/"+this.room.video.encoded_path,jQuery((function(){$(".room-carousel").owlCarousel({margin:10,nav:!0,dots:!1,navText:['<div class="nav-btn prev-slide d-flex justify-content-center align-items-center mr-1"><svg class="uitk-icon uitk-icon-leading uitk-icon-directional" aria-label="Show previous image" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Show previous image</title><path d="M14.862 16.448 10.414 12l4.446-4.447a.5.5 0 0 0-.007-.7l-.707-.707a.5.5 0 0 0-.707 0l-5.146 5.147a1 1 0 0 0 0 1.414l5.146 5.146a.5.5 0 0 0 .707 0l.707-.707a.5.5 0 0 0 .009-.698z"></path></svg></div>','<div class="nav-btn next-slide d-flex justify-content-center align-items-center ml-1"><svg class="uitk-icon uitk-icon-leading uitk-icon-directional" aria-label="Show next image" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Show next image</title><path d="M10.56 6.146a.5.5 0 0 0-.706 0l-.708.708a.5.5 0 0 0 0 .707L13.586 12l-4.44 4.44a.5.5 0 0 0 0 .706l.708.708a.5.5 0 0 0 .707 0l5.146-5.147a1 1 0 0 0 0-1.414l-5.146-5.147z"></path></svg></div>'],responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})})),e.addEventListener("pause",(function(){return t.handleVideoStop()})),e.addEventListener("ended",(function(){return t.handleVideoStop()})),$(".owl-carousel").on("changed.owl.carousel",(function(){if(t.$refs.videoPlayer){t.$refs.videoPlayer.pause(),t.isPlaying=!1,console.log(t.isPlaying);var e=document.querySelector(".aprts .owl-dots");console.log(e),e&&e.classList.remove("video-is-playing")}}))},components:{},computed:{},methods:{handleVideoStop:function(){this.isPlaying=!1;var t=document.querySelector(".aprts .owl-dots");t&&t.classList.remove("video-is-playing")},initVideo:function(){this.isPlaying=!0;var t=this.$refs.videoPlayer,e=document.querySelector(".aprts .owl-dots");if(console.log(e),e&&e.classList.add("video-is-playing"),i.ZP.isSupported()){var n=new i.ZP({capLevelToPlayerSize:!0,autoStartLoad:!0});n.loadSource(this.src),n.attachMedia(t),n.on(i.ZP.Events.MANIFEST_PARSED,(function(){t.play()}))}else t.canPlayType("application/vnd.apple.mpegurl")&&(t.src=this.src,t.addEventListener("loadedmetadata",(function(){t.play()})))},sum:function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)},showRoom:function(t){this.$emit("showRoom",t)},showImages:function(t){this.$emit("showImages",t)},reserve:function(t){this.$emit("reserve",{room:t})},getApartmentQuantity:function(t,e){var n=this;this.guests=e.max_adults+e.max_children,this.apartment_bed_rooms=e.no_of_rooms;t.target.value;this.totalRooms=0;var i=document.querySelectorAll(".room-q"),r=[],s=[];i.forEach((function(t,e){""!=t.value&&(r.push(t.value),s.push(t.selectedOptions[0].dataset.price||0))})),this.aps=this.sum(r),this.total=this.sum(s)*parseInt(this.stays[0]),-1==this.form.selectedRooms.findIndex((function(t){return t.id==e.id}))?this.form.selectedRooms.push(e):this.form.selectedRooms.forEach((function(t,i){t.id==e.id&&n.form.selectedRooms.splice(i,1)}));var a=this.aps,o=this.total;this.$emit("qtyChange",{total:o,aps:a})}}};var s=n(3379),a=n.n(s),o=n(6385),l={insert:"head",singleton:!1};a()(o.Z,l);o.Z.locals;const c=(0,n(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-4 mb-1 mt-1 pl-1 pb-1 px-0",class:t.classType},[e("div",{staticClass:"card shadow-none property-card mt-0 rounded border-1"},[e("div",{staticClass:"position-relative"},[e("div",{staticClass:"col-md-12 small aprts position-relative p-0",attrs:{itemscope:"",itemtype:"https://schema.org/ImageGallery"}},[e("div",{staticClass:"owl-carousel owl-theme"},[t.room.image?e("div",{staticClass:"item rounded-top",class:{index:1==t.isIndex},attrs:{itemprop:"photo",itemscope:"",itemtype:"https://schema.org/ImageObject"}},[e("img",{staticClass:"img cursor-pointer img-fluid",attrs:{alt:t.room.name,title:"book "+t.room.name+"  Central Avenue",src:t.room.image,itemprop:"contentUrl"}}),t._v(" "),e("div",{staticClass:"images-count px-2 py-1"},[e("div",{staticClass:"price-box",attrs:{itemprop:"offers",itemscope:"",itemtype:"https://schema.org/Offer"}},[e("div",{staticClass:"d-inline-flex"},[t.room.discounted_price?[e("div",{staticClass:"sale-price mr-3 text-white",attrs:{itemprop:"price"}},[t._v("\n                  "+t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.converted_price))+"\n                ")]),t._v(" "),e("div",{staticClass:"price bold-3 text-white",attrs:{itemprop:"price"}},[t._v("\n                  "+t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.discounted_price))+"\n                ")])]:[e("div",{staticClass:"price bold-3 mt-2 text-white",attrs:{itemprop:"price"}},[t._v("\n                  "+t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.converted_price))+"\n                ")])]],2),t._v(" "),e("div",{staticClass:"text-size-2",attrs:{itemprop:"priceCurrency"}},[t._v("\n              "+t._s(t.room.price_mode)+"\n            ")])])])]):t._e(),t._v(" "),t._l(t.room.image_links,(function(n,i){return e("div",{key:i,staticClass:"item rounded-top",attrs:{itemprop:"photo",itemscope:"",itemtype:"https://schema.org/ImageObject"}},[e("img",{staticClass:"img cursor-pointer img-fluid",attrs:{alt:t.room.name,title:"book "+t.room.name+"  Central Avenue",src:n.image,itemprop:"contentUrl"},on:{click:function(e){return e.preventDefault(),t.showRoom(t.room)}}}),t._v(" "),e("div",{staticClass:"images-count px-2 py-1"},[e("div",{staticClass:"price-box",attrs:{itemprop:"offers",itemscope:"",itemtype:"https://schema.org/Offer"}},[e("div",{staticClass:"d-inline-flex"},[t.room.discounted_price?[e("div",{staticClass:"sale-price mr-3 text-white",attrs:{itemprop:"price"}},[t._v("\n                  "+t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.converted_price))+"\n                ")]),t._v(" "),e("div",{staticClass:"price bold-3 text-white",attrs:{itemprop:"price"}},[t._v("\n                  "+t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.discounted_price))+"\n                ")])]:[e("div",{staticClass:"price bold-3 mt-2 text-white",attrs:{itemprop:"price"}},[t._v("\n                  "+t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.converted_price))+"\n                ")])]],2),t._v(" "),e("div",{staticClass:"text-size-2 text-white",attrs:{itemprop:"priceCurrency"}},[t._v("\n              "+t._s(t.room.price_mode)+"\n            ")])])])])}))],2)])]),t._v(" "),e("div",{staticClass:"card-body shadow-none px-2 py-0"},[e("h5",{staticClass:"card-title bold-2"},[e("a",{attrs:{href:"/apartment/".concat(t.room.slug,"/")}},[t._v(t._s(t.room.name))])]),t._v(" "),e("p",{staticClass:"location"},[e("i",{staticClass:"fas fa-map-marker-alt mr-1"}),t._v(" "),e("span",{staticClass:"text-gold"},[t._v(" "+t._s(t.room.property.city))])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-center mb-3 text-muted meta"},[e("div",{staticClass:"d-flex align-items-center text-muted meta"},[e("span",{staticClass:"mr-3"},[e("svg",{staticClass:"icon mr-1",attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M10.99 8A3 3 0 115 8a3 3 0 016 0zm8 0A3 3 0 1113 8a3 3 0 016 0zM8 13c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm7.03.05c.35-.03.68-.05.97-.05 2.33 0 7 1.17 7 3.5V19h-6v-2.5c0-1.48-.81-2.61-1.97-3.45z","clip-rule":"evenodd"}})]),t._v(" "+t._s(t.room.guests)+"\n        ")]),t._v(" "),e("span",{staticClass:"mr-3"},[e("svg",{staticClass:"icon mr-1",attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M9.35 3.9C6.9 3.9 5 5.9 5 8.36V22H3V8.36A6.36 6.36 0 019.35 2c3.5 0 6.15 2.85 6.15 6.36V9.8h2c1.13 0 2.14.66 2.6 1.69l.9 1.99H8.1l.9-2a2.85 2.85 0 012.6-1.68h2V8.36c0-2.46-1.79-4.46-4.25-4.46z","clip-rule":"evenodd"}}),t._v(" "),e("path",{attrs:{d:"M12.5 16.5a1 1 0 11-2 0 1 1 0 012 0zm6 0a1 1 0 11-2 0 1 1 0 012 0zm-8.5 4a1 1 0 11-2 0 1 1 0 012 0zm5.5 0a1 1 0 11-2 0 1 1 0 012 0zm5.5 0a1 1 0 11-2 0 1 1 0 012 0z"}})]),t._v(" "+t._s(t.room.bath)+" 3\n        ")]),t._v(" "),e("span",[e("svg",{staticClass:"icon mr-1",attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{"data-v-38cd3ee8":"","fill-rule":"evenodd",d:"M11 7h8a4 4 0 014 4v9h-2v-3H3v3H1V5h2v9h8V7zm-1 3a3 3 0 11-6 0 3 3 0 016 0z","clip-rule":"evenodd"}})]),t._v(t._s(t.room.bed)+" 3\n        ")])]),t._v(" "),t.showReserve?e("a",{staticClass:"btn btn-primary rounded-pill rounded",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.reserve(t.room)}}},[t._v("\n        Reserve\n      ")]):t._e()])])])])}),[],!1,null,"22f1265d",null).exports},8224:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var i=n(629),r=n(6945),s=n.n(r),a=n(9711),o=n(7190);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const h={props:["reload"],data:function(){return{guests:0,form:{room_quantity:[],selectedRooms:[],location:this.$root.request.going_to}}},components:{Pickr:s(),Guests:a.Z,DateRange:o.Z},computed:u({},(0,i.Se)({locationSearch:"locationSearch"})),mounted:function(){},methods:u(u({},(0,i.nv)({getProperties:"getProperties"})),{},{build:function(){var t=[];document.querySelectorAll(".location-search").forEach((function(e,n){t.push(e.name+"="+e.value)})),window.history.pushState("","Title","/property/search");window.history.pushState({},"","?"+t.join("&"));this.$store.commit("setLocationSearch",t)},search:function(){this.build(),this.getProperties(window.location)}})};const f=(0,n(1900).Z)(h,(function(){var t=this,e=t._self._c;return e("form",{staticClass:"form-row",attrs:{method:"GET",action:"/property/search"}},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",{staticClass:"form-group ml-1 mr-sm-1 form-border cursor-pointer search col-md-4 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2 ml-4",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in - Check-out")]),t._v(" "),e("date-range")],1),t._v(" "),e("div",{staticClass:"w-100 ml-2 col-md-4 cursor-pointer p-0 px-sm-0 px-md-1",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"w-25 ml-2 col- check-availablility mb-sm-3 mb-md-0 mt-sm-2 mt-md-0"},[e("button",{staticClass:"btn btn-primary btn-block m-auto rounded bold check-availablility-button",attrs:{type:" button"},on:{click:function(e){return e.preventDefault(),t.search()}}},[e("i",{staticClass:"fas fa-search"})])])])])}),[],!1,null,null,null).exports},1747:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=(0,n(1900).Z)({},undefined,undefined,!1,null,null,null).exports},7190:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(6945);const r={props:{isDateNeedsToToOpen:Boolean,placeholder:String,check_in_date:Number,checkout_date:String},data:function(){return{guests:0,check_in_checkout:null,config:{wrap:!0,altFormat:"M j, Y",altInput:!0,minDate:"today",dateFormat:"Y-m-d",showMonths:1,disableMobile:!0}}},mounted:function(){var t=new URLSearchParams(window.location.search),e=t.get("checkin"),n=t.get("checkout"),i=function(t){return!isNaN(Date.parse(t))};1===this.check_in_date?this.checkForDate()&&void 0!==this.checkForDate().checkin?this.check_in_checkout=this.checkForDate().checkin:e&&i(e)?this.check_in_checkout=e:this.check_in_checkout=null:this.checkForDate()&&void 0!==this.checkForDate().checkout?this.check_in_checkout=this.checkForDate().checkout:n&&i(n)?this.check_in_checkout=n:this.check_in_checkout=null},components:{Pickr:n.n(i)()},watch:{isDateNeedsToToOpen:{handler:function(t,e){t&&this.$refs.datePicker.fp.open()}}},methods:{getMinDate:function(){if((new Date).getHours()<9){var t=new Date;return t.setDate(t.getDate()-1),t}return"today"},updateMinDate:function(){if(this.$refs.datePicker&&this.$refs.datePicker.flatpickr){var t=this.getMinDate();this.$refs.datePicker.flatpickr.set("minDate",t)}},handleDateChange:function(t){this.$emit("dateSelected",this.check_in_checkout)},dateSelected:function(){this.$emit("dateSelected",this.check_in_checkout)},isCheckinEqualsToCheckout:function(t,e){return(t=new Date(t))===(e=new Date(e))},checkForDate:function(t){var e=localStorage.getItem("searchParams");if(null!==e){var n=JSON.parse(e);return(new Date).getTime()<n.expiry?n:(localStorage.removeItem("searchParams"),null)}return null}}};const s=(0,n(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group input-group-lg"},[e("pickr",{ref:"datePicker",staticClass:"form-control date-range cursor-pointer location-search",attrs:{id:t.placeholder,config:t.config,placeholder:t.placeholder,name:"check_in_checkout"},on:{"on-open":t.updateMinDate,"on-change":function(e){return t.handleDateChange(t.placeholder)}},model:{value:t.check_in_checkout,callback:function(e){t.check_in_checkout=e},expression:"check_in_checkout"}})],1)}),[],!1,null,null,null).exports},4656:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const l={props:{attrs:Object,locations:Array,category:Object},data:function(){return{isOpen:!1,filters:[],categories:[],qS:[],filter:!0,t:null}},computed:a({},(0,i.Se)({attributes:"attributes",propertyLoading:"propertyLoading",locationSearch:"locationSearch"})),created:function(){this.$store.commit("setAttributes",this.attrs)},methods:a(a({},(0,i.nv)({getProperties:"getProperties",lSearch:"lSearch"})),{},{activateFilter:function(){for(var t=document.querySelectorAll("input.filter-property:checked"),e=[],n=0;n<t.length;n++);for(n=0;n<t.length;n++)t[n].checked&&e.push(t[n].name+"="+t[n].value);"/property/search"==new URL(window.location).pathname&&this.lSearch(),this.locationSearch.length&&this.locationSearch.forEach((function(t){e.push(t)}));var i=document.querySelector("#sort_by");i&&i.value&&e.push(i.name+"="+i.value),this.buildUrl(e),this.filterProperty(window.location)},buildUrl:function(t){window.history.pushState({},"","?"+t.join("&"))},filterProperty:function(t){var e=(new Date).getTime();this.getProperties(t+"&timestamp="+e)}})};const c=(0,n(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("form",{attrs:{id:"collections",action:""}},[e("div",{staticClass:"text-left pl-3"},[e("div",{staticClass:"text-capitalize pb-2 pt-3 bold"},[t._v("Your Budget")]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"prices[]",value:"0-50000",type:"checkbox"},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v("less than - 50k")])])])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"prices[]",value:"50000-150000",type:"checkbox"},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v("50k - 150k")])])])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"prices[]",value:"150000-250000",type:"checkbox"},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v("150k - 250k")])])])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"prices[]",value:"250000-10000000",type:"checkbox"},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v("250k - 10m")])])])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"prices[]",value:"10000000-50000000",type:"checkbox"},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v("10m - 50m")])])])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"prices[]",value:"50000000-250000000",type:"checkbox"},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v("50m - 250m")])])])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"prices[]",value:"250000000-10000000000",type:"checkbox"},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v("Above - 250m")])])])]),t._v(" "),t.attributes?t._l(t.attributes,(function(n,i){return e("div",{key:i},[e("div",{staticClass:"text-capitalize pb-2 bold"},[t._v("\n          "+t._s(i)+"\n        ")]),t._v(" "),t._l(n,(function(n,r){return e("div",{key:n.id,staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:i+"[]",type:"checkbox"},domProps:{value:n.slug},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v(t._s(n.name))])])])])}))],2)})):t._e(),t._v(" "),t.locations.length?[e("div",{staticClass:"text-capitalize pb-2 bold"},[t._v("Locations")]),t._v(" "),t._l(t.locations,(function(n){return e("div",{key:n.id,staticClass:"mb-2"},[e("div",{staticClass:"checkbox"},[e("label",{staticClass:"checkbox-label",attrs:{id:"box50"}},[e("input",{staticClass:"filter-property",attrs:{for:"box50",name:"locations[]",type:"checkbox"},domProps:{value:n.slug},on:{change:function(e){return t.activateFilter()}}}),t._v(" "),e("span",{staticClass:"checkbox-custom rectangular"}),t._v(" "),e("span",{staticClass:"checkbox-label-text mt-1"},[t._v(t._s(n.name))])])])])}))]:t._e()],2)])}),[],!1,null,null,null).exports},9711:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const i={data:function(){return{guests:0,rooms:2,children:0,persons:1,sParams:null}},mounted:function(){this.romms=this.checkForGuests()?this.checkForGuests().rooms:2,this.persons=this.checkForGuests()?this.checkForGuests().persons:1},methods:{increment:function(t){"rooms"===t&&this.rooms<3&&this.rooms++,"persons"===t&&this.persons<7&&this.persons++,this.storeData()},decrement:function(t){"rooms"===t&&this.rooms>2&&this.rooms--,"persons"===t&&this.persons>1&&this.persons--,this.storeData(),console.log(localStorage.getItem("sParams"))},storeData:function(){var t=(new Date).getTime(),e={persons:this.persons,rooms:this.rooms,expiry:t+36e5};localStorage.setItem("sParams",JSON.stringify(e))},retrieveData:function(){var t=localStorage.getItem("sParams");t?(t=JSON.parse(t),(new Date).getTime()<t.expiry?this.storedData=t.value:(localStorage.removeItem("sParams"),this.storedData=null)):this.storedData=null},checkForGuests:function(t){var e=localStorage.getItem("searchParams");if(null!==e){var n=JSON.parse(e);return(new Date).getTime()<n.expiry?n:(localStorage.removeItem("searchParams"),null)}return null}}};const r=(0,n(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"people-number d-flex form-border d-flex"},[e("div",{staticClass:"ml-2"},[e("label",{staticClass:"bmd-label-static pl-1"},[t._v("Rooms and Guests")]),t._v(" "),e("div",{staticClass:"people-dropdown-info ml-1 pb-1"},[e("span",{staticClass:"adults"},[t._v(t._s(t.persons))]),t._v(" Person(s),\n        "),e("span",{staticClass:"rooms"},[t._v(t._s(t.rooms))]),t._v(" rooms\n      ")])])]),t._v(" "),e("div",{staticClass:"people-dropdown d-none pl-4 pt-3 pb-4 pr-4 position-absolute guest-dropdown border",staticStyle:{"min-width":"100%","z-index":"2",background:"#ffffff",opacity:"0"},attrs:{id:"people-dropdown"}},[e("div",{staticClass:"d-flex p-2 justify-content-between"},[t._m(0),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("button",{staticClass:"mr-3 raised cursor-pointer add-subtract min-adults",attrs:{type:"button","aria-label":"decrease value","aria-describedby":"","data-name":"adults","data-math":"minus"},on:{click:function(e){return t.decrement("persons")}}},[t._m(1)]),t._v(" "),e("div",{},[e("span",{staticClass:"adults",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.persons))])]),t._v(" "),e("button",{staticClass:"ml-3 raised cursor-pointer add-subtract",attrs:{"data-math":"add","data-name":"adults","data-number":"1",type:"button"},on:{click:function(e){return t.increment("persons")}}},[t._m(2)])])]),t._v(" "),e("div",{staticClass:"d-flex p-2 justify-content-between"},[t._m(3),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("button",{staticClass:"mr-3 raised min-rooms cursor-pointer",attrs:{type:"button","aria-label":"decrease value","aria-describedby":"","data-math":"minus","data-name":"rooms"},on:{click:function(e){return t.decrement("rooms")}}},[t._m(4)]),t._v(" "),e("div",{},[e("span",{staticClass:"rooms",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.rooms))])]),t._v(" "),e("button",{staticClass:"ml-3 raised cursor-pointer",attrs:{"data-math":"add","data-number":"0","data-name":"rooms",type:"button"},on:{click:function(e){return t.increment("rooms")}}},[t._m(5)])])]),t._v(" "),t._m(6),t._v(" "),e("input",{staticClass:"location-search",attrs:{type:"hidden",name:"rooms",id:"rooms"},domProps:{value:t.rooms}}),t._v(" "),e("input",{staticClass:"location-search",attrs:{type:"hidden",name:"children",id:"children"},domProps:{value:t.children}}),t._v(" "),e("input",{staticClass:"location-search",attrs:{type:"hidden",name:"persons",id:"persons"},domProps:{value:t.persons}})])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-left"},[e("div",{attrs:{id:""}},[t._v("Person(s)")]),t._v(" "),e("div",{staticClass:"text-muted",attrs:{id:""}})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"fas fa-minus"})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"far fa-plus"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-left"},[e("div",{attrs:{id:""}},[t._v("Rooms")]),t._v(" "),e("div",{staticClass:"text-muted",attrs:{id:""}})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"fas fa-minus"})])},function(){var t=this._self._c;return t("span",{},[t("i",{staticClass:"far fa-plus"})])},function(){var t=this._self._c;return t("div",{staticClass:"d-flex p-2 justify-content-between"},[t("a",{staticClass:"close-dropdown btn px-3 py-1 btn-primary rounded",attrs:{href:"#",role:"button",type:"button"}},[this._v("Cancel")])])}],!1,null,null,null).exports},5726:(t,e,n)=>{"use strict";n.d(e,{Z:()=>E});var i=n(629);const r={props:{meta:Object,useUrl:Boolean},created:function(){},methods:{switched:function(t){var e=this;if(!this.pageIsFinished(t)){if(this.$emit("pagination:switched",t),!this.useUrl)return axios.get(this.meta.path+"?page="+t).then((function(t){e.loading=!1,e.$store.commit("setReviews",t.data.data),e.$store.commit("setReviewsMeta",t.data.meta)})).catch((function(t){}));this.$router.replace({query:{page:t}})}},pageIsFinished:function(t){return t<=0||t>this.meta.last_page}}};var s=n(1900);const a=(0,s.Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pagination-wraper"},[e("div",{staticClass:"pagination"},[e("ul",{staticClass:"pagination-numbers"},[e("li",[e("a",{staticClass:"prev page-number",class:{disabled:1===t.meta.current_page},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.switched(t.meta.current_page-1)}}},[e("i",{staticClass:"fa fa-angle-double-left"})])]),t._v(" "),t._l(t.meta.last_page,(function(n){return e("li",{key:n},[e("a",{staticClass:"page-number",class:{current:t.meta.current_page===n},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.switched(n)}}},[t._v(t._s(n))])])})),t._v(" "),e("li",[e("a",{staticClass:"next page-number",class:{disabled:t.meta.current_page===t.meta.last_page},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.switched(t.meta.current_page+1)}}},[e("i",{staticClass:"fa fa-angle-double-right"})])])],2)])])}),[],!1,null,null,null).exports;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const u={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,i.Se)({propertyLoading:"propertyLoading"}))};const d=(0,s.Z)(u,(function(){var t=this,e=t._self._c;return t.propertyLoading?e("div",t._l(5,(function(n){return e("div",{key:n,staticClass:"bg-white mb-2 rounded ap-loaders"},[t._m(0,!0)])})),0):t._e()}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-relative"},[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-md-3 position-relative"},[e("div",{staticClass:"apart-loading",staticStyle:{width:"100%",height:"232px","background-color":"rgb(204, 204, 204)"}},[e("a",{attrs:{href:""}}),t._v(" "),e("div",{staticClass:"fav-icon position-absolute"},[e("a",{staticClass:"saved",attrs:{href:"#","data-id":"189","data-toggle":"loggedIn","data-target":"#auth",title:"Wishlist"}})])])]),t._v(" "),e("div",{staticClass:"col-md-9 position-relative col-12 pl-3"},[e("div",{staticClass:"d-flex mt-2 justify-content-between"},[e("div",{staticClass:"apart-loading",staticStyle:{width:"50%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(" "),e("div",{staticClass:"apart-loading",staticStyle:{width:"40%",height:"12px","background-color":"rgb(204, 204, 204)"}})]),t._v(" "),e("div",[e("small",[e("a",{staticClass:"p-0 d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(",\n              "),e("a",{staticClass:"d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"},attrs:{href:""}})])]),t._v(" "),e("div",{staticClass:"mb-5"},[e("div",[e("span",{staticClass:"d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(" "),e("span",{staticClass:"d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(" "),e("span",{staticClass:"d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}})]),t._v(" "),e("div",[e("span",{staticClass:"d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(" "),e("span",{staticClass:"d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(" "),e("span",{staticClass:"d-inline-block apart-loading",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}})])]),t._v(" "),e("div",{staticClass:"d-flex position-absolute apartment-review justify-content-between mt-1 align-items-end"},[e("div",{staticClass:"apart-loading mb-2",staticStyle:{width:"10%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(" "),e("div",{staticClass:"d-none d-lg-block d-xl-block text-right mr-2"},[e("span",{staticClass:"apart-loading d-inline-block",staticStyle:{width:"100%",height:"12px","background-color":"rgb(204, 204, 204)"}}),t._v(" "),e("div",{staticClass:"apart-loading btn btn-primary btn-round d-none d-lg-block d-xl-block",staticStyle:{width:"100%",height:"12px","background-color":"rgb(204, 204, 204)"}})])])])])])}],!1,null,null,null).exports;var h=n(5272),f=n(9711),p=n(7190),m=n(8224);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==g(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===g(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const _={name:"Index",props:{user:Object,propertys:Array,next_page:Array,total:Number},components:{Pagination:a,Loaders:d,Saved:h.Z,CategorySearch:m.Z,Guests:f.Z,DatePicker:p.Z},data:function(){return{meta:{},has_filters:0,full_width:!1,loading:!1,search:!1,propes:[],guests:0,locationSearch:[],form:{room_quantity:[],selectedRooms:[],children:null,adults:null,rooms:null,check_in_checkout:null,property_id:null}}},computed:y({},(0,i.Se)({properties:"properties",propertyLoading:"propertyLoading",links:"links",next_page_url:"next_page_url"})),created:function(){},mounted:function(){jQuery((function(){$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})})),console.log(this.propertys),this.$store.commit("setPropertyLoading",!0);(new Date).getTime();document.getElementById("ap-loaders").classList.add("d-none"),document.getElementById("category-loader").classList.add("d-none"),this.$store.commit("setProperties",this.propertys),this.$store.commit("setMeta",this.total),this.$store.commit("setPropertyLoading",!1),setTimeout((function(){}),1e3),this.$store.commit("setNextPageUrl",this.next_page[0])},methods:y(y({},(0,i.nv)({getProperties:"getProperties",saveProperty:"saveProperty"})),{},{favorite:function(t,e){this.saveProperty({property_id:e}).then((function(t){}))},dateSelected:function(t){this.form.check_in_checkout=t},loadMore:function(t){(new Date).getTime();var e=t.target.getAttribute("href");this.getProperties(e+"&timestamp=${new Date().getTime()}").then((function(t){}))},build:function(){var t=this;this.locationSearch=[],document.querySelectorAll(".location-search").forEach((function(e,n){t.locationSearch.push(e.name+"="+e.value)}));var e=this.locationSearch.slice(0,1).concat(this.locationSearch.slice(2)),n=location.href,i=new URL(n).pathname;window.history.pushState("","Title",i);window.history.pushState({},"","?"+e.join("&"));this.$store.commit("setLocationSearch",e)},checkAvailabity:function(){if(this.build(),this.form.children=document.querySelector("#children").value,this.form.adults=document.querySelector("#adults").value,this.form.rooms=document.querySelector("#rooms").value,!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2)this.isDateNeedsToToOpen=!0;else{var t={rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,children:this.form.children,adults:this.form.adults},e=JSON.stringify(t),n="searchParams";localStorage.setItem(n,e);var i=localStorage.getItem(n);JSON.parse(i);console.log("here"),axios.get(window.location).then((function(t){return commit("setProperties",t.data.data),commit("setMeta",t.data.meta),commit("setAttributes",t.data.attributes),commit("setLinks",t.data.links),commit("setNextPageUrl",t.data.links.next),commit("setPropertyLoading",!1),jQuery((function(){$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})})),Promise.resolve()})).catch((function(t){commit("setPropertyLoading",!1),commit("setProperties",[])}))}}})};const E=(0,s.Z)(_,(function(){var t=this,e=t._self._c;return e("div",[!t.propertyLoading&&t.properties.length?e("div",[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group category-search form-border cursor-pointer search col-md-5 bmd-form-grup mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2 bmd-label-static checkin mb-0 pl-1",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in - Check-out")]),t._v(" "),e("date-picker",{on:{dateSelected:t.dateSelected}})],1),t._v(" "),e("div",{staticClass:"p col-md-5 cursor-pointer px-sm-0 px-md-1",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"col-md-2 check-availablility mb-sm-3 mb-md-0 mt-sm-2 mt-md-0"},[e("button",{staticClass:"btn btn-primary btn-round btn-block bold-3",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.checkAvailabity()}}},[t._v("\n          Search\n        ")])])]),t._v(" "),t._m(0),t._v(" "),t._l(t.properties,(function(n){return e("div",{key:n.id,staticClass:"bg-white mb-2 border rounded position-relative border-radius loaded-apartments mt-sm-0 mt-md-2"},[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-md-3 col-12 position-relative"},[e("div",{staticClass:"apr"},[e("div",{staticClass:"owl-carousel owl-theme"},t._l(n.images,(function(n){return e("div",{key:n.id,staticClass:"item"},[e("img",{staticClass:"img d-none d-lg-block img-fluid rounded-top-left",attrs:{src:n.image_m}}),t._v(" "),e("img",{staticClass:"img d-block d-sm-none img-fluid rounded-top-left",attrs:{src:n.image_m}})])})),0),t._v(" "),e("div",{staticClass:"fav-icon position-absolute"},[e("saved",{attrs:{property:n}})],1)])]),t._v(" "),e("div",{staticClass:"col-md-9 position-relative pl-3"},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",{staticClass:"mt-sm-2"},[e("a",{staticClass:"bold-3 text-size-1-big mt-sm-2",attrs:{target:"_blank",href:n.link}},[t._v(t._s(n.name))]),t._v(" "),e("div",{staticClass:"d"},[e("small",[e("a",{staticClass:"p-0",attrs:{href:n.link}},[t._v(t._s(n.city))]),t._v(", "),e("a",{attrs:{href:""}},[t._v(t._s(n.state))])])]),t._v(" "),e("div",{staticClass:"mb-5"},[n.facilities.length?e("div",{staticClass:"facilities d-flex flex-lg-row flex-column text-gold text-size-1"},t._l(n.facilities,(function(n){return e("span",{key:n.id,staticClass:"mb-1 mb-lg-0 mr-2"},[e("span",{staticClass:"position-absolute content-icon svg-icon-section",domProps:{innerHTML:t._s(n.svg)}}),t._v(" "),e("span",{staticClass:"ml-4"},[t._v("\n                      "+t._s(n.name)+"\n                    ")])])})),0):t._e(),t._v(" "),n.free_services.length?e("div",{staticClass:"d-inline-flex d-flex flex-lg-row flex-column mr-2 text-size-1 mb-sm-5 mb-md-0"},t._l(n.free_services,(function(n){return e("div",{key:n.id,staticClass:"free-services mr-2 text-size-1 mb-1 mb-lg-0"},[t._v("\n                    "+t._s(n.name)+" included\n                  ")])})),0):t._e()])])]),t._v(" "),e("div",{staticClass:"d-flex position-absolute apartment-review justify-content-between mt-1 align-items-end"},[e("div",{staticClass:"reviews-section"}),t._v(" "),e("div",{staticClass:"text-right mr-4"},[e("div",{staticClass:"d-inline-flex"},[n.default_discounted_price?[e("div",{staticClass:"sale-price bold-3 mr-3 text-gold"},[t._v("\n                    "+t._s(n.currency)+t._s(t._f("priceFormat")(n.converted_price))+"\n                  ")]),t._v(" "),e("div",{staticClass:"price bold-3"},[t._v("\n                    "+t._s(n.currency)+"\n                    "+t._s(t._f("priceFormat")(n.default_discounted_price))+"\n                  ")])]:[e("div",{staticClass:"price bold-3"},[t._v("\n                    "+t._s(n.currency)+t._s(t._f("priceFormat")(n.converted_price))+"\n                  ")])]],2),t._v(" "),e("div",{staticClass:"text-size-2"},[t._v("\n                "+t._s(n.price_mode)+" per night\n              ")]),t._v(" "),n.is_refundable?e("div",{staticClass:"text-size-1 text-success"},[t._v("\n                Fully Refundable\n              ")]):t._e(),t._v(" "),"shortlet"==n.mode?e("a",{staticClass:"btn btn-primary btn-round d-none bold-3 d-lg-block d-xl-block py-2 px-4",attrs:{target:"_blank",href:n.link}},[t._v("\n                Check Availability\n              ")]):t._e()])])])])])}))],2):t._e(),t._v(" "),!t.propertyLoading&&t.properties.length&&t.next_page_url?e("div",{staticClass:"d-flex justify-content-center",attrs:{id:"pagination"}},[e("a",{staticClass:"btn btn-primary mt-4 mb-2",attrs:{href:t.next_page_url,id:"load_more"},on:{click:function(e){return e.preventDefault(),t.loadMore(e)}}},[e("span",{staticClass:"spinner-grow spinner-grow-md d-none"}),t._v("\n      Load More ...\n      "+t._s(t.properties.total)+"\n    ")])]):t._e(),t._v(" "),t.propertyLoading||t.properties.length?t._e():e("div",{staticClass:"no-properties-found"},[t._m(1)]),t._v(" "),e("loaders")],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"alert alert-success p-3 ml-3",attrs:{role:"alert",bis_skin_checked:"1"}},[e("strong",[t._v("Note:")]),t._v(" Due to the peak period, prices from\n    Monday 01 December 2025 to\n    Thursday 15 January 2026 are at\n    "),e("span",{staticClass:"fw-bold"},[t._v("\n      1,061,688")]),t._v("\n    per night.\n  ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e("div",[e("i",{staticClass:"fas fa-home fa-5x"})]),t._v(" "),e("div",[t._v("We could not match any apartments to your search")])])}],!1,null,null,null).exports},423:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var i=n(9711),r=n(3526),s=n(7190),a=n(6945),o=n.n(a),l=n(2529),c=n.n(l),u=(n(2820),n(5179)),d=n(3041),h=n(9669),f=n.n(h);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}const b={mixins:[u.Z],props:{apartments:Array,property:Object,propertys_not_available:Array,nights:Array,amenities:Array,isAgent:Boolean,filter:{type:Number,default:1},showResult:Array,showReserve:Number,gallery:Number,apr:null,peak_period:{type:Object,default:{}},isIndex:Boolean},data:function(){var t;return v(t={settings:{arrows:!0,fade:!0,swipe:!0,touchMove:!0},roomsAv:[],total:0,isPlaying:!1,src:"",aps:0,apTotal:0,attrPrice:0,apartment_id:null,property_id:null,openNotification:null,guests:0,amount:0,apQ:[],qty:!1,stays:null,loading:!1,highlights:[],propertyLoading:!1,showApartmentCount:null,peakPeriodSelected:null,propertyIsLoading:!1,isDateNeedsToToOpen:!1,showNotification:null,singleApartmentIsChecked:!1,singleApartmentIsAvailable:!1,apartment_facilities:null,error_msg:null,showModal:!1,apartmentIsAvailable:!1,apartmentIsChecked:!1},"loading",!1),v(t,"classType",["col-lg-3 col-md-4 col-12"]),v(t,"message","LKNL"),v(t,"title","LM;;"),v(t,"showImageModal",!1),v(t,"room",{}),v(t,"form",{room_quantity:[],selectedRooms:[],children:1,adults:1,rooms:1,check_in_checkout:null,checkin:null,checkout:null,property_id:this.property.id}),t},created:function(){},mounted:function(){var t=this,e=document.getElementById("full-bg"),n=this.$refs.videoPlayer;e&&document.getElementById("full-bg").remove(),this.showApartmentCount=this.apr;var i=localStorage.getItem("searchParams");if(console.log(i),null!==i){var r=JSON.parse(i);if(null!==r.checkin)this.form.checkin=r.checkin,this.form.checkout=r.checkout;else{var s=new URLSearchParams(window.location.search);console.log(s);var a=s.get("checkin")||"",o=s.get("checkout")||"";this.form.checkin=a,this.form.checkout=o}}n&&(n.addEventListener("pause",(function(){return t.handleVideoStop()})),n.addEventListener("ended",(function(){return t.handleVideoStop()}))),$(".owl-carousel").on("changed.owl.carousel",(function(){t.$refs.videoPlayer&&(t.$refs.videoPlayer.pause(),t.isPlaying=!1)})),jQuery((function(){$(".owl-carousel").owlCarousel({margin:0,dots:!1,nav:!0,loop:!0,navText:['<div class="nav-btn prev-slide d-flex justify-content-center align-items-center mr-1"><svg class="uitk-icon uitk-icon-leading uitk-icon-directional" aria-label="Show previous image" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Show previous image</title><path d="M14.862 16.448 10.414 12l4.446-4.447a.5.5 0 0 0-.007-.7l-.707-.707a.5.5 0 0 0-.707 0l-5.146 5.147a1 1 0 0 0 0 1.414l5.146 5.146a.5.5 0 0 0 .707 0l.707-.707a.5.5 0 0 0 .009-.698z"></path></svg></div>','<div class="nav-btn next-slide d-flex justify-content-center align-items-center ml-1"><svg class="uitk-icon uitk-icon-leading uitk-icon-directional" aria-label="Show next image" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Show next image</title><path d="M10.56 6.146a.5.5 0 0 0-.706 0l-.708.708a.5.5 0 0 0 0 .707L13.586 12l-4.44 4.44a.5.5 0 0 0 0 .706l.708.708a.5.5 0 0 0 .707 0l5.146-5.147a1 1 0 0 0 0-1.414l-5.146-5.147z"></path></svg></div>'],responsive:{0:{items:1},850:{items:1},1e3:{items:1}}})}));var l=document.getElementById("sm-main-banner");l&&l.querySelectorAll(".d-none").forEach((function(t){t.classList.remove("d-none")}));console.log(this.room),this.filter?(this.classType=["col-12 col-lg-4 col-md-6"],this.getApartments()):(this.classType=["col-12 col-lg-3 col-md-6"],this.roomsAv=this.apartments),console.log(this.form.checkin)},components:{Pickr:o(),Guests:i.Z,Apartment:r.Z,Date:s.Z,VueSlickCarousel:c()},methods:{handleVideoStop:function(){this.isPlaying=!1},showImages:function(t){this.showImageModal=!this.showImageModal,this.room=t},parseStringToArray:function(t){return t?t.split(","):null},showRoom:function(t){this.showModal=!this.showModal,this.room=t,this.groupData(t),this.openNotification=null,this.highlights=this.parseStringToArray(t.teaser),this.form.checkin&&this.form.checkout&&this.checkApartmentAvailabity(t),jQuery((function(){$(".custom-iframe").on("touchstart",(function(t){var e=t.touches[0].clientX;$(this).on("touchmove",(function(t){var n=t.touches[0].clientX-e;Math.abs(n)>50&&(n>0?$(".owl-carousel").trigger("prev.owl.carousel"):$(".owl-carousel").trigger("next.owl.carousel"),$(this).off("touchmove"))})),$(this).on("touchend",(function(){$(this).off("touchmove")}))})),console.log(!0),$(".owl-carousel").owlCarousel({margin:0,nav:!0,dots:!1,navText:['<div class="nav-btn prev-slide d-flex z-index justify-content-center align-items-center mr-1"><svg  viewBox="0 0 21 40" xmlns="http://www.w3.org/2000/svg"><path d="M19.9 40L1.3 20 19.9 0"  fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>','<div class="nav-btn next-slide d-flex z-index justify-content-center align-items-center ml-1"><svg  viewBox="0 0 19 40" xmlns="http://www.w3.org/2000/svg"><path d="M.1 0l18.6 20L.1 40"  fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>'],responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))},initVideo:function(){this.isPlaying=!0;var t=this.$refs.videoPlayer;this.src=""+this.room.video.encoded_path;var e=document.querySelector(".aprts .owl-dots");if(console.log(e),e&&e.classList.add("video-is-playing"),d.ZP.isSupported()){var n=new d.ZP({capLevelToPlayerSize:!0,autoStartLoad:!0});n.loadSource(this.src),n.attachMedia(t),n.on(d.ZP.Events.MANIFEST_PARSED,(function(){t.play()}))}else t.canPlayType("application/vnd.apple.mpegurl")&&(t.src=this.src,t.addEventListener("loadedmetadata",(function(){t.play()})))},openModal:function(){this.showModal=!0,document.body.style.overflow="hidden",document.body.addEventListener("click",this.clickOutsideHandler)},closeModal:function(){this.showModal=!1,document.body.style.overflow="",document.body.removeEventListener("click",this.clickOutsideHandler)},openImageModal:function(){this.showImageModal=!0,document.body.style.overflow="hidden",document.body.addEventListener("click",this.clickOutsideHandler)},closeImageModal:function(){this.showImageModal=!1,document.body.style.overflow="",document.body.removeEventListener("click",this.clickOutsideHandler)},clickOutsideHandler:function(t){this.$refs.modal.contains(t.target)||this.closeModal(),document.body.style.overflow=""},dateSelected:function(t){this.form.check_in_checkout=t},parseDateRange:function(t){var e=m(t.split(" to "),2),n=e[0],i=e[1];return{startDate:new s.Z(n),endDate:new s.Z(i)}},groupData:function(t){this.apartment_facilities=t.apartment_facilities.reduce((function(t,e){var n=e.parent.name;return t[n]||(t[n]=[]),t[n].push(e),t}),{}),console.log(t.apartment_facilities)},checkSingleAvailabity:function(t){this.checkApartmentAvailabity(t)},buildQuery:function(t){var e=new URLSearchParams;return Object.keys(t).forEach((function(n){var i=t[n];null!=i&&""!==i&&e.append(n,i)})),e.toString()},getApartments:function(){var t=this;this.propertyLoading=!0;var e=localStorage.getItem("searchParams");if(e)try{var n=JSON.parse(e);n.rooms&&(this.form.rooms=n.rooms),n.persons&&(this.form.persons=n.persons),n.checkin&&(this.form.checkin=n.checkin),n.checkout&&(this.form.checkout=n.checkout),n.check_in_checkout&&(this.form.check_in_checkout=n.check_in_checkout)}catch(t){console.error("Invalid stored JSON",t)}var i=this.buildQuery({rooms:this.form.rooms,persons:this.form.persons,checkin:this.form.checkin,checkout:this.form.checkout,check_in_checkout:this.form.check_in_checkout}),r=i.includes("check_in_checkout=");f().get(window.location.pathname+"?"+i+"&t="+Math.random()).then((function(e){var n=e.data.params;t.showApartmentCount=r;var i=e.data.peak_periods;i&&(t.peakPeriodSelected="Your selected dates fall within the peak period (".concat(i.from_date," to ").concat(i.to_date,")."),t.openNotification=!0,t.openModal()),t.form.rooms=n.rooms,t.form.persons=n.persons,t.roomsAv=e.data.data,t.stays=e.data.nights,t.form.checkin&&t.form.checkout&&t.isValidDate(t.form.checkin)&&t.isValidDate(t.form.checkout)&&(t.showNotification=!0,t.apartmentIsChecked=!0),t.propertyLoading=!1,jQuery((function(){$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))})).catch((function(t){console.log(t)}))},checkIn:function(t){this.form.checkin=t},checkOut:function(t){this.form.checkout=t},check:function(t){var e=document.querySelectorAll('[name="extra_services[]"]'),n=[];e.forEach((function(t,e){t.checked&&n.push(t.dataset.price)})),this.attrPrice=this.sum(n)},sum:function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)},handleAvailabity:function(){this.checkAvailabity()}}};var _=n(3379),E=n.n(_),S=n(9351),T={insert:"head",singleton:!1};E()(S.Z,T);S.Z.locals;const w=(0,n(1900).Z)(b,(function(){var t=this,e=t._self._c;return e("div",{},[e("form",{staticClass:"form-group",attrs:{id:"multiple-form",action:"/book/"+t.property.slug,method:"GET"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.$root.token}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"property_id"},domProps:{value:t.property_id}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"apartment_id"},domProps:{value:t.apartment_id}}),t._v(" "),t.filter?e("div",[e("h3",{staticClass:"bold-2"},[t._v("Your next trip starts here")]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group form-border cursor-pointer search col-md-3 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in")]),t._v(" "),e("date",{attrs:{check_in_date:1,placeholder:"Check-in",isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.checkIn}})],1),t._v(" "),e("div",{staticClass:"form-group ml-lg-1 form-border cursor-pointer search col-md-3 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2",attrs:{for:"flatpickr-input-f"}},[t._v("Check-out")]),t._v(" "),e("date",{attrs:{check_in_date:0,placeholder:"Check-out",isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.checkOut}})],1),t._v(" "),e("div",{staticClass:"col-md-4 cursor-pointer px-sm-0 px-md-1 mb-sm-2 mb-md-0",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"col-md-1 w-100 check-availablility"},[e("button",{staticClass:"btn btn-primary btn-block w-auto w-xs-100 m-auto bold-2 check-availablility-button rounded",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.handleAvailabity()}}},[t._v("\n              Check availablity\n            ")])])])]):t._e(),t._v(" "),t.propertyLoading?[e("div",{staticClass:"loader-grid mt-4"},t._l(9,(function(n){return e("div",{key:n,staticClass:"post-loader"},[e("div",{staticClass:"skeleton skeleton-image"}),t._v(" "),e("div",{staticClass:"loader-content"},[e("div",{staticClass:"skeleton skeleton-title"}),t._v(" "),e("div",{staticClass:"skeleton skeleton-pill"}),t._v(" "),t._l(5,(function(t){return e("div",{key:t,staticClass:"skeleton skeleton-line"})})),t._v(" "),e("div",{staticClass:"skeleton skeleton-price"})],2)])})),0)]:t._e(),t._v(" "),t.gallery?t._e():e("div",[t.propertyLoading||t.roomsAv.length?t._e():e("div",{staticClass:"name mt-1 rounded bg-white p-2",attrs:{id:""}},[e("div",{staticClass:"text-muted text-danger"},[t._v("\n            "+t._s(t.error_msg||"There are not available apartments for your search.")+"\n          ")])])]),t._v(" "),!t.propertyLoading&&t.showNotification?e("div",{staticClass:"bold-2 mt-4",attrs:{id:"results-available",role:"alert"}},[e("strong"),t._v(" We found "+t._s(t.roomsAv.length)+" apartment(s) available "),e("span",{staticClass:"fw-bold"}),t._v(".\n      ")]):t._e(),t._v(" "),e("div",{staticClass:"name mt-1 rounded p-2",attrs:{id:""}},[e("div",{staticClass:"position-relative"},[t.roomsAv.length?[e("div",{staticClass:"row",class:{"header-filter":t.propertyIsLoading}},t._l(t.roomsAv,(function(n,i){return e("apartment",{key:n.id,attrs:{showReserve:t.apartmentIsChecked,classType:t.classType,amenities:t.amenities,isIndex:t.isIndex,room:n,stays:t.stays,qty:t.qty},on:{showImages:t.showImages,showRoom:t.showRoom,reserve:t.reserve}})})),1)]:t._e()],2)])],2),t._v(" "),e("transition",{attrs:{name:"modal-fade"}},[t.showModal&&t.openNotification?e("div",{staticClass:"modal-overlay d-flex align-items-center justify-content-center",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal.apply(null,arguments)}}},[e("div",{staticClass:"custom-alert-modal"},[e("div",{staticClass:"custom-alert-header"},[e("span",{staticClass:"alert-icon"},[t._v("")]),t._v(" "),e("h5",{staticClass:"text-white"},[t._v("Peak Period Notice")]),t._v(" "),e("button",{staticClass:"close-btn",on:{click:t.closeModal}},[t._v("")])]),t._v(" "),e("div",{staticClass:"custom-alert-body"},[e("p",[t._v(t._s(t.peakPeriodSelected))])]),t._v(" "),e("div",{staticClass:"custom-alert-footer"},[e("button",{staticClass:"ok-btn",on:{click:t.closeModal}},[t._v("OK")])])])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"modal-fade"}},[t.showModal&&!t.openNotification?e("div",{staticClass:"modal-overlay d-flex",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal.apply(null,arguments)}}},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-content-header d-flex align-items-center p-3 mt-4 justify-content-between"},[e("h5",{staticClass:"modal-title",attrs:{id:""}},[t._v("Apartment Information")]),t._v(" "),e("a",{staticClass:"modal-close d-flex justify-content-center align-items-center",attrs:{href:"#",role:"button"},on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}},[e("svg",{attrs:{"aria-label":"Close, go back to hotel details.",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("title",{attrs:{id:"undefined-close-toolbar-title"}},[t._v("\n                  Close, go back to hotel details.\n                ")]),t._v(" "),e("path",{attrs:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}})])])]),t._v(" "),t.gallery?t._e():e("div",{staticClass:"modal-body quick-view"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 rounded"},[e("div",{staticClass:""},[e("VueSlickCarousel",t._b({attrs:{arrows:!0,dots:!1}},"VueSlickCarousel",t.settings,!1),[t.room.image?e("div",{staticClass:"item"},[e("img",{staticClass:"img room-image img-fluid rounded",attrs:{alt:t.room.name,title:"book "+t.room.name+"  Avenue Montaigne",src:t.room.image,itemprop:"contentUrl"}})]):t._e(),t._v(" "),t.room.images?t._l(t.room.images,(function(n,i){return e("div",{key:i,staticClass:"item"},[e("img",{staticClass:"img room-image img-fluid rounded",attrs:{src:n.image}}),t._v(" "),n.caption?e("div",{staticClass:"image-caption position-absolute"},[t._v("\n                              "+t._s(n.caption)+"\n                          ")]):t._e()])})):t._e(),t._v(" "),t.room.video?e("div",{staticClass:"item"},[t.isPlaying?t._e():e("div",{staticClass:"video-preview cursor-pointer",on:{click:t.initVideo}},[e("img",{staticClass:"img-fluid rounded-top w-100",attrs:{src:t.room.image_links[0].image,alt:"video preview"}}),t._v(" "),e("div",{staticClass:"video-play-btn"},[t._v("\n                            \n                          ")])]),t._v(" "),e("video",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],ref:"videoPlayer",staticClass:"w-100 rounded-top custom-video",attrs:{playsinline:"",preload:"metadata",controls:""}})]):t._e()],2)],1),t._v(" "),e("div",{staticClass:"container p-0"},[e("h4",{staticClass:"primary-color"},[t._v("\n                    Check availablity for "+t._s(t.room.name)+"\n                  ")]),t._v(" "),e("form",{staticClass:"form-group",attrs:{id:"single-form",action:"/book/"+t.property.slug,method:"GET"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.$root.token}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"property_id"},domProps:{value:t.property.id}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"apartment_id"},domProps:{value:t.apartment_id}}),t._v(" "),e("div",{staticClass:"mr-lg-4"},[e("div",{staticClass:"row quick-view p-3"},[e("div",{staticClass:"form-group p-0 form-border cursor-pointer search col-md-3 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"label",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in\n                          ")]),t._v(" "),e("date",{attrs:{check_in_date:1,placeholder:"Check-in",isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.checkIn}})],1),t._v(" "),e("div",{staticClass:"form-group p-0 ml-lg-1 form-border cursor-pointer search col-md-3 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"label",attrs:{for:"flatpickr-input-f"}},[t._v("Check-out")]),t._v(" "),e("date",{attrs:{check_in_date:0,placeholder:"Check-out",isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.checkOut}})],1),t._v(" "),e("div",{staticClass:"guest col-md-4 cursor-pointer px-sm-0 px-md-1",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"col-md-1 check-availablility mt-sm-2 mt-md-0"},[e("button",{staticClass:"btn w-auto w-xs-100 btn-primary btn-block m-auto bold-2 check-availablility-button rounded",class:{disabled:t.loading},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.checkSingleAvailabity(t.room)}}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n                            Check availablity\n                          ")])])])]),t._v(" "),e("div",{staticClass:"mt-3"},[t.singleApartmentIsAvailable&&t.singleApartmentIsChecked?e("div",[e("div",{staticClass:"alert alert-success"},[t._v("\n                          This apartment is available\n                        ")]),t._v(" "),t.singleApartmentIsAvailable&&t.singleApartmentIsChecked?e("button",{staticClass:"btn btn-primary m-auto bold-2 rounded",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.reserveSingle(t.room)}}},[t._v("\n                          Click here to book\n                        ")]):t._e()]):t._e(),t._v(" "),!t.singleApartmentIsAvailable&&t.singleApartmentIsChecked?e("div",{staticClass:"text-danger"},[t._v("\n                        This apartment is not available on your selected date\n                      ")]):t._e()])])]),t._v(" "),e("div",{staticClass:"card-title bold-2 text-size-1-big mt-lg-0 mt-sm-3"},[t._v("\n                  "+t._s(t.room.name)+"\n                ")]),t._v(" "),e("div",{staticClass:"mb-5 bg-grey p-3 rounded"},[e("div",{staticClass:"d-flex"},[e("svg",{attrs:{"aria-describedby":"cleanliness-description",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("desc",{attrs:{id:"cleanliness-description"}},[t._v("cleanliness")]),t._v(" "),e("path",{attrs:{d:"M19.14 7.25 18 10l-1.14-2.86L14 6l2.86-1.14L18 2l1.14 2.86L22 6l-2.86 1.25zM11 10 9 4l-2 6-6 2 6 2 2 6 2-6 6-2-6-2zm4.5 10.5-1.5-1 1.5-1 1-1.5 1 1.5 1.5 1-1.5 1-1 1.5-1-1.5z"}})]),t._v(" "),e("h3",{},[t._v("Highlights")])]),t._v(" "),e("div",{},t._l(t.highlights,(function(n,i){return e("span",{key:i,staticClass:"ml-2"},[t._v("\n                      "+t._s(n)+"\n                    ")])})),0)]),t._v(" "),e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"position-relative mb-2"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#bedrooms-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.no_of_rooms)+" Bedrooms")])]),t._v(" "),e("div",{staticClass:"position-relative mb-2"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#bathroom-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.toilets)+" bathrooms")])]),t._v(" "),e("div",{staticClass:"position-relative mb-2"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#sleeps-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.max_adults)+" Guests")])]),t._v(" "),e("div",{staticClass:"position-relative mb-1"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#location_city"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.floor)+" ")])])]),t._v(" "),e("div",{staticClass:"uitk-spacing uitk-spacing-margin-blockend-six"},[e("h3",{staticClass:"uitk-heading uitk-heading-5 uitk-spacing uitk-spacing-margin-blockend-six"},[t._v("\n                    Apartment amenities\n                  ")]),t._v(" "),e("div",{staticClass:"row",attrs:{id:"apartment-fac"}},t._l(t.apartment_facilities,(function(n,i){return e("div",{key:i,staticClass:"col-md-6 margin-bottom-13rem"},[e("div",{staticClass:"d-flex align-items-center"},[e("svg",{staticClass:"uitk-icon uitk-layout-flex-item",attrs:{"aria-hidden":"true",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("path",{attrs:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}})]),t._v(" "),e("h4",{staticClass:"ml-2"},[t._v(t._s(i))])]),t._v(" "),e("div",{},[e("div",{},[e("ul",{attrs:{role:"list"}},t._l(n,(function(n){return e("li",{key:n.id,attrs:{role:"listitem"}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{},[t._v(" "+t._s(n.name)+" ")])])})),0)])])])})),0)])])])])])]):t._e()])],1)}),[],!1,null,"4bfff731",null).exports},3351:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var i=n(629),r=n(5179),s=n(6945),a=n.n(s),o=n(9711),l=n(7190);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const f={props:["reload","peak_period"],mixins:[r.Z],data:function(){return{guests:0,btnText:"Check availablity",isDisabled:!1,form:{room_quantity:[],selectedRooms:[],children:1,adults:1,rooms:1,check_in_checkout:null,checkin:null,checkout:null}}},components:{Pickr:a(),Guests:o.Z,DateRange:l.Z},computed:d({},(0,i.Se)({locationSearch:"locationSearch"})),mounted:function(){},methods:d(d({},(0,i.nv)({getProperties:"getProperties"})),{},{checkAvailabity:function(){this.search()}})};const p=(0,n(1900).Z)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container d-flex justify-content-center rounded"},[e("div",{staticClass:"row justify-content-center index-search w-100"},[e("div",{staticClass:"form-group cursor-pointer search col-lg-3 col-md-5 bmd-form-group mb-sm-2 mb-md-0 border"},[e("date-range",{attrs:{check_in_date:1,placeholder:"Check-in"},on:{dateSelected:t.checkIn}})],1),t._v(" "),e("div",{staticClass:"form-group cursor-pointer search col-lg-3 col-md-5 bmd-form-group mb-sm-2 mb-md-0 border"},[e("date-range",{attrs:{check_in_date:0,placeholder:"Check-out"},on:{dateSelected:t.checkOut}})],1),t._v(" "),e("div",{staticClass:"col-md-4 cursor-pointer px-sm-0 px-md-1 mb-sm-2 mb-md-0 border",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"col-lg-2 col-md-5 mb-sm-2 mb-md-0 p-0"},[e("button",{staticClass:"w-100 p-4 cursor-pointer btn btn-primary w-auto btn-block m-auto w-xs-100 bold bg-transparent border check-availablility-button",on:{click:t.checkAvailabity}},[t._v("Check Availablility")])])])])}),[],!1,null,null,null).exports},6436:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var i=n(9711);const r={props:{property:Object,room:Object,propertyLoading:Boolean,stays:Array,qty:Boolean,amenities:Array,isIndex:Boolean},data:function(){return{total:0,aps:0,totalRooms:0,apartment_bed_rooms:0,attrPrice:0,checkedAttr:[],guests:0,sub_total:0,lunchModal:!1,showSlider:!1,propertyQty:[],apartment_facilities:[],settings:{dots:!0,dotsClass:"slick-dots custom-dot-class",edgeFriction:.35,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1},form:{room_quantity:[],selectedRooms:[]}}},mounted:function(){jQuery((function(){$(".room-carousel").owlCarousel({margin:10,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))},components:{},methods:{sum:function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)},showRoom:function(t){this.lunchModal=!this.lunchModal,this.showSlider=!0,jQuery((function(){$(".room-carousel").owlCarousel({margin:10,nav:!0,dots:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))},reserve:function(t){this.$emit("reserve",{room:t})},getApartmentQuantity:function(t,e){var n=this;this.guests=e.max_adults+e.max_children,this.apartment_bed_rooms=e.no_of_rooms;t.target.value;this.totalRooms=0;var i=document.querySelectorAll(".room-q"),r=[],s=[];i.forEach((function(t,e){""!=t.value&&(r.push(t.value),s.push(t.selectedOptions[0].dataset.price||0))})),this.aps=this.sum(r),this.total=this.sum(s)*parseInt(this.stays[0]),-1==this.form.selectedRooms.findIndex((function(t){return t.id==e.id}))?this.form.selectedRooms.push(e):this.form.selectedRooms.forEach((function(t,i){t.id==e.id&&n.form.selectedRooms.splice(i,1)}));var a=this.aps,o=this.total;this.$emit("qtyChange",{total:o,aps:a})}}};var s=n(1900);const a=(0,s.Z)(r,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports;var o=n(7190),l=n(6945),c=n.n(l),u=n(9669),d=n.n(u);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==h(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const p={props:{apartments:Array,property:Object,propertys_not_available:Array,nights:Array,amenities:Array,isAgent:Boolean},data:function(){return{roomsAv:[],total:0,aps:0,apTotal:0,attrPrice:0,guests:0,amount:0,apQ:[],qty:!1,stays:null,loading:!1,propertyLoading:!1,isDateNeedsToToOpen:!1,error_msg:null,form:{room_quantity:[],selectedRooms:[],children:null,adults:null,rooms:null,check_in_checkout:null,property_id:this.property.id}}},created:function(){console.log(this.apartments),this.stays=this.nights,this.roomsAv=this.apartments},mounted:function(){var t=localStorage.getItem("searchParams");if(null!==t){var e=JSON.parse(t);this.form.check_in_checkout=e.check_in_checkout,this.checkAvailabity()}jQuery((function(){$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))},components:{Pickr:c(),Guests:i.Z,Apartments:a,Date:o.Z},methods:{dateSelected:function(t){this.form.check_in_checkout=t},checkAvailabity:function(){var t=this;console.log(!0),this.form.children=document.querySelector("#children").value,this.form.adults=document.querySelector("#adults").value,this.form.rooms=document.querySelector("#rooms").value,!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2?this.isDateNeedsToToOpen=!0:(this.propertyLoading=!0,d().post("/check/apartment/availablility",this.form).then((function(e){t.roomsAv=e.data.data,t.stays=e.data.nights,t.propertyLoading=!1,jQuery((function(){$(".room-carousel").owlCarousel({margin:10,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))})).catch((function(t){})))},check:function(t){var e=document.querySelectorAll('[name="extra_services[]"]'),n=[];e.forEach((function(t,e){t.checked&&n.push(t.dataset.price)})),this.attrPrice=this.sum(n)},sum:function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)},getApartmentQuantity:function(t){var e=t.total,n=t.aps;console.log(e,n),this.total=e,this.aps=n,this.apTotal=e,this.amount=this.apTotal},reserve:function(t){var e=this,n=t.room;if(!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2)this.isDateNeedsToToOpen=!0;else{document.querySelectorAll(".room-q");var i,r=[];i=f({},this.property.id,n.id),console.log(i),r.push(i);var s={apartment_quantity:r,propertyId:this.property.id,apID:n.id,check_in_checkout:this.form.check_in_checkout};this.propertyLoading=!0,d().post("/book/store",s).then((function(t){e.propertyLoading=!1,t.data?document.querySelector("#multiple-form").submit():(e.error_msg="It seems we could not further your request .Try a diffrent date.",e.roomsAv=[])})).catch((function(t){e.error_msg="It seems we could not further your request .Try a diffrent date."}))}}}};const m=(0,s.Z)(p,(function(){var t=this,e=t._self._c;return e("div",{},[e("form",{staticClass:"form-group",attrs:{id:"multiple-form",action:"/book/"+t.property.slug,method:"GET"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.$root.token}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"property_id"},domProps:{value:t.property.id}}),t._v(" "),e("div",[e("h3",{staticClass:"bold-2"},[t._v("Choose your unit")]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group form-border cursor-pointer search col-md-5 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in - Check-out")]),t._v(" "),e("date",{attrs:{isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.dateSelected}})],1),t._v(" "),e("div",{staticClass:"col-md-5 cursor-pointer px-sm-0 px-md-1",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"col-md-2 check-availablility mt-sm-2 mt-md-0"},[e("button",{staticClass:"btn btn-primary btn-block m-auto bold-2 check-availablility-button rounded",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.checkAvailabity()}}},[t._v("\n            Check availablitybnnbnbnb\n          ")])])])]),t._v(" "),t.propertyLoading||t.roomsAv.length?t._e():e("div",{staticClass:"name mt-1 rounded bg-white p-2",attrs:{id:""}},[e("div",{staticClass:"text-muted text-danger"},[t._v("\n        "+t._s(t.error_msg||"There are not available apartments for your search.")+"\n      ")])]),t._v(" "),e("div",{staticClass:"name mt-1 rounded p-2",class:{"header-filter":t.propertyLoading},attrs:{id:""}},[e("div",{staticClass:"position-relative"},[e("input",{attrs:{type:"hidden",name:"property_id",value:"217"}}),t._v(" "),t.roomsAv.length?[e("div",{staticClass:"row"},t._l(t.roomsAv,(function(n){return e("apartments",{key:n.id,attrs:{amenities:t.amenities,room:n,stays:t.stays,qty:t.qty},on:{reserve:t.reserve,qtyChange:t.getApartmentQuantity}})})),1)]:t._e()],2)])]),t._v(" "),t._m(0)])}),[function(){var t=this._self._c;return t("div",{staticClass:"modal-overlay"},[t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("p",[this._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus euismod ultrices velit, nec cursus ipsum\n          tincidunt ut.")])])])])}],!1,null,null,null).exports},2082:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const l={computed:a({},(0,i.Se)({properties:"properties",meta:"meta"})),methods:a(a({},(0,i.nv)({getProperties:"getProperties"})),{},{sortBy:function(t){var e=new URL(window.location);e.searchParams.set("sort_by",t.target.value),window.history.pushState({},"",e),this.getProperties(window.location)}})};const c=(0,n(1900).Z)(l,(function(){var t=this,e=t._self._c;return t.properties.length?e("div",{staticClass:"col-12 d-flex mb-3 justify-content-between"},[e("div",{staticClass:"bold text-gray"},[t._v(t._s(t.meta.total)+" properties found")]),t._v(" "),e("div",{staticClass:"d-flex justify-content-md-end align-items-center"},[e("div",{staticClass:"input-group border rounded w-auto bg-white mr-3"},[t._m(0),t._v(" "),e("select",{staticClass:"form-control border-0 bg-transparent sortby",attrs:{name:"sort_by",id:"sort_by","data-style":"bg-transparent border-0 font-weight-600 btn-lg pl-0 pr-3"},on:{change:function(e){return t.sortBy(e)}}},[e("option",{attrs:{value:""}},[t._v("Recommended")]),t._v(" "),e("option",{attrs:{value:"price,asc "}},[t._v("Price(low to high)")]),t._v(" "),e("option",{attrs:{value:"price,desc"}},[t._v("Price(high to low)")])])])])]):t._e()}),[function(){var t=this._self._c;return t("label",{staticClass:"input-group-text bg-transparent border-0 pr-1 pl-3",attrs:{for:"inputGroupSelect01"}},[t("i",{staticClass:"fas fa-align-left fs-16 pr-2"}),this._v("Sortby:")])}],!1,null,null,null).exports},5272:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const l={props:{property:Object},methods:a(a({},(0,i.nv)({saveProperty:"saveProperty"})),{},{favorite:function(t,e){this.saveProperty({property_id:e}).then((function(t){}))}})};const c=(0,n(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("a",{staticClass:"saved auth-form",attrs:{href:"#","data-id":t.property.id,"data-toggle":t.$root.loggedIn?"":"modal","data-target":t.$root.loggedIn?"":"#loadModal",title:"Wishlist","data-to":"login"},on:{click:function(e){return e.preventDefault(),t.favorite(e,t.property.id)}}},[e("svg",{class:[t.property.is_saved?"d-none":"","is_not_saved_"+t.property.id],attrs:{id:"saved-outline"}},[e("use",{attrs:{"xlink:href":"#favorites-outline"}})]),t._v(" "),e("svg",{class:[t.property.is_saved?"":"d-none","is_saved_"+t.property.id],attrs:{id:"saved-none-outline"}},[e("use",{attrs:{"xlink:href":"#favorites"}})])])}),[],!1,null,null,null).exports},9908:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var i=n(629),r=n(5179),s=n(6945),a=n.n(s),o=n(9711),l=n(7190);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const f={props:["reload","peak_period"],mixins:[r.Z],data:function(){return{guests:0,btnText:"Check availablity",isDisabled:!1,form:{room_quantity:[],selectedRooms:[],children:1,adults:1,rooms:1,check_in_checkout:null,checkin:null,checkout:null}}},components:{Pickr:a(),Guests:o.Z,DateRange:l.Z},computed:d({},(0,i.Se)({locationSearch:"locationSearch"})),mounted:function(){},methods:d(d({},(0,i.nv)({getProperties:"getProperties"})),{},{checkAvailabity:function(){this.search()}})};const p=(0,n(1900).Z)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container container light-background pb-4 pt-1 primary-border rounded shadow"},[e("h4",{staticClass:"primary-color ml-lg-1"},[t._v("BOOK YOUR STAY")]),t._v(" "),e("div",{staticClass:"form-row ml-lg-1"},[e("div",{staticClass:"orm-group form-border cursor-pointer search col-lg-3 col-md-5 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2 ml-4",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in")]),t._v(" "),e("date-range",{attrs:{check_in_date:1,placeholder:"Check-in"},on:{dateSelected:t.checkIn}})],1),t._v(" "),e("div",{staticClass:"orm-group ml-lg-1 form-border cursor-pointer search col-lg-3 col-md-5 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2 ml-4",attrs:{for:"flatpickr-input-f"}},[t._v("Check-out")]),t._v(" "),e("date-range",{attrs:{check_in_date:0,placeholder:"Check-out"},on:{dateSelected:t.checkOut}})],1),t._v(" "),e("div",{staticClass:"col-lg-4 col-md-4 cursor-pointer px-sm-0 px-md-1 mb-sm-2 mb-md-0",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"col-lg-1 col-md-3 col-12 check-availablility"},[e("button",{staticClass:"btn btn-primary w-auto btn-block m-auto w-xs-100 rounded bold check-availablility-button",attrs:{type:" button",disabled:t.isDisabled},on:{click:function(e){return e.preventDefault(),t.checkAvailabity()}}},[t._v("\n                "+t._s(t.btnText)+"\n            ")])])])])}),[],!1,null,null,null).exports},3129:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(6945),r=n.n(i),s=n(9669),a=n.n(s),o=n(7190);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const u={props:{apartment:Object,property:Object,nights:Array},data:function(){return{roomsAvailable:[],room:null,total:0,aps:0,totalRooms:0,apartment_bed_rooms:0,attrPrice:0,checkedAttr:[],guests:0,apQ:[],qty:!1,stays:null,propertyQty:[],text:"Check Availability",isDateAvailable:!1,loading:!1,propertyLoading:!1,isDateNeedsToToOpen:!1,form:{room_quantity:[],selectedRooms:[],children:null,adults:null,rooms:null,property_id:this.property.id,check_in_checkout:null}}},created:function(){this.stays=this.nights,this.room=this.apartment,this.text=this.stays[1]?"Reserving...":"Check availability"},components:{Pickr:r(),Date:o.Z},methods:{dateSelected:function(t){this.form.check_in_checkout=t},checkAvailabity:function(){var t=this;if(!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2)this.isDateNeedsToToOpen=!0;else{if(this.propertyLoading=!0,null!=this.stays[1]){var e,n=[];e=c({},this.apartment.id,1),n.push(e);var i={apartment_quantity:n,property_id:this.property.id,check_in_checkout:this.form.check_in_checkout};return this.propertyLoading=!0,void a().post("/book/store",i).then((function(t){document.querySelector("#single-form").submit()})).catch((function(t){alert("We could not make your reservation.Please try again later")}))}a().post("/check/apartment/availablility",this.form).then((function(e){t.roomsAv=e.data.data,t.stays=e.data.nights,t.propertyLoading=!1,t.text="Reserve"})).catch((function(t){}))}}}};const d=(0,n(1900).Z)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"name rounded mt-1 bg-white",class:{"header-filter":t.propertyLoading}},[e("div",{staticClass:"card-body"},[e("form",{attrs:{id:"single-form",action:"/book/"+t.property.slug,method:"GET"}},[e("input",{attrs:{type:"hidden",name:"apartment_quantity["+t.room.uuid+"]",id:"qty"}}),t._v(" "),e("div",{staticClass:"d-flex pb-3 border-bottom mb-3 justify-content-between"},[t.room.discounted_price?[e("div",{staticClass:"d-none d-lg-block"},[e("div",[e("del",[t._v(t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.converted_price)))])]),t._v(" "),e("span",[t._v(t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.discounted_price)))]),e("span",[t._v(" per night")])]),t._v(" "),e("div",[t._v(t._s(t.room.percentage_off)+"% off")])]:[e("div",{staticClass:"bold price"},[t._v("\n            "+t._s(t.room.currency)+t._s(t._f("priceFormat")(t.room.converted_price))+"\n          ")])]],2),t._v(" "),t.room.property.is_refundable?e("div",{staticClass:"mb-3 text-size-1 text-danger"},[e("i",{staticClass:"fas fa-info-circle text-danger mr-2"}),t._v("Non - refundable\n      ")]):t._e(),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"form-row mt-2"},[!t.propertyLoading&&t.room.reservation_id?e("div",{staticClass:"text-danger mb-2"},[t._v("\n          This property is not available for your selected date. Try changing\n          your dates\n        ")]):t._e(),t._v(" "),e("div",{staticClass:"form-group ml-1 form-border cursor-pointer search col-md-12 bmd-form-group"},[e("label",{staticClass:"pl-2",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in - Check-out")]),t._v(" "),e("date",{attrs:{isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.dateSelected}})],1)]),t._v(" "),e("div",[e("ul",{staticClass:"list-unstyled mb-0 p-2"},[e("li",{staticClass:"d-flex justify-content-between mb-2 lh-22"},[t.stays?e("p",{staticClass:"text-gray-light mb-0"},[t._v("\n              "+t._s(t.stays[0]||0)+" "+t._s(t.stays[1]||"night")+"\n            ")]):t._e(),t._v(" "),t.stays?t._e():e("p",[t._v("Choose dates")]),t._v(" "),e("p",{staticClass:"bold text-heading mb-0"},[t._v("\n              "+t._s(t.room.currency)+t._s(parseInt(t.stays[0]||0)*t.room.display_price)+"\n            ")])]),t._v(" "),t._m(1)])]),t._v(" "),e("div",{staticClass:"card-footer pt-4 bg-transparent d-flex justify-content-between p-0 align-items-center"},[e("p",{staticClass:"text-heading mb-0"},[t._v("Total Price:")]),t._v(" "),e("span",{staticClass:"fs-32 bold price text-heading total-price"},[t._v(t._s(t.room.currency)+t._s(t.room.display_price*parseInt(t.stays[0]||0)))])]),t._v(" "),e("button",{staticClass:"btn btn-primary btn-round mt-3 btn-block",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.checkAvailabity()}}},[t.propertyLoading?e("div",{staticClass:"auth-spinner"},[t._m(2)]):t._e(),t._v(" "),t.propertyLoading?t._e():e("span",{staticClass:"lt bold text-white"},[t._v(t._s(t.text))])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"text-gold text-size-2"},[t("i",{staticClass:"fas fa-info-circle mr-2 mb-3 text-gold"}),this._v("Instant\n        Confirmation\n      ")])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"d-flex justify-content-between mb-2 lh-22"},[e("p",{staticClass:"text-gray-light mb-0"},[t._v("Apartment(s)")]),t._v(" "),e("p",{staticClass:"bold text-heading mb-0"},[t._v("1")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"lds-ellipsis"},[e("div",{staticStyle:{background:"rgb(255, 255, 255)"}}),t._v(" "),e("div",{staticStyle:{background:"rgb(255, 255, 255)"}}),t._v(" "),e("div",{staticStyle:{background:"rgb(255, 255, 255)"}}),t._v(" "),e("div",{staticStyle:{background:"rgb(255, 255, 255)"}})])}],!1,null,null,null).exports},8294:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(629),r=n(9669),s=n.n(r);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const c={props:["reload"],data:function(){return{guests:0,categories:[],locations:[],properties:[],open:!1,q:null,form:{room_quantity:[],selectedRooms:[]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,i.Se)({locationSearch:"locationSearch"})),created:function(){window.addEventListener("click",this.close)},beforeDestroy:function(){window.removeEventListener("click",this.close)},methods:{getAutocomplete:function(){var t=this;s().get("/auto-complete?q="+this.q).then((function(e){t.open=!0,t.categories=e.data.categories,t.locations=e.data.locations,t.properties=e.data.properties})).catch((function(t){console.log(t)}))},close:function(t){this.$el.contains(t.target)||(this.open=!1)}}};const u=(0,n(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("form",{attrs:{method:"GET",action:"/property/search"}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group form-border search col-md-12 bmd-form-group m-0"},[e("div",{staticClass:"input-group input-group-lg"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"form-control date-range cursor-pointer ml-2 text-size-1 location-search",attrs:{placeholder:"Search......",name:"q",autocomplete:"off"},domProps:{value:t.q},on:{input:[function(e){e.target.composing||(t.q=e.target.value)},function(e){return t.getAutocomplete()}]}})])]),t._v(" "),t.open?e("div",{staticClass:"auto-complete rounded col-md-10 position-absolute"},[e("div",{staticClass:"auto-complete-dropdown-list"},[t._l(t.categories,(function(n){return e("div",{key:n.id,staticClass:"auto-complete-dropdown-items text-size-1 cursor-pointer mb-2"},[e("a",{staticClass:"text-gray",attrs:{href:"/properties/"+n.slug}},[t._v(t._s(n.name))])])})),t._v(" "),t._l(t.locations,(function(n){return e("div",{key:n.id,staticClass:"auto-complete-dropdown-items text-size-1 cursor-pointer mb-2"},[e("a",{staticClass:"text-gray",attrs:{href:"/properties/location/"+n.slug}},[t._v("Properties in "+t._s(n.name))])])})),t._v(" "),t._l(t.properties,(function(n){return e("div",{key:n.id,staticClass:"auto-complete-dropdown-items text-size-1 cursor-pointer mb-2"},[e("a",{staticClass:"text-gray",attrs:{href:"/property/"+n.slug}},[t._v(t._s(n.name))])])}))],2)]):t._e()])])}),[function(){var t=this._self._c;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text",attrs:{id:""}},[t("i",{staticClass:"fal fa-search"})])])}],!1,null,null,null).exports},9130:(t,e,n)=>{"use strict";n.d(e,{Z:()=>N});var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const l={data:function(){return{email:"",password:"",loading:!1,redirect:!1}},created:function(){console.log(34)},computed:a({},(0,i.Se)({errors:"errors",loggedIn:"loggedIn"})),methods:a(a({},(0,i.nv)({login:"login",validateForm:"validateForm",clearErrors:"clearErrors",checkInput:"checkInput"})),{},{authenticate:function(){var t=this;this.loading=!0,this.login({email:this.email,password:this.password,redirect:!1,context:this}).catch((function(e){t.loading=!1,t.errors=e.response.data.error||e.response.data.errors}))}})};var c=n(1900);const u=(0,c.Z)(l,(function(){var t=this,e=t._self._c;return t.$root.loggedIn||t.loggedIn?t._e():e("form",{staticClass:"mb-5",on:{submit:function(e){return e.preventDefault(),t.authenticate.apply(null,arguments)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"lEmail"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control required",attrs:{type:"email",id:"lEmail",placeholder:"Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t.errors.email?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.email)))])]):t._e()]),t._v(" "),t.errors.length?e("p",{staticClass:"text-danger bold"},[t._v("\n      Email/Password not found\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"lPassword"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control required",attrs:{type:"password",id:"lPassword",placeholder:"Password",name:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-block btn-primary",class:{disabled:t.loading},attrs:{type:"submit"}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n        Login\n      ")])])])])}),[],!1,null,null,null).exports;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const m={data:function(){return{loading:!1,errorsBag:[],form:{email:"",password:"",first_name:null,last_name:null,password_confirmation:null,phone_number:null}}},computed:f({},(0,i.Se)({errors:"errors",showForm:"showForm",loggedIn:"loggedIn",edit:"edit"})),created:function(){this.$root.loggedIn&&(this.form.first_name=this.$root.user.name,this.form.last_name=this.$root.user.last_name,this.form.email=this.$root.user.email,this.form.phone_number=this.$root.user.phone_number)},methods:f(f({},(0,i.nv)({register:"register",validateForm:"validateForm",clearErrors:"clearErrors",checkInput:"checkInput",updateProfile:"updateProfile",registerGuest:"registerGuest"})),{},{formatError:function(t){return Array.isArray(t)?t[0]:t},cancelForm:function(){this.$store.commit("setShowForm",!1),this.$store.commit("setEditMode",!1)},removeError:function(t){var e=document.querySelectorAll(".required");void 0!==e&&this.clearErrors({context:this,input:e})},vInput:function(t){void 0!==document.querySelectorAll(".required")&&this.checkInput({context:this,email:this.form.email,input:t})},submit:function(){var t=this;document.querySelectorAll(".required");this.loading=!0,this.form.password||this.edit?this.edit?this.updateProfile({form:this.form,id:this.$root.user.id,context:this}).then((function(){t.loading=!1})):this.register({context:this}):this.registerGuest({form:this.form,context:this}).then((function(){t.loading=!1}))}})};const g=(0,c.Z)(m,(function(){var t=this,e=t._self._c;return t.showForm?e("div",[t.edit?t._e():e("div",{staticClass:"class"},[t._v("Or")]),t._v(" "),e("form",{attrs:{method:"POST",action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t.errors.general?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.general)))])]):t._e(),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"First_Name"}},[t._v("First Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"form-control required",class:{"has-danger":t.errors.last_name},attrs:{type:"text",id:"First_Name",placeholder:"First Name",name:"first_name"},domProps:{value:t.form.first_name},on:{input:[function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.last_name?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.first_name)))])]):t._e()]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"Last_Name"}},[t._v("Last Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"form-control required",class:{"has-danger":t.errors.last_name},attrs:{type:"text",id:"Last_Name",placeholder:"Last Name",name:"last_name"},domProps:{value:t.form.last_name},on:{input:[function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.last_name?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.last_name)))])]):t._e()])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"Email"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control required",class:{"has-danger":t.errors.email},attrs:{type:"email",id:"Email",placeholder:"Email",value:"",name:"email"},domProps:{value:t.form.email},on:{input:[function(e){e.target.composing||t.$set(t.form,"email",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.email?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.email)))])]):t._e()]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"Phone"}},[t._v("Phone Number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone_number,expression:"form.phone_number"}],staticClass:"form-control required",class:{"has-danger":t.errors.phone_number},attrs:{type:"text",id:"Phone",placeholder:"Phone Number",value:"",name:"phone_number"},domProps:{value:t.form.phone_number},on:{input:[function(e){e.target.composing||t.$set(t.form,"phone_number",e.target.value)},function(e){return t.removeError(e)}],blur:function(e){return t.vInput(e)}}}),t._v(" "),t.errors.phone_number?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.phone_number)))])]):t._e()])]),t._v(" "),t.edit?t._e():e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"Password"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"Password",placeholder:"Password",value:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.errors.password?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.password)))])]):t._e()]),t._v(" "),t.edit?t._e():e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"Confirm_Password"}},[t._v("Confirm Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control required",attrs:{type:"password",id:"Confirm_Password",placeholder:"Confirm Password",value:"",name:"password_confirmation"},domProps:{value:t.form.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.form,"password_confirmation",e.target.value)}}}),t._v(" "),t.errors.password_confirmation?e("span",[e("small",{staticClass:"text-danger"},[t._v(t._s(t.formatError(t.errors.password_confirmation)))])]):t._e()])]),t._v(" "),e("div",{staticClass:"form-row justify-content-end"},[t.edit?e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.cancelForm.apply(null,arguments)}}},[t._v("\n          Cancel\n        ")])]):t._e(),t._v(" "),e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-block btn-primary",class:{disabled:t.loading},attrs:{type:"submit"}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n          Save & Continue\n        ")])])])])]):t._e()}),[],!1,null,null,null).exports;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==v(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const _={data:function(){return{loading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,i.Se)({loggedIn:"loggedIn",showForm:"showForm",user:"user",edit:"edit"})),formatError:function(t){return Array.isArray(t)?t[0]:t},methods:{editProfile:function(){this.$store.commit("setShowForm",!0),this.$store.commit("setEditMode",!0)}}};function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==E(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===E(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const k={data:function(){return{email:"",password:"",loading:!1,redirect:!1}},components:{Login:u,Register:g,Profile:(0,c.Z)(_,(function(){var t=this,e=t._self._c;return t.showForm?t._e():e("div",{staticClass:"border p-3"},[e("h4",{staticClass:"text-heading fs-22 font-weight-500 lh-15"}),t._v(" "),t.user?e("ul",{staticClass:"list-unstyled"},[e("li",{staticClass:"lh-22"},[e("p",{staticClass:"text-gray-light mb-0"},[t._v("\n        "+t._s(t.user.name)+"\n        "+t._s(t.user.last_name)+"\n      ")])]),t._v(" "),e("li",{staticClass:"lh-22"},[e("p",{staticClass:"text-gray-light mb-0"},[t._v(t._s(t.user.email))])]),t._v(" "),e("li",{staticClass:"lh-22"},[e("p",{staticClass:"text-gray-light mb-0"},[t._v("\n        "+t._s(t.user.phone_number)+"\n      ")])])]):t.$root.user?e("ul",{staticClass:"list-unstyled"},[e("li",{staticClass:"lh-22"},[e("p",{staticClass:"text-gray-light mb-0"},[t._v("\n        "+t._s(t.$root.user.name||t.user.name)+"\n        "+t._s(t.$root.user.last_name||t.user.last_name)+"\n      ")])]),t._v(" "),e("li",{staticClass:"lh-22"},[e("p",{staticClass:"text-gray-light mb-0"},[t._v(t._s(t.$root.user.email||t.user.email))])]),t._v(" "),e("li",{staticClass:"lh-22"},[e("p",{staticClass:"text-gray-light mb-0"},[t._v("\n        "+t._s(t.$root.user.phone_number||t.user.phone_number)+"\n      ")])])]):t._e(),t._v(" "),e("p",[e("a",{staticClass:"ml-0 mr-4 color--primary bold",attrs:{"data-placement":"left",href:"#"},on:{click:function(e){return e.preventDefault(),t.editProfile.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-edit"}),t._v(" Edit\n    ")])])])}),[],!1,null,null,null).exports},computed:T({},(0,i.Se)({errors:"errors",loggedIn:"loggedIn"})),formatError:function(t){return Array.isArray(t)?t[0]:t},methods:T(T({},(0,i.nv)({login:"login"})),{},{editProfile:function(t){var e=this.addresses[t];this.form.first_name=e.first_name,this.form.last_name=e.last_name,this.form.email=e.email,this.form.phone_number=e.phone_number,this.form.address=e.address,this.form.city=e.city,this.form.postal_code=e.postal_code,this.form.country_id=e.country_id;this.getState(e.country_id),this.form.state_id=e.state_id,this.edit=!0,this.address_id=e.id,this.$store.commit("setShowForm",!0)},authenticate:function(){var t=this;this.loading=!0,this.login({email:this.email,password:this.password,redirect:!1,context:this}).catch((function(e){t.loading=!1,t.errors=e.response.data.error||e.response.data.errors}))}})};const C=(0,c.Z)(k,(function(){var t=this,e=t._self._c;return e("section",{},[e("login"),t._v(" "),e("register"),t._v(" "),e("profile")],1)}),[],!1,null,null,null).exports;const x={props:["apartments","booking_details"],data:function(){return{apartments_prop:[],form:{room_quantity:[],selectedRooms:[]}}},created:function(){},components:{},methods:{}};const A=(0,c.Z)(x,(function(){var t=this,e=t._self._c;return t.apartments.length?e("div",{staticClass:"rooms"},[e("div",{staticClass:"mb-3"},[t._l(t.apartments,(function(n){return e("div",{key:n.id,staticClass:"row no-gutters"},[e("div",{staticClass:"col-md-3 col-6"},[e("img",{staticClass:"img-fluid",attrs:{src:n.images[0].image_m,alt:n.name}})]),t._v(" "),e("div",{staticClass:"col-md-9 col-6"},[e("div",{staticClass:"card-body"},[e("h5",{},[t._v("\n            "+t._s(n.name||n.property.name)+"\n          ")]),t._v(" "),e("p",{staticClass:"fs-17 font-weight-bold text-heading mb-0 lh-16"},[t._v("\n            "+t._s(n.currency)+t._s(n.converted_price)+"\n            "),e("span",{staticClass:"fs-14 font-weight-500 text-gray-light"},[t._v(" /night")])]),t._v(" "),e("div",{staticClass:"card-text"},[e("small",{attrs:{href:""}},[t._v(t._s(n.max_adults+n.max_children)+"\n              Guests,\n              "+t._s(n.no_of_rooms)+" bedroom")])]),t._v(" "),e("div",{staticClass:"facility"}),t._v(" "),t._m(0,!0)])])])})),t._v(" "),e("div",{staticClass:"row no-gutters"},[t._m(1),t._v(" "),e("div",{staticClass:"col-8"},[e("span",{},[t._v(" "+t._s(t.booking_details.from)+" ")])]),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"col-8"},[e("span",{},[t._v(" "+t._s(t.booking_details.to)+" ")])]),t._v(" "),e("hr")])],2)]):t._e()}),[function(){var t=this._self._c;return t("div",{},[t("div",[this._v("Includes")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-3"},[t("div",[this._v("Check-in")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-3"},[t("div",[this._v("Check-out")])])}],!1,null,null,null).exports;var I=n(9669),D=n.n(I);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){R(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==L(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===L(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const M={props:["apartments","booking_details"],data:function(){return{scriptLoaded:null,paymentIsComplete:!1,submiting:!1,coupon_code:null,coupon:null,amount:0,payment_method:null,coupon_error:null,voucher:[],order_text:null,error:null}},computed:O({},(0,i.Se)({user:"user",userType:"userType"})),created:function(){var t=this;this.scriptLoaded=new Promise((function(e){t.loadScript((function(){e()}))})),this.$root.loggedIn?(this.$store.commit("setShowForm",!1),this.$store.commit("setUser",this.$root.user),this.$store.commit("setEditMode",!0),this.$store.commit("setUserType","registered")):this.$store.commit("setShowForm",!0)},components:{LoginRegister:C,CartIndex:A},methods:O(O({},(0,i.nv)({applyVoucher:"applyVoucher"})),{},{loadScript:function(t){var e=document.createElement("script");e.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(e),e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()}},applyCoupon:function(){var t=this;if(!this.coupon)return this.coupon_error="Enter a coupon code",void setTimeout((function(){t.error=null}),2e3);this.coupon_code=this.coupon,this.coupon_error=null,this.submiting=!0,D().post("/book/coupon",{coupon:this.coupon,total:this.booking_details.total}).then((function(e){t.submiting=!1,t.coupon="",t.voucher.push(e.data),t.amount=parseInt(e.data.sub_total)})).catch((function(e){t.submiting=!1,t.coupon_error=e.response.data.error,e.response.status&&(t.submiting=!1)}))},payWithPaystack:function(){this.amount=0!=this.amount?this.amount:this.booking_details.total;var t=this;this.payment_method="card",PaystackPop.setup({key:"pk_test_c5b3db1649d534eec8ab6a35ed696ad624e3070a",email:t.user.email,amount:100*t.amount,currency:"NGN",first_name:t.user.name,metadata:{custom_fields:[{user_type:t.userType,coupon:t.coupon_code,user_id:t.user.id,total:t.amount,currency:t.booking_details.currency,apartment_quantity:t.booking_details.apartment_quantity,range:t.booking_details.date_range,property_id:t.booking_details.property_id}]},callback:function(e){var n=this;D().post("/webhook/payment",{user_type:t.userType,coupon:t.coupon_code,user_id:t.user.id,total:t.amount,currency:t.booking_details.currency,apartment_quantity:t.booking_details.apartment_quantity,range:t.booking_details.date_range,property_id:t.booking_details.property_id}).then((function(t){n.submiting=!1,console.log(t.data)})).catch((function(t){n.submiting=!1})),"success"==e.status?t.paymentIsComplete=!0:(this.error="We could not complete your payment",t.order_text="Make Payment")},onClose:function(){t.order_text="Make Payment",t.payment_is_processing=!1}}).openIframe()}})};const N=(0,c.Z)(M,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"row align-items-start"},[e("div",{staticClass:"col-md-6"},[e("h1",[t._v("Your Details")]),t._v(" "),e("login-register"),t._v(" "),e("div",{staticClass:"bg--light mt-3"},[t._m(0),t._v(" "),e("cart-index",{attrs:{apartments:t.apartments,booking_details:t.booking_details}}),t._v(" "),e("div",{staticClass:"input-group mb-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon,expression:"coupon"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Have a coupon? Enter here","aria-label":"coupon","aria-describedby":"coupon"},domProps:{value:t.coupon},on:{input:function(e){e.target.composing||(t.coupon=e.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.applyCoupon.apply(null,arguments)}}},[t.submiting?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n              Apply Coupon\n            ")])])]),t._v(" "),t.coupon_error?e("div",{staticClass:"text-capitalize bold text-danger"},[t._v("\n          "+t._s(t.coupon_error)+"\n        ")]):t._e(),t._v(" "),e("div",{staticClass:"card-footer bg-transparent d-flex justify-content-between p-0 align-items-center"},[e("p",{staticClass:"text-heading mb-0"},[t._v("Total Price:")]),t._v(" "),t.voucher.length?[e("span",[e("span",{staticClass:"fs-32 font-weight-bold text-heading"},[t._v("\n                "+t._s(t.booking_details.currency)+t._s(t.amount)+"\n                "),e("del",[t._v(t._s(t.booking_details.currency)+t._s(t.booking_details.total))])]),t._v(" "),e("p",{staticClass:"retail-title"},[t._v(t._s(t.voucher[0].percent))])])]:[e("span",{staticClass:"fs-32 font-weight-bold text-heading"},[t._v(t._s(t.booking_details.currency)+t._s(t.booking_details.total))])]],2),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"buuton"},on:{click:t.payWithPaystack}},[t._v("\n              Make Payment\n            ")])])])],1)],1),t._v(" "),e("div",{staticClass:"col-md-6 d-none d-lg-block"},[e("h1",{staticClass:"bold"},[t._v("Your booking details")]),t._v(" "),e("cart-index",{attrs:{apartments:t.apartments,booking_details:t.booking_details}})],1)])])}),[function(){var t=this,e=t._self._c;return e("div",{},[e("span",{staticClass:"float-right"},[e("div",{staticClass:"payment-icons mt-1 d-flex"},[e("div",{staticClass:"payment-image ms mr-3"},[e("img",{attrs:{width:"50",height:"50",src:"/img/business.png",alt:"make payment with mastercard"}})]),t._v(" "),e("div",{staticClass:"payment-image mr-3"},[e("img",{attrs:{width:"50",height:"50",src:"/img/visa-card-ohram.png",alt:"make payment with mastercard"}})]),t._v(" "),e("div",{staticClass:"payment-image"},[e("img",{attrs:{src:"/img/Verve.png",width:"50",height:"50",alt:"make payment with mastercard"}})])])]),t._v(" "),e("h3",[t._v("2. PAYMENT")])])}],!1,null,null,null).exports},9120:(t,e,n)=>{"use strict";n.d(e,{Z:()=>T});var i,r=n(9711),s=n(3526),a=n(7190),o=n(6945),l=n.n(o),c=n(2529),u=n.n(c),d=(n(2820),n(9669)),h=n.n(d);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function g(t,e,n){return(e=v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}const y={mixins:[n(5179).Z],props:{apartment:Object,property:Object,propertys_not_available:Array,nights:Array,amenities:Array,isAgent:Boolean,filter:{type:Number,default:1},showReserve:Number,gallery:Number,peak_period:{type:Object,default:{}}},data:function(){var t;return g(t={settings:{arrows:!0,fade:!0,swipe:!0,touchMove:!0},roomsAv:{},roomsIsAv:null,apartmentIsAvailable:[],total:0,aps:0,apTotal:0,attrPrice:0,guests:0,amount:0,apQ:[],qty:!1,stays:null,loading:!1,highlights:[],propertyLoading:!1,propertyIsLoading:!1,isDateNeedsToToOpen:!1,singleApartmentIsChecked:!1,singleApartmentIsAvailable:!1,apartment_facilities:null,error_msg:null,showModal:!1},"apartmentIsAvailable",!1),g(t,"apartmentIsChecked",!1),g(t,"loading",!1),g(t,"classType",["col-lg-3 col-md-4 col-12"]),g(t,"message","LKNL"),g(t,"title","LM;;"),g(t,"showImageModal",!1),g(t,"apartment_id",null),g(t,"room",{}),g(t,"form",{room_quantity:[],selectedRooms:[],children:1,adults:1,rooms:1,check_in_checkout:null,checkin:null,checkout:null,property_id:this.property.id}),t},mounted:function(){document.getElementById("full-bg")&&document.getElementById("full-bg").remove(),jQuery((function(){$(".sm-flexslider").flexslider({animation:"slide",controlNav:"thumbnails"})}));var t=localStorage.getItem("searchParams");if(null!==t){var e=JSON.parse(t);this.form.checkin=e.checkin,this.form.checkout=e.checkout}jQuery((function(){$(".owl-carousel").owlCarousel({margin:0,dots:!0,nav:!0,loop:!0,navText:['<div class="nav-btn prev-slide d-flex justify-content-center align-items-center mr-1"><svg  viewBox="0 0 21 40" xmlns="http://www.w3.org/2000/svg"><path d="M19.9 40L1.3 20 19.9 0"  fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>','<div class="nav-btn next-slide d-flex justify-content-center align-items-center ml-1"><svg  viewBox="0 0 19 40" xmlns="http://www.w3.org/2000/svg"><path d="M.1 0l18.6 20L.1 40"  fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>'],responsive:{0:{items:1},850:{items:1},1e3:{items:1}}})}));var n=document.getElementById("sm-main-banner");n&&n.querySelectorAll(".d-none").forEach((function(t){t.classList.remove("d-none")}));this.roomsAv=this.apartment,this.filter?this.classType=["col-12 col-lg-4 col-md-6"]:(this.classType=["col-12 col-lg-3 col-md-6"],this.roomsAv=this.apartments),null!==t&&this.showAvailability()},components:{Pickr:l(),Guests:r.Z,Date:a.Z,VueSlickCarousel:u(),Apartment:s.Z},methods:(i={checkIn:function(t){this.form.checkin=t},checkOut:function(t){this.form.checkout=t},parseStringToArray:function(t){return t.split(",")},showImages:function(t){this.showImageModal=!this.showImageModal,this.room=t},showRoom:function(t){this.showModal=!this.showModal,this.room=t,this.groupData(t),this.highlights=this.parseStringToArray(t.teaser),jQuery((function(){$(".custom-iframe").on("touchstart",(function(t){var e=t.touches[0].clientX;$(this).on("touchmove",(function(t){var n=t.touches[0].clientX-e;Math.abs(n)>50&&(n>0?$(".owl-carousel").trigger("prev.owl.carousel"):$(".owl-carousel").trigger("next.owl.carousel"),$(this).off("touchmove"))})),$(this).on("touchend",(function(){$(this).off("touchmove")}))})),$(".owl-carousel").owlCarousel({margin:0,nav:!0,dots:!0,navText:['<div class="nav-btn prev-slide d-flex z-index justify-content-center align-items-center mr-1"><svg  viewBox="0 0 21 40" xmlns="http://www.w3.org/2000/svg"><path d="M19.9 40L1.3 20 19.9 0"  fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>','<div class="nav-btn next-slide d-flex z-index justify-content-center align-items-center ml-1"><svg  viewBox="0 0 19 40" xmlns="http://www.w3.org/2000/svg"><path d="M.1 0l18.6 20L.1 40"  fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>'],responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}))},openModal:function(){this.showModal=!0,document.body.style.overflow="hidden",document.body.addEventListener("click",this.clickOutsideHandler)},closeModal:function(){this.showModal=!1,document.body.style.overflow="",document.body.removeEventListener("click",this.clickOutsideHandler)},openImageModal:function(){this.showImageModal=!0,document.body.style.overflow="hidden",document.body.addEventListener("click",this.clickOutsideHandler)},closeImageModal:function(){this.showImageModal=!1,document.body.style.overflow="",document.body.removeEventListener("click",this.clickOutsideHandler)},clickOutsideHandler:function(t){this.$refs.modal.contains(t.target)||this.closeModal(),document.body.style.overflow=""},dateSelected:function(t){this.form.check_in_checkout=t},parseDateRange:function(t){var e=p(t.split(" to "),2),n=e[0],i=e[1];return{startDate:new a.Z(n),endDate:new a.Z(i)}},getQueryParam:function(t){var e=window.location.search;return{key:t,value:new URLSearchParams(e).get(t)}},groupData:function(t){this.apartment_facilities=t.apartment_facilities.reduce((function(t,e){var n=e.parent.name;return t[n]||(t[n]=[]),t[n].push(e),t}),{})},handleAvailabity:function(){this.roomsIsAv=null,this.showAvailability()},showAvailability:function(){var t=this;this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout,this.form.persons=document.querySelector("#persons").value,this.form.rooms=document.querySelector("#rooms").value;var e=(new window.Date).getTime(),n={rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,checkin:this.form.checkin,checkout:this.form.checkout,persons:this.form.persons,expiry:e+36e5,apartment_id:this.apartment.id},i="searchParams",r=JSON.stringify(n);localStorage.getItem(i);if(localStorage.setItem(i,r),!this.form.check_in_checkout||this.form.check_in_checkout.split(" ").length<2)alert("Please select your check-in and check-out dates");else if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{var s=this.peak_period,a=s.start_date,o=s.end_date,l=s.days_limit;if(!this.validateBooking())return this.apartmentIsChecked=!1,alert("Bookings from ".concat(a.split("T")[0]," to ").concat(o.split("T")[0]," require a minimum stay of ").concat(l," days.")),!1;this.propertyIsLoading=!0,h().get("/apartments",{params:{rooms:this.form.rooms,check_in_checkout:this.form.check_in_checkout,children:this.form.children,adults:this.form.adults,apartment_id:this.apartment.id}}).then((function(e){t.roomsIsAv=e.data.apartments,t.apartmentIsChecked=!0,null!==e.data.apartments&&(t.roomsAv=e.data.apartments),t.propertyIsLoading=!1})).catch((function(e){t.propertyIsLoading=!1}))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")}},g(i,"checkIn",(function(t){this.form.checkin=t})),g(i,"checkOut",(function(t){this.form.checkout=t})),g(i,"check",(function(t){var e=document.querySelectorAll('[name="extra_services[]"]'),n=[];e.forEach((function(t,e){t.checked&&n.push(t.dataset.price)})),this.attrPrice=this.sum(n)})),g(i,"sum",(function(t){return t.reduce((function(t,e){return parseInt(t)+parseInt(e)}),0)})),g(i,"getApartmentQuantity",(function(t){var e=t.total,n=t.aps;console.log(e,n),this.total=e,this.aps=n,this.apTotal=e,this.amount=this.apTotal})),g(i,"reserve",(function(t){var e=this,n=t.room;if(this.form.checkout||this.form.checkin)if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{document.querySelectorAll(".room-q");var i,r=[];i=g({},this.property.id,n.id),r.push(i),this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout;var s={apartment_quantity:r,propertyId:this.property.id,apID:n.id,check_in_checkout:this.form.check_in_checkout,apartment_id:t.id};this.propertyIsLoading=!0,this.apartment_id=t.room.id,h().post("/book/store",s).then((function(t){e.propertyLoading=!1,t.data?document.querySelector("#multiple-form").submit():(e.error_msg="It seems we could not further your request .Try a diffrent date.",e.roomsAv=[])})).catch((function(t){e.error_msg="It seems we could not further your request .Try a diffrent date."}))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")})),g(i,"reserveFromTop",(function(t){var e=this,n=this.apartment;if(this.form.checkout||this.form.checkin)if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{document.querySelectorAll(".room-q");var i,r=[];i=g({},this.property.id,n.id),r.push(i),this.form.check_in_checkout=this.form.checkin+" to "+this.form.checkout;var s={apartment_quantity:r,propertyId:this.property.id,apID:n.id,check_in_checkout:this.form.check_in_checkout,apartment_id:n.id};this.propertyIsLoading=!0,this.apartment_id=n.id,h().post("/book/store",s).then((function(t){e.propertyLoading=!1,t.data?document.querySelector("#multiple-form").submit():(e.error_msg="It seems we could not further your request .Try a diffrent date.",e.roomsAv=[])})).catch((function(t){e.error_msg="It seems we could not further your request .Try a diffrent date."}))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")})),g(i,"reserveSingle",(function(t){var e=this,n=t;if(this.form.check_in_checkout&&!(this.form.check_in_checkout.split(" ").length<2))if(this.isValidDate(this.form.checkin))if(this.isValidDate(this.form.checkout))if(this.isCheckinGreaterThanCheckout(this.form.checkin,this.form.checkout))alert("Set your check-in and check-out dates correctly");else{document.querySelectorAll(".room-q");var i,r=[];i=g({},this.property.id,n.id),r.push(i);var s={apartment_quantity:r,propertyId:this.property.id,apID:n.id,check_in_checkout:this.form.check_in_checkout};this.propertyIsLoading=!0,h().post("/book/store",s).then((function(t){e.propertyLoading=!1,t.data?document.querySelector("#single-form").submit():(e.error_msg="It seems we could not further your request .Try a diffrent date.",e.roomsAv=[])})).catch((function(t){e.error_msg="It seems we could not further your request .Try a diffrent date."}))}else alert("Please select your check-in and check-out dates");else alert("Please select your check-in and check-out dates")})),i)};var b=n(3379),_=n.n(b),E=n(1703),S={insert:"head",singleton:!1};_()(E.Z,S);E.Z.locals;const T=(0,n(1900).Z)(y,(function(){var t=this,e=t._self._c;return e("div",{},[e("form",{staticClass:"form-group",attrs:{id:"multiple-form",action:"/book/"+t.property.slug,method:"GET"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.$root.token}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"property_id"},domProps:{value:t.property.id}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"apartment_id"},domProps:{value:t.apartment_id}}),t._v(" "),t.filter?e("div",[e("h3",{staticClass:"bold-2"},[t._v("Check availablity "+t._s(t.apartment.name))]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group form-border cursor-pointer search col-md-3 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2",attrs:{for:"flatpickr-input-f"}},[t._v("Check-in")]),t._v(" "),e("date",{attrs:{check_in_date:1,placeholder:"Check-in",isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.checkIn}})],1),t._v(" "),e("div",{staticClass:"form-group ml-lg-1 form-border cursor-pointer search col-md-3 bmd-form-group mb-sm-2 mb-md-0"},[e("label",{staticClass:"pl-2",attrs:{for:"flatpickr-input-f"}},[t._v("Check-out")]),t._v(" "),e("date",{attrs:{check_in_date:0,placeholder:"Check-out",isDateNeedsToToOpen:t.isDateNeedsToToOpen},on:{dateSelected:t.checkOut}})],1),t._v(" "),e("div",{staticClass:"col-md-4 cursor-pointer px-sm-0 px-md-1 mb-sm-2 mb-md-0",attrs:{id:"people-number"}},[e("guests")],1),t._v(" "),e("div",{staticClass:"col-md-1 w-100 check-availablility"},[e("button",{staticClass:"btn btn-primary btn-block w-auto w-xs-100 m-auto bold-2 check-availablility-button rounded",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.handleAvailabity()}}},[t._v("\n                        Check availablity\n                    ")])])])]):t._e(),t._v(" "),t.roomsIsAv?e("div",{staticClass:"mt-3"},[e("div",{staticClass:"alert alert-success"},[t._v("\n                This apartment is available \n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary m-auto bold-2 rounded",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.reserveFromTop()}}},[t._v("\n                Click here to book\n            ")])]):t._e(),t._v(" "),e("div",[t.propertyIsLoading||!t.apartmentIsChecked||t.roomsIsAv?t._e():e("div",{staticClass:"name mt-1 rounded bg-white p-2",attrs:{id:""}},[e("div",{staticClass:"text-muted text-danger"},[t._v("\n                    "+t._s("This apartment is not available for your selected date.")+"\n\n                ")])])]),t._v(" "),e("div",{staticClass:"name mt-1 rounded p-2",attrs:{id:""}},[e("div",{staticClass:"position-relative"},[e("div",{staticClass:"row",class:{"header-filter":t.propertyIsLoading}},[e("apartment",{attrs:{showReserve:!1,classType:t.classType,amenities:t.amenities,room:t.roomsAv,stays:t.stays,qty:t.qty},on:{showImages:t.showImages,showRoom:t.showRoom,reserve:t.reserve}})],1)])])]),t._v(" "),e("transition",{attrs:{name:"modal-fade"}},[t.showModal?e("div",{staticClass:"modal-overlay d-flex",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal.apply(null,arguments)}}},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-content-header d-flex align-items-center p-3 mt-4 justify-content-between"},[e("h5",{staticClass:"modal-title",attrs:{id:""}},[t._v("Apartment Information")]),t._v(" "),e("a",{staticClass:"modal-close d-flex justify-content-center align-items-center",attrs:{href:"#",role:"button"},on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}},[e("svg",{attrs:{"aria-label":"Close, go back to hotel details.",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("title",{attrs:{id:"undefined-close-toolbar-title"}},[t._v("Close, go back to hotel details.")]),t._v(" "),e("path",{attrs:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}})])])]),t._v(" "),t.gallery?t._e():e("div",{staticClass:"modal-body quick-view"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 rounded"},[e("div",{staticClass:""},[e("VueSlickCarousel",t._b({attrs:{arrows:!0,dots:!0}},"VueSlickCarousel",t.settings,!1),[t.room.image?e("div",{staticClass:"item"},[e("img",{staticClass:"img room-image img-fluid rounded",attrs:{alt:t.room.name,title:"book "+t.room.name+"  Avenue Montaigne",src:t.room.image,itemprop:"contentUrl"}})]):t._e(),t._v(" "),t.room.images?t._l(t.room.images,(function(n,i){return e("div",{key:i,staticClass:"item"},[e("img",{staticClass:"img room-image img-fluid rounded",attrs:{src:n.image}}),t._v(" "),n.caption?e("div",{staticClass:"image-caption position-absolute"},[t._v("\n                                                    "+t._s(n.caption)+"\n                                                ")]):t._e()])})):t._e(),t._v(" "),t.room.google_drive_video_link?e("div",{staticClass:"item"},[e("iframe",{staticClass:"custom-iframe",staticStyle:{width:"100%"},attrs:{src:t.room.google_drive_video_link}})]):t._e()],2)],1),t._v(" "),e("div",{staticClass:"container p-0"},[e("h4",{staticClass:"primary-color"},[t._v(t._s(t.room.name))])]),t._v(" "),e("div",{staticClass:"card-title bold-2 text-size-1-big mt-lg-0 mt-sm-3"},[t._v("\n                                "+t._s(t.room.name)+"\n                            ")]),t._v(" "),e("div",{staticClass:"mb-5 bg-grey p-3 rounded"},[e("div",{staticClass:"d-flex"},[e("svg",{attrs:{"aria-describedby":"cleanliness-description",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("desc",{attrs:{id:"cleanliness-description"}},[t._v("cleanliness")]),t._v(" "),e("path",{attrs:{d:"M19.14 7.25 18 10l-1.14-2.86L14 6l2.86-1.14L18 2l1.14 2.86L22 6l-2.86 1.25zM11 10 9 4l-2 6-6 2 6 2 2 6 2-6 6-2-6-2zm4.5 10.5-1.5-1 1.5-1 1-1.5 1 1.5 1.5 1-1.5 1-1 1.5-1-1.5z"}})]),t._v(" "),e("h3",{},[t._v("Highlights")])]),t._v(" "),e("div",{},t._l(t.highlights,(function(n,i){return e("span",{key:i,staticClass:"ml-2"},[t._v("\n                                        "+t._s(n)+"\n                                    ")])})),0)]),t._v(" "),e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"position-relative mb-2"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#bedrooms-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.no_of_rooms)+" Bedrooms")])]),t._v(" "),e("div",{staticClass:"position-relative mb-2"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#bathroom-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.toilets)+" bathrooms")])]),t._v(" "),e("div",{staticClass:"position-relative mb-2"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#sleeps-icon"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.max_adults)+" Guests")])]),t._v(" "),e("div",{staticClass:"position-relative mb-1"},[e("span",{staticClass:"position-absolute svg-icon-section"},[e("svg",[e("use",{attrs:{"xlink:href":"#location_city"}})])]),t._v(" "),e("span",{staticClass:"svg-icon-text"},[t._v(t._s(t.room.floor)+" ")])])]),t._v(" "),e("div",{staticClass:"uitk-spacing uitk-spacing-margin-blockend-six"},[e("h3",{staticClass:"uitk-heading uitk-heading-5 uitk-spacing uitk-spacing-margin-blockend-six"},[t._v("\n                                    Apartment\n                                    amenities")]),t._v(" "),e("div",{staticClass:"row",attrs:{id:"apartment-fac"}},t._l(t.apartment_facilities,(function(n,i){return e("div",{key:i,staticClass:"col-md-6 margin-bottom-13rem"},[e("div",{staticClass:"d-flex align-items-center"},[e("svg",{staticClass:"uitk-icon uitk-layout-flex-item",attrs:{"aria-hidden":"true",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("path",{attrs:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}})]),t._v(" "),e("h4",{staticClass:"ml-2"},[t._v(t._s(i))])]),t._v(" "),e("div",{},[e("div",{},[e("ul",{attrs:{role:"list"}},t._l(n,(function(n){return e("li",{key:n.id,attrs:{role:"listitem"}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{},[t._v(" "+t._s(n.name)+"\n                                                        ")])])})),0)])])])})),0)])])])])])]):t._e()])],1)}),[],!1,null,"3968ebde",null).exports},1900:(t,e,n)=>{"use strict";function i(t,e,n,i,r,s,a,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,{Z:()=>i})},2529:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"00ee":function(t,e,n){var i={};i[n("b622")("toStringTag")]="z",t.exports="[object z]"===String(i)},"0366":function(t,e,n){var i=n("1c0b");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"0497":function(t,e){t.exports=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})).toLowerCase()}},"057f":function(t,e,n){var i=n("fc6a"),r=n("241c").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},"06cf":function(t,e,n){var i=n("83ab"),r=n("d1e7"),s=n("5c6c"),a=n("fc6a"),o=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=o(e,!0),c)try{return u(t,e)}catch(t){}if(l(t,e))return s(!r.f.call(t,e),t[e])}},"07ac":function(t,e,n){var i=n("23e7"),r=n("6f53").values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},"0cfb":function(t,e,n){var i=n("83ab"),r=n("d039"),s=n("cc12");t.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},1276:function(t,e,n){"use strict";var i=n("d784"),r=n("44e7"),s=n("825a"),a=n("1d80"),o=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),h=n("d039"),f=[].push,p=Math.min,m=4294967295,g=!h((function(){return!RegExp(m,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),s=void 0===n?m:n>>>0;if(0===s)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,s);for(var o,l,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,h+"g");(o=d.call(g,i))&&!((l=g.lastIndex)>p&&(u.push(i.slice(p,o.index)),o.length>1&&o.index<i.length&&f.apply(u,o.slice(1)),c=o[0].length,p=l,u.length>=s));)g.lastIndex===o.index&&g.lastIndex++;return p===i.length?!c&&g.test("")||u.push(""):u.push(i.slice(p)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),s=null==e?void 0:e[t];return void 0!==s?s.call(e,r,n):i.call(String(r),e,n)},function(t,r){var a=n(i,t,this,r,i!==e);if(a.done)return a.value;var d=s(t),h=String(this),f=o(d,RegExp),v=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),b=new f(g?d:"^(?:"+d.source+")",y),_=void 0===r?m:r>>>0;if(0===_)return[];if(0===h.length)return null===u(b,h)?[h]:[];for(var E=0,S=0,T=[];S<h.length;){b.lastIndex=g?S:0;var w,k=u(b,g?h:h.slice(S));if(null===k||(w=p(c(b.lastIndex+(g?0:S)),h.length))===E)S=l(h,S,v);else{if(T.push(h.slice(E,S)),T.length===_)return T;for(var C=1;C<=k.length-1;C++)if(T.push(k[C]),T.length===_)return T;S=E=w}}return T.push(h.slice(E)),T}]}),!g)},"13d5":function(t,e,n){"use strict";var i=n("23e7"),r=n("d58f").left,s=n("a640"),a=n("ae40"),o=s("reduce"),l=a("reduce",{1:0});i({target:"Array",proto:!0,forced:!o||!l},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var s=n.call(t,e);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"159b":function(t,e,n){var i=n("da84"),r=n("fdbc"),s=n("17c2"),a=n("9112");for(var o in r){var l=i[o],c=l&&l.prototype;if(c&&c.forEach!==s)try{a(c,"forEach",s)}catch(t){c.forEach=s}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,r=n("a640"),s=n("ae40"),a=r("forEach"),o=s("forEach");t.exports=a&&o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1be4":function(t,e,n){var i=n("d066");t.exports=i("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var i=n("b622")("iterator"),r=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var s={};s[i]=function(){return{next:function(){return{done:n=!0}}}},t(s)}catch(t){}return n}},"1d80":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,n){var i=n("d039"),r=n("b622"),s=n("2d00"),a=r("species");t.exports=function(t){return s>=51||!i((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"217d":function(t,e){t.exports={isFunction:function(t){return"function"==typeof t},isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},each:function(t,e){for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);}}},"23cb":function(t,e,n){var i=n("a691"),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},"23e7":function(t,e,n){var i=n("da84"),r=n("06cf").f,s=n("9112"),a=n("6eeb"),o=n("ce4e"),l=n("e893"),c=n("94ca");t.exports=function(t,e){var n,u,d,h,f,p=t.target,m=t.global,g=t.stat;if(n=m?i:g?i[p]||o(p,{}):(i[p]||{}).prototype)for(u in e){if(h=e[u],d=t.noTargetGet?(f=r(n,u))&&f.value:n[u],!c(m?u:p+(g?".":"#")+u,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(t.sham||d&&d.sham)&&s(h,"sham",!0),a(n,u,h,t)}}},"241c":function(t,e,n){var i=n("ca84"),r=n("7839").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},"25f0":function(t,e,n){"use strict";var i=n("6eeb"),r=n("825a"),s=n("d039"),a=n("ad6d"),o="toString",l=RegExp.prototype,c=l[o],u=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=o;(u||d)&&i(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in l)?a.call(t):n)}),{unsafe:!0})},"2d00":function(t,e,n){var i,r,s=n("da84"),a=n("342f"),o=s.process,l=o&&o.versions,c=l&&l.v8;c?r=(i=c.split("."))[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},"342f":function(t,e,n){var i=n("d066");t.exports=i("navigator","userAgent")||""},"35a1":function(t,e,n){var i=n("f5df"),r=n("3f8c"),s=n("b622")("iterator");t.exports=function(t){if(null!=t)return t[s]||t["@@iterator"]||r[i(t)]}},"37e8":function(t,e,n){var i=n("83ab"),r=n("9bf2"),s=n("825a"),a=n("df75");t.exports=i?Object.defineProperties:function(t,e){s(t);for(var n,i=a(e),o=i.length,l=0;o>l;)r.f(t,n=i[l++],e[n]);return t}},"3b81":function(t,e,n){},"3bbe":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,n){"use strict";var i=n("6547").charAt,r=n("69f3"),s=n("7dd0"),a="String Iterator",o=r.set,l=r.getterFor(a);s(String,"String",(function(t){o(this,{type:a,string:String(t),index:0})}),(function(){var t,e=l(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},4160:function(t,e,n){"use strict";var i=n("23e7"),r=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"428f":function(t,e,n){var i=n("da84");t.exports=i},"42a0":function(t,e){var n,i,r=9007199254740991,s="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",l=/^(?:0|[1-9]\d*)$/,c=Object.prototype,u=c.hasOwnProperty,d=c.toString,h=c.propertyIsEnumerable,f=(n=Object.keys,i=Object,function(t){return n(i(t))}),p=Math.max,m=!h.call({valueOf:1},"valueOf");function g(t,e){var n=E(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&S(t)}(t)&&u.call(t,"callee")&&(!h.call(t,"callee")||d.call(t)==s)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var a in t)!e&&!u.call(t,a)||r&&("length"==a||y(a,i))||n.push(a);return n}function v(t,e,n){var i=t[e];u.call(t,e)&&_(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function y(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}function b(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||c)}function _(t,e){return t===e||t!=t&&e!=e}var E=Array.isArray;function S(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=T(t)?d.call(t):"";return e==a||e==o}(t)}function T(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var w,k=(w=function(t,e){if(m||b(e)||S(e))!function(t,e,n,i){n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],o=i?i(n[a],t[a],a,n,t):void 0;v(n,a,void 0===o?t[a]:o)}}(e,function(t){return S(t)?g(t):function(t){if(!b(t))return f(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)u.call(e,n)&&v(t,n,e[n])},function(t,e){return e=p(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=p(n.length-e,0),s=Array(r);++i<r;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=s,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}((function(t,e){var n=-1,i=e.length,r=i>1?e[i-1]:void 0,s=i>2?e[2]:void 0;for(r=w.length>3&&"function"==typeof r?(i--,r):void 0,s&&function(t,e,n){if(!T(n))return!1;var i=typeof e;return!!("number"==i?S(n)&&y(e,n.length):"string"==i&&e in n)&&_(n[e],t)}(e[0],e[1],s)&&(r=i<3?void 0:r,i=1),t=Object(t);++n<i;){var a=e[n];a&&w(t,a,n,r)}return t})));t.exports=k},"44ad":function(t,e,n){var i=n("d039"),r=n("c6b6"),s="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?s.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var i=n("b622"),r=n("7c73"),s=n("9bf2"),a=i("unscopables"),o=Array.prototype;null==o[a]&&s.f(o,a,{configurable:!0,value:r(null)}),t.exports=function(t){o[a][t]=!0}},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),s=n("b622")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},"466d":function(t,e,n){"use strict";var i=n("d784"),r=n("825a"),s=n("50c4"),a=n("1d80"),o=n("8aa5"),l=n("14c3");i("match",1,(function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=r(t),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;for(var d,h=[],f=0;null!==(d=l(a,c));){var p=String(d[0]);h[f]=p,""===p&&(a.lastIndex=o(c,s(a.lastIndex),u)),f++}return 0===f?null:h}]}))},4840:function(t,e,n){var i=n("825a"),r=n("1c0b"),s=n("b622")("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[s])?e:r(n)}},4930:function(t,e,n){var i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"4d64":function(t,e,n){var i=n("fc6a"),r=n("50c4"),s=n("23cb"),a=function(t){return function(e,n,a){var o,l=i(e),c=r(l.length),u=s(a,c);if(t&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4de4":function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").filter,s=n("1dde"),a=n("ae40"),o=s("filter"),l=a("filter");i({target:"Array",proto:!0,forced:!o||!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var i=n("0366"),r=n("7b0b"),s=n("9bdd"),a=n("e95a"),o=n("50c4"),l=n("8418"),c=n("35a1");t.exports=function(t){var e,n,u,d,h,f,p=r(t),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,b=c(p),_=0;if(y&&(v=i(v,g>2?arguments[2]:void 0,2)),null==b||m==Array&&a(b))for(n=new m(e=o(p.length));e>_;_++)f=y?v(p[_],_):p[_],l(n,_,f);else for(h=(d=b.call(p)).next,n=new m;!(u=h.call(d)).done;_++)f=y?s(d,v,[u.value,_],!0):u.value,l(n,_,f);return n.length=_,n}},"50c4":function(t,e,n){var i=n("a691"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5692:function(t,e,n){var i=n("c430"),r=n("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var i=n("d066"),r=n("241c"),s=n("7418"),a=n("825a");t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=s.f;return n?e.concat(n(t)):e}},5899:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r="["+n("5899")+"]",s=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),o=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:o(1),end:o(2),trim:o(3)}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"60da":function(t,e,n){"use strict";var i=n("83ab"),r=n("d039"),s=n("df75"),a=n("7418"),o=n("d1e7"),l=n("7b0b"),c=n("44ad"),u=Object.assign,d=Object.defineProperty;t.exports=!u||r((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||s(u({},e)).join("")!=r}))?function(t,e){for(var n=l(t),r=arguments.length,u=1,d=a.f,h=o.f;r>u;)for(var f,p=c(arguments[u++]),m=d?s(p).concat(d(p)):s(p),g=m.length,v=0;g>v;)f=m[v++],i&&!h.call(p,f)||(n[f]=p[f]);return n}:u},6547:function(t,e,n){var i=n("a691"),r=n("1d80"),s=function(t){return function(e,n){var s,a,o=String(r(e)),l=i(n),c=o.length;return l<0||l>=c?t?"":void 0:(s=o.charCodeAt(l))<55296||s>56319||l+1===c||(a=o.charCodeAt(l+1))<56320||a>57343?t?o.charAt(l):s:t?o.slice(l,l+2):a-56320+(s-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},"65f0":function(t,e,n){var i=n("861d"),r=n("e8b5"),s=n("b622")("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[s])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"69f3":function(t,e,n){var i,r,s,a=n("7f9a"),o=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("f772"),h=n("d012"),f=o.WeakMap;if(a){var p=new f,m=p.get,g=p.has,v=p.set;i=function(t,e){return v.call(p,t,e),e},r=function(t){return m.call(p,t)||{}},s=function(t){return g.call(p,t)}}else{var y=d("state");h[y]=!0,i=function(t,e){return c(t,y,e),e},r=function(t){return u(t,y)?t[y]:{}},s=function(t){return u(t,y)}}t.exports={set:i,get:r,has:s,enforce:function(t){return s(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},"6dd8":function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function a(){n&&(n=!1,t()),i&&l()}function o(){s(a)}function l(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,e);r=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},u=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},d=v(0,0,0,0);function h(t){return parseFloat(t)||0}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+h(t["border-"+n+"-width"])}),0)}function p(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var i=u(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],s=t["padding-"+r];e[r]=h(s)}return e}(i),s=r.left+r.right,a=r.top+r.bottom,o=h(i.width),l=h(i.height);if("border-box"===i.boxSizing&&(Math.round(o+s)!==e&&(o-=f(i,"left","right")+s),Math.round(l+a)!==n&&(l-=f(i,"top","bottom")+a)),!function(t){return t===u(t).document.documentElement}(t)){var c=Math.round(o+s)-e,p=Math.round(l+a)-n;1!==Math.abs(c)&&(o-=c),1!==Math.abs(p)&&(l-=p)}return v(r.left,r.top,o,l)}var m="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof u(t).SVGGraphicsElement}:function(t){return t instanceof u(t).SVGElement&&"function"==typeof t.getBBox};function g(t){return i?m(t)?function(t){var e=t.getBBox();return v(0,0,e.width,e.height)}(t):p(t):d}function v(t,e,n,i){return{x:t,y:e,width:n,height:i}}var y=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=g(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,e){var n,i,r,s,a,o,l,u=(i=(n=e).x,r=n.y,s=n.width,a=n.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),c(l,{x:i,y:r,width:s,height:a,top:r,right:i+s,bottom:a+r,left:i}),l);c(this,{target:t,contentRect:u})},_=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new b(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),E="undefined"!=typeof WeakMap?new WeakMap:new n,S=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),i=new _(e,n,this);E.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){S.prototype[t]=function(){var e;return(e=E.get(this))[t].apply(e,arguments)}}));var T=void 0!==r.ResizeObserver?r.ResizeObserver:S;e.a=T}).call(this,n("c8ba"))},"6ea2":function(t,e,n){"use strict";var i=n("890c");n.n(i).a},"6eeb":function(t,e,n){var i=n("da84"),r=n("9112"),s=n("5135"),a=n("ce4e"),o=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(t.exports=function(t,e,n,o){var l=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,h=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||r(n,"name",e),u(n).source=d.join("string"==typeof e?e:"")),t!==i?(l?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:r(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||o(this)}))},"6f53":function(t,e,n){var i=n("83ab"),r=n("df75"),s=n("fc6a"),a=n("d1e7").f,o=function(t){return function(e){for(var n,o=s(e),l=r(o),c=l.length,u=0,d=[];c>u;)n=l[u++],i&&!a.call(o,n)||d.push(t?[n,o[n]]:o[n]);return d}};t.exports={entries:o(!0),values:o(!1)}},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var s,a;return r&&"function"==typeof(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&r(t,a),t}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var i=n("428f"),r=n("5135"),s=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||a(e,t,{value:s.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,n){var i=n("1d80");t.exports=function(t){return Object(i(t))}},"7c73":function(t,e,n){var i,r=n("825a"),s=n("37e8"),a=n("7839"),o=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d="prototype",h="script",f=u("IE_PROTO"),p=function(){},m=function(t){return"<"+h+">"+t+"</"+h+">"},g=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,n;g=i?function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):(e=c("iframe"),n="java"+h+":",e.style.display="none",l.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete g[d][a[r]];return g()};o[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[d]=r(t),n=new p,p[d]=null,n[f]=t):n=g(),void 0===e?n:s(n,e)}},"7dd0":function(t,e,n){"use strict";var i=n("23e7"),r=n("9ed3"),s=n("e163"),a=n("d2bb"),o=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),d=n("c430"),h=n("3f8c"),f=n("ae93"),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",y="values",b="entries",_=function(){return this};t.exports=function(t,e,n,u,f,E,S){r(n,e,u);var T,w,k,C=function(t){if(t===f&&L)return L;if(!m&&t in I)return I[t];switch(t){case v:case y:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},x=e+" Iterator",A=!1,I=t.prototype,D=I[g]||I["@@iterator"]||f&&I[f],L=!m&&D||C(f),P="Array"==e&&I.entries||D;if(P&&(T=s(P.call(new t)),p!==Object.prototype&&T.next&&(d||s(T)===p||(a?a(T,p):"function"!=typeof T[g]&&l(T,g,_)),o(T,x,!0,!0),d&&(h[x]=_))),f==y&&D&&D.name!==y&&(A=!0,L=function(){return D.call(this)}),d&&!S||I[g]===L||l(I,g,L),h[e]=L,f)if(w={values:C(y),keys:E?L:C(v),entries:C(b)},S)for(k in w)(m||A||!(k in I))&&c(I,k,w[k]);else i({target:e,proto:!0,forced:m||A},w);return w}},"7f9a":function(t,e,n){var i=n("da84"),r=n("8925"),s=i.WeakMap;t.exports="function"==typeof s&&/native code/.test(r(s))},"825a":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var i=n("d039");t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var i=n("c04e"),r=n("9bf2"),s=n("5c6c");t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,s(0,n)):t[a]=n}},"861d":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"88bc":function(t,e,n){(function(e){var n=9007199254740991,i="[object Arguments]",r="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",o="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")();function u(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var d=Object.prototype,h=d.hasOwnProperty,f=d.toString,p=c.Symbol,m=d.propertyIsEnumerable,g=p?p.isConcatSpreadable:void 0,v=Math.max;function y(t,e,n,i,r){var s=-1,a=t.length;for(n||(n=b),r||(r=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?y(o,e-1,n,i,r):u(r,o):i||(r[r.length]=o)}return r}function b(t){return E(t)||function(t){return function(t){return S(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?f.call(t):"";return e==r||e==s}(t)}(t)}(t)&&h.call(t,"callee")&&(!m.call(t,"callee")||f.call(t)==i)}(t)||!!(g&&t&&t[g])}function _(t){if("string"==typeof t||function(t){return"symbol"==typeof t||S(t)&&f.call(t)==a}(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}var E=Array.isArray;function S(t){return!!t&&"object"==typeof t}var T,w,k=(T=function(t,e){return null==t?{}:function(t,e){return function(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var a=e[i],o=t[a];n(o,a)&&(s[a]=o)}return s}(t=Object(t),e,(function(e,n){return n in t}))}(t,function(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}(y(e,1),_))},w=v(void 0===w?T.length-1:w,0),function(){for(var t=arguments,e=-1,n=v(t.length-w,0),i=Array(n);++e<n;)i[e]=t[w+e];e=-1;for(var r=Array(w+1);++e<w;)r[e]=t[e];return r[w]=i,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(T,this,r)});t.exports=k}).call(this,n("c8ba"))},"890c":function(t,e,n){},8925:function(t,e,n){var i=n("c6cd"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"8e95":function(t,e,n){var i=n("c195");t.exports=new i},9020:function(t,e){function n(t){this.options=t,!t.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},t.exports=n},"90e3":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},9112:function(t,e,n){var i=n("83ab"),r=n("9bf2"),s=n("5c6c");t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9263:function(t,e,n){"use strict";var i,r,s=n("ad6d"),a=n("9f7f"),o=RegExp.prototype.exec,l=String.prototype.replace,c=o,u=(i=/a/,r=/b*/g,o.call(i,"a"),o.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(u||h||d)&&(c=function(t){var e,n,i,r,a=this,c=d&&a.sticky,f=s.call(a),p=a.source,m=0,g=t;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",f)),h&&(n=new RegExp("^"+p+"$(?!\\s)",f)),u&&(e=a.lastIndex),i=o.call(c?n:a,g),c?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=a.lastIndex,a.lastIndex+=i[0].length):a.lastIndex=0:u&&i&&(a.lastIndex=a.global?i.index+i[0].length:e),h&&i&&i.length>1&&l.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=c},"94ca":function(t,e,n){var i=n("d039"),r=/#|\.prototype\./,s=function(t,e){var n=o[a(t)];return n==c||n!=l&&("function"==typeof e?i(e):!!e)},a=s.normalize=function(t){return String(t).replace(r,".").toLowerCase()},o=s.data={},l=s.NATIVE="N",c=s.POLYFILL="P";t.exports=s},"99af":function(t,e,n){"use strict";var i=n("23e7"),r=n("d039"),s=n("e8b5"),a=n("861d"),o=n("7b0b"),l=n("50c4"),c=n("8418"),u=n("65f0"),d=n("1dde"),h=n("b622"),f=n("2d00"),p=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=d("concat"),b=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)};i({target:"Array",proto:!0,forced:!v||!y},{concat:function(t){var e,n,i,r,s,a=o(this),d=u(a,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(b(s=-1===e?a:arguments[e])){if(h+(r=l(s.length))>m)throw TypeError(g);for(n=0;n<r;n++,h++)n in s&&c(d,h,s[n])}else{if(h>=m)throw TypeError(g);c(d,h++,s)}return d.length=h,d}})},"9bdd":function(t,e,n){var i=n("825a");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var s=t.return;throw void 0!==s&&i(s.call(t)),e}}},"9bf2":function(t,e,n){var i=n("83ab"),r=n("0cfb"),s=n("825a"),a=n("c04e"),o=Object.defineProperty;e.f=i?o:function(t,e,n){if(s(t),e=a(e,!0),s(n),r)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9ed3":function(t,e,n){"use strict";var i=n("ae93").IteratorPrototype,r=n("7c73"),s=n("5c6c"),a=n("d44e"),o=n("3f8c"),l=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=r(i,{next:s(1,n)}),a(t,c,!1,!0),o[c]=l,t}},"9f7f":function(t,e,n){"use strict";var i=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var i=n("23e7"),r=n("44ad"),s=n("fc6a"),a=n("a640"),o=[].join,l=r!=Object,c=a("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return o.call(s(this),void 0===t?",":t)}})},a48b:function(t,e,n){var i=n("0497"),r=function(t){var e="",n=Object.keys(t);return n.forEach((function(r,s){var a=t[r];(function(t){return/[height|width]$/.test(t)})(r=i(r))&&"number"==typeof a&&(a+="px"),e+=!0===a?r:!1===a?"not "+r:"("+r+": "+a+")",s<n.length-1&&(e+=" and ")})),e};t.exports=function(t){var e="";return"string"==typeof t?t:t instanceof Array?(t.forEach((function(n,i){e+=r(n),i<t.length-1&&(e+=", ")})),e):r(t)}},a4d3:function(t,e,n){"use strict";var i=n("23e7"),r=n("da84"),s=n("d066"),a=n("c430"),o=n("83ab"),l=n("4930"),c=n("fdbf"),u=n("d039"),d=n("5135"),h=n("e8b5"),f=n("861d"),p=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),y=n("5c6c"),b=n("7c73"),_=n("df75"),E=n("241c"),S=n("057f"),T=n("7418"),w=n("06cf"),k=n("9bf2"),C=n("d1e7"),x=n("9112"),A=n("6eeb"),I=n("5692"),D=n("f772"),L=n("d012"),P=n("90e3"),O=n("b622"),R=n("e538"),M=n("746f"),N=n("d44e"),F=n("69f3"),$=n("b727").forEach,j=D("hidden"),B="Symbol",U="prototype",H=O("toPrimitive"),G=F.set,q=F.getterFor(B),W=Object[U],V=r.Symbol,K=s("JSON","stringify"),z=w.f,Y=k.f,Q=S.f,X=C.f,Z=I("symbols"),J=I("op-symbols"),tt=I("string-to-symbol-registry"),et=I("symbol-to-string-registry"),nt=I("wks"),it=r.QObject,rt=!it||!it[U]||!it[U].findChild,st=o&&u((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=z(W,e);i&&delete W[e],Y(t,e,n),i&&t!==W&&Y(W,e,i)}:Y,at=function(t,e){var n=Z[t]=b(V[U]);return G(n,{type:B,tag:t,description:e}),o||(n.description=e),n},ot=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},lt=function(t,e,n){t===W&&lt(J,e,n),p(t);var i=v(e,!0);return p(n),d(Z,i)?(n.enumerable?(d(t,j)&&t[j][i]&&(t[j][i]=!1),n=b(n,{enumerable:y(0,!1)})):(d(t,j)||Y(t,j,y(1,{})),t[j][i]=!0),st(t,i,n)):Y(t,i,n)},ct=function(t,e){p(t);var n=g(e),i=_(n).concat(ft(n));return $(i,(function(e){o&&!ut.call(n,e)||lt(t,e,n[e])})),t},ut=function(t){var e=v(t,!0),n=X.call(this,e);return!(this===W&&d(Z,e)&&!d(J,e))&&(!(n||!d(this,e)||!d(Z,e)||d(this,j)&&this[j][e])||n)},dt=function(t,e){var n=g(t),i=v(e,!0);if(n!==W||!d(Z,i)||d(J,i)){var r=z(n,i);return!r||!d(Z,i)||d(n,j)&&n[j][i]||(r.enumerable=!0),r}},ht=function(t){var e=Q(g(t)),n=[];return $(e,(function(t){d(Z,t)||d(L,t)||n.push(t)})),n},ft=function(t){var e=t===W,n=Q(e?J:g(t)),i=[];return $(n,(function(t){!d(Z,t)||e&&!d(W,t)||i.push(Z[t])})),i};l||(V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),n=function(t){this===W&&n.call(J,t),d(this,j)&&d(this[j],e)&&(this[j][e]=!1),st(this,e,y(1,t))};return o&&rt&&st(W,e,{configurable:!0,set:n}),at(e,t)},A(V[U],"toString",(function(){return q(this).tag})),A(V,"withoutSetter",(function(t){return at(P(t),t)})),C.f=ut,k.f=lt,w.f=dt,E.f=S.f=ht,T.f=ft,R.f=function(t){return at(O(t),t)},o&&(Y(V[U],"description",{configurable:!0,get:function(){return q(this).description}}),a||A(W,"propertyIsEnumerable",ut,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:V}),$(_(nt),(function(t){M(t)})),i({target:B,stat:!0,forced:!l},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var n=V(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!o},{create:function(t,e){return void 0===e?b(t):ct(b(t),e)},defineProperty:lt,defineProperties:ct,getOwnPropertyDescriptor:dt}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ht,getOwnPropertySymbols:ft}),i({target:"Object",stat:!0,forced:u((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(m(t))}}),K&&i({target:"JSON",stat:!0,forced:!l||u((function(){var t=V();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}))},{stringify:function(t,e,n){for(var i,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(i=e,(f(e)||void 0!==t)&&!ot(t))return h(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!ot(e))return e}),r[1]=e,K.apply(null,r)}}),V[U][H]||x(V[U],H,V[U].valueOf),N(V,B),L[j]=!0},a623:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").every,s=n("a640"),a=n("ae40"),o=s("every"),l=a("every");i({target:"Array",proto:!0,forced:!o||!l},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},a630:function(t,e,n){var i=n("23e7"),r=n("4df4");i({target:"Array",stat:!0,forced:!n("1c7e")((function(t){Array.from(t)}))},{from:r})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),s=n("94ca"),a=n("6eeb"),o=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),h=n("7c73"),f=n("241c").f,p=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,v="Number",y=r[v],b=y.prototype,_=l(h(b))==v,E=function(t){var e,n,i,r,s,a,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=g(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(a=(s=c.slice(2)).length,o=0;o<a;o++)if((l=s.charCodeAt(o))<48||l>r)return NaN;return parseInt(s,i)}return+c};if(s(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,T=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof T&&(_?d((function(){b.valueOf.call(n)})):l(n)!=v)?c(new y(E(e)),n,T):E(e)},w=i?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)o(y,S=w[k])&&!o(T,S)&&m(T,S,p(y,S));T.prototype=b,b.constructor=T,a(r,v,T)}},ac1f:function(t,e,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,n){var i=n("83ab"),r=n("d039"),s=n("5135"),a=Object.defineProperty,o={},l=function(t){throw t};t.exports=function(t,e){if(s(o,t))return o[t];e||(e={});var n=[][t],c=!!s(e,"ACCESSORS")&&e.ACCESSORS,u=s(e,0)?e[0]:l,d=s(e,1)?e[1]:void 0;return o[t]=!!n&&!r((function(){if(c&&!i)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:l}):t[1]=1,n.call(t,u,d)}))}},ae93:function(t,e,n){"use strict";var i,r,s,a=n("e163"),o=n("9112"),l=n("5135"),c=n("b622"),u=n("c430"),d=c("iterator"),h=!1;[].keys&&("next"in(s=[].keys())?(r=a(a(s)))!==Object.prototype&&(i=r):h=!0),null==i&&(i={}),u||l(i,d)||o(i,d,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},b041:function(t,e,n){"use strict";var i=n("00ee"),r=n("f5df");t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},b0c0:function(t,e,n){var i=n("83ab"),r=n("9bf2").f,s=Function.prototype,a=s.toString,o=/^\s*function ([^ (]*)/,l="name";i&&!(l in s)&&r(s,l,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},b622:function(t,e,n){var i=n("da84"),r=n("5692"),s=n("5135"),a=n("90e3"),o=n("4930"),l=n("fdbf"),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||a;t.exports=function(t){return s(c,t)||(o&&s(u,t)?c[t]=u[t]:c[t]=d("Symbol."+t)),c[t]}},b64b:function(t,e,n){var i=n("23e7"),r=n("7b0b"),s=n("df75");i({target:"Object",stat:!0,forced:n("d039")((function(){s(1)}))},{keys:function(t){return s(r(t))}})},b727:function(t,e,n){var i=n("0366"),r=n("44ad"),s=n("7b0b"),a=n("50c4"),o=n("65f0"),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,d=6==t,h=5==t||d;return function(f,p,m,g){for(var v,y,b=s(f),_=r(b),E=i(p,m,3),S=a(_.length),T=0,w=g||o,k=e?w(f,S):n?w(f,0):void 0;S>T;T++)if((h||T in _)&&(y=E(v=_[T],T,b),t))if(e)k[T]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return T;case 2:l.call(k,v)}else if(u)return!1;return d?-1:c||u?u:k}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},bcf7:function(t,e,n){var i=n("9020"),r=n("217d").each;function s(t,e){this.query=t,this.isUnconditional=e,this.handlers=[],this.mql=window.matchMedia(t);var n=this;this.listener=function(t){n.mql=t.currentTarget||t,n.assess()},this.mql.addListener(this.listener)}s.prototype={constuctor:s,addHandler:function(t){var e=new i(t);this.handlers.push(e),this.matches()&&e.on()},removeHandler:function(t){var e=this.handlers;r(e,(function(n,i){if(n.equals(t))return n.destroy(),!e.splice(i,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){r(this.handlers,(function(t){t.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";r(this.handlers,(function(e){e[t]()}))}},t.exports=s},c04e:function(t,e,n){var i=n("861d");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},c195:function(t,e,n){var i=n("bcf7"),r=n("217d"),s=r.each,a=r.isFunction,o=r.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(t,e,n){var r=this.queries,l=n&&this.browserIsIncapable;return r[t]||(r[t]=new i(t,l)),a(e)&&(e={match:e}),o(e)||(e=[e]),s(e,(function(e){a(e)&&(e={match:e}),r[t].addHandler(e)})),this},unregister:function(t,e){var n=this.queries[t];return n&&(e?n.removeHandler(e):(n.clear(),delete this.queries[t])),this}},t.exports=l},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var i=n("da84"),r=n("ce4e"),s="__core-js_shared__",a=i[s]||r(s,{});t.exports=a},c832:function(t,e,n){(function(e){var n,i="__lodash_hash_undefined__",r=1/0,s="[object Function]",a="[object GeneratorFunction]",o="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,p="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,g=p||m||Function("return this")(),v=Array.prototype,y=Function.prototype,b=Object.prototype,_=g["__core-js_shared__"],E=(n=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",S=y.toString,T=b.hasOwnProperty,w=b.toString,k=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=g.Symbol,x=v.splice,A=j(g,"Map"),I=j(Object,"create"),D=C?C.prototype:void 0,L=D?D.toString:void 0;function P(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function O(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function R(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function M(t,e){for(var n,i,r=t.length;r--;)if((n=t[r][0])===(i=e)||n!=n&&i!=i)return r;return-1}function N(t,e){var n;e=function(t,e){if(G(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!W(t))||(c.test(t)||!l.test(t)||null!=e&&t in Object(e))}(e,t)?[e]:G(n=e)?n:B(n);for(var i=0,r=e.length;null!=t&&i<r;)t=t[U(e[i++])];return i&&i==r?t:void 0}function F(t){if(!q(t)||(e=t,E&&E in e))return!1;var e,n=function(t){var e=q(t)?w.call(t):"";return e==s||e==a}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?k:f;return n.test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function $(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function j(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return F(n)?n:void 0}P.prototype.clear=function(){this.__data__=I?I(null):{}},P.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},P.prototype.get=function(t){var e=this.__data__;if(I){var n=e[t];return n===i?void 0:n}return T.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:T.call(e,t)},P.prototype.set=function(t,e){return this.__data__[t]=I&&void 0===e?i:e,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(t){var e=this.__data__,n=M(e,t);return!(n<0||(n==e.length-1?e.pop():x.call(e,n,1),0))},O.prototype.get=function(t){var e=this.__data__,n=M(e,t);return n<0?void 0:e[n][1]},O.prototype.has=function(t){return M(this.__data__,t)>-1},O.prototype.set=function(t,e){var n=this.__data__,i=M(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},R.prototype.clear=function(){this.__data__={hash:new P,map:new(A||O),string:new P}},R.prototype.delete=function(t){return $(this,t).delete(t)},R.prototype.get=function(t){return $(this,t).get(t)},R.prototype.has=function(t){return $(this,t).has(t)},R.prototype.set=function(t,e){return $(this,t).set(t,e),this};var B=H((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(W(t))return L?L.call(t):"";var e=t+"";return"0"==e&&1/t==-r?"-0":e}(e);var n=[];return u.test(t)&&n.push(""),t.replace(d,(function(t,e,i,r){n.push(i?r.replace(h,"$1"):e||t)})),n}));function U(t){if("string"==typeof t||W(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}function H(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var a=t.apply(this,i);return n.cache=s.set(r,a),a};return n.cache=new(H.Cache||R),n}H.Cache=R;var G=Array.isArray;function q(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function W(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&w.call(t)==o}t.exports=function(t,e,n){var i=null==t?void 0:N(t,e);return void 0===i?n:i}}).call(this,n("c8ba"))},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},c975:function(t,e,n){"use strict";var i=n("23e7"),r=n("4d64").indexOf,s=n("a640"),a=n("ae40"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(t){return l?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ca84:function(t,e,n){var i=n("5135"),r=n("fc6a"),s=n("4d64").indexOf,a=n("d012");t.exports=function(t,e){var n,o=r(t),l=0,c=[];for(n in o)!i(a,n)&&i(o,n)&&c.push(n);for(;e.length>l;)i(o,n=e[l++])&&(~s(c,n)||c.push(n));return c}},cc12:function(t,e,n){var i=n("da84"),r=n("861d"),s=i.document,a=r(s)&&r(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},cca6:function(t,e,n){var i=n("23e7"),r=n("60da");i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},ce4e:function(t,e,n){var i=n("da84"),r=n("9112");t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},d066:function(t,e,n){var i=n("428f"),r=n("da84"),s=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?s(i[t])||s(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},d1e7:function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!i.call({1:2},1);e.f=s?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},d28b:function(t,e,n){n("746f")("iterator")},d2bb:function(t,e,n){var i=n("825a"),r=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,s){return i(n),r(s),e?t.call(n,s):n.__proto__=s,n}}():void 0)},d3b7:function(t,e,n){var i=n("00ee"),r=n("6eeb"),s=n("b041");i||r(Object.prototype,"toString",s,{unsafe:!0})},d44e:function(t,e,n){var i=n("9bf2").f,r=n("5135"),s=n("b622")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},d58f:function(t,e,n){var i=n("1c0b"),r=n("7b0b"),s=n("44ad"),a=n("50c4"),o=function(t){return function(e,n,o,l){i(n);var c=r(e),u=s(c),d=a(c.length),h=t?d-1:0,f=t?-1:1;if(o<2)for(;;){if(h in u){l=u[h],h+=f;break}if(h+=f,t?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=f)h in u&&(l=n(l,u[h],h,c));return l}};t.exports={left:o(!1),right:o(!0)}},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),s=n("b622"),a=n("9263"),o=n("9112"),l=s("species"),c=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=s("replace"),h=!!/./[d]&&""===/./[d]("a","$0"),f=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var p=s(t),m=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=m&&!r((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!m||!g||"replace"===t&&(!c||!u||h)||"split"===t&&!f){var v=/./[p],y=n(p,""[t],(function(t,e,n,i,r){return e.exec===a?m&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=y[0],_=y[1];i(String.prototype,t,b),i(RegExp.prototype,p,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}d&&o(RegExp.prototype[p],"sham",!0)}},d81d:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").map,s=n("1dde"),a=n("ae40"),o=s("map"),l=a("map");i({target:"Array",proto:!0,forced:!o||!l},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(t,e,n){var i=n("23e7"),r=n("83ab"),s=n("56ef"),a=n("fc6a"),o=n("06cf"),l=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),r=o.f,c=s(i),u={},d=0;c.length>d;)void 0!==(n=r(i,e=c[d++]))&&l(u,e,n);return u}})},ddb0:function(t,e,n){var i=n("da84"),r=n("fdbc"),s=n("e260"),a=n("9112"),o=n("b622"),l=o("iterator"),c=o("toStringTag"),u=s.values;for(var d in r){var h=i[d],f=h&&h.prototype;if(f){if(f[l]!==u)try{a(f,l,u)}catch(t){f[l]=u}if(f[c]||a(f,c,d),r[d])for(var p in s)if(f[p]!==s[p])try{a(f,p,s[p])}catch(t){f[p]=s[p]}}}},df75:function(t,e,n){var i=n("ca84"),r=n("7839");t.exports=Object.keys||function(t){return i(t,r)}},e01a:function(t,e,n){"use strict";var i=n("23e7"),r=n("83ab"),s=n("da84"),a=n("5135"),o=n("861d"),l=n("9bf2").f,c=n("e893"),u=s.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(h,u);var f=h.prototype=u.prototype;f.constructor=h;var p=f.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=p.call(t);if(a(d,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:h})}},e163:function(t,e,n){var i=n("5135"),r=n("7b0b"),s=n("f772"),a=n("e177"),o=s("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},e177:function(t,e,n){var i=n("d039");t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var i=n("fc6a"),r=n("44d2"),s=n("3f8c"),a=n("69f3"),o=n("7dd0"),l="Array Iterator",c=a.set,u=a.getterFor(l);t.exports=o(Array,"Array",(function(t,e){c(this,{type:l,target:i(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},e439:function(t,e,n){var i=n("23e7"),r=n("d039"),s=n("fc6a"),a=n("06cf").f,o=n("83ab"),l=r((function(){a(1)}));i({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a(s(t),e)}})},e538:function(t,e,n){var i=n("b622");e.f=i},e893:function(t,e,n){var i=n("5135"),r=n("56ef"),s=n("06cf"),a=n("9bf2");t.exports=function(t,e){for(var n=r(e),o=a.f,l=s.f,c=0;c<n.length;c++){var u=n[c];i(t,u)||o(t,u,l(e,u))}}},e8b5:function(t,e,n){var i=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},e95a:function(t,e,n){var i=n("b622"),r=n("3f8c"),s=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[s]===t)}},eaf9:function(t,e,n){"use strict";var i=n("3b81");n.n(i).a},f013:function(t,e,n){"use strict";var i=n("fdb2");n.n(i).a},f5df:function(t,e,n){var i=n("00ee"),r=n("c6b6"),s=n("b622")("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},f6fd:function(t,e){!function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(i){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})}(document)},f772:function(t,e,n){var i=n("5692"),r=n("90e3"),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},f7fe:function(t,e,n){(function(e){var n=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==i}(t))return n;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var c=a.test(t);return c||o.test(t)?l(t.slice(2),c?2:8):s.test(t)?n:+t}t.exports=function(t,e,n){var i,r,s,a,o,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=i,s=r;return i=r=void 0,c=e,a=t.apply(s,n)}function b(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=s}function _(){var t=m();if(b(t))return E(t);o=setTimeout(_,function(t){var n=e-(t-l);return d?p(n,s-(t-c)):n}(t))}function E(t){return o=void 0,h&&i?y(t):(i=r=void 0,a)}function S(){var t=m(),n=b(t);if(i=arguments,r=this,l=t,n){if(void 0===o)return function(t){return c=t,o=setTimeout(_,e),u?y(t):a}(l);if(d)return o=setTimeout(_,e),y(l)}return void 0===o&&(o=setTimeout(_,e)),a}return e=v(e)||0,g(n)&&(u=!!n.leading,s=(d="maxWait"in n)?f(v(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h),S.cancel=function(){void 0!==o&&clearTimeout(o),c=0,i=l=r=o=void 0},S.flush=function(){return void 0===o?a:E(m())},S}}).call(this,n("c8ba"))},fb15:function(t,e,n){"use strict";var i;function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.r(e),"undefined"!=typeof window&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1])),n("4de4"),n("4160"),n("a15b"),n("d81d"),n("fb6a"),n("07ac"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b");var o=n("a48b"),l=n.n(o);function c(t,e,n,i,r,s,a,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var u=c({computed:{isPropsUpdated:function(){var t=this;return Object.keys(this.$props).forEach((function(e){return t[e]})),this.updateSwitch=!this.updateSwitch}},watch:{isPropsUpdated:function(){"function"==typeof this.onPropsUpdated&&this.onPropsUpdated()}}},void 0,void 0,!1,null,null,null).exports,d=n("88bc"),h=n.n(d),f=n("42a0"),p=n.n(f),m=n("c832"),g=n.n(m),v=function(t,e,n){t&&(t.data=t.data||{},t.data[e]=a({},t.data[e],{},n))},y=function(t,e,n){t&&(t.data=t.data||{},t.data[e]=n)},b=["class","staticClass","style","attrs","props","domProps","on","nativeOn","directives","scopesSlots","slot","ref","key"],_=function t(e){var n=e.context&&e.context.$createElement,i=!!e.componentOptions,r=!e.tag,s=i?e.componentOptions.children:e.children;if(r)return e.text;var a=function(t,e){var n=h()(t.data,b);if(e){var i=t.componentOptions;p()(n,{props:i.propsData,on:i.listeners})}return n.key&&(n.key=n.key+"-cloned-cid"),n}(e,i);return n(i?e.componentOptions.Ctor:e.tag,a,s?s.map((function(e){return t(e)})):void 0)},E=function(t,e,n){if(t){var i=t.data||{};return void 0===e?i:g()(i,e,n)}},S=function(t){return a({},E(t,"staticStyle",{}),{},E(t,"style",{}))},T=(n("99af"),n("a623"),n("a630"),n("c975"),n("13d5"),n("a9e3"),n("ac1f"),n("3ca3"),n("466d"),function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}),w=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},k=function(t){return t.unslick||!t.infinite?0:t.slideCount},C=function(t){var e=t.slidesToShow,n=t.centerMode,i=t.rtl,r=t.centerPadding;if(n){var s=(e-1)/2+1;return parseInt(r)>0&&(s+=1),i&&e%2==0&&(s+=1),s}return i?0:e-1},x=function(t){var e=t.slidesToShow,n=t.centerMode,i=t.rtl,r=t.centerPadding;if(n){var s=(e-1)/2+1;return parseInt(r)>0&&(s+=1),i||e%2!=0||(s+=1),s}return i?e-1:0},A=function(t){return t.currentSlide-D(t)},I=function(t){return t.currentSlide+L(t)},D=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},L=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},P=function(t){for(var e=[],n=A(t),i=I(t),r=n;r<i;r++)t.lazyLoadedList.indexOf(r)<0&&e.push(r);return e},O=function(t,e){var n,i,r,s,o=t.slidesToScroll,l=t.slidesToShow,c=t.slideCount,u=t.currentSlide,d=t.lazyLoad,h=t.infinite;if(n=c%o!=0?0:(c-u)%o,"previous"===e.message)s=u-(r=0===n?o:l-n),d&&!h&&(s=-1==(i=u-r)?c-1:i);else if("next"===e.message)s=u+(r=0===n?o:n),d&&!h&&(s=(u+o)%c+n);else if("dots"===e.message){if((s=e.index*e.slidesToScroll)===e.currentSlide)return null}else if("children"===e.message){if((s=e.index)===e.currentSlide)return null;if(h){var f=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+C(t)?"left":"right":t.targetSlide<t.currentSlide-x(t)?"right":"left"}(a({},t,{targetSlide:s}));s>e.currentSlide&&"left"===f?s-=c:s<e.currentSlide&&"right"===f&&(s+=c)}}else if("index"===e.message&&(s=Number(e.index))===e.currentSlide)return null;return s},R=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})},M=function(t,e){var n=function(t){for(var e=t.infinite?2*t.slideCount:t.slideCount,n=t.infinite?-1*t.slidesToShow:0,i=t.infinite?-1*t.slidesToShow:0,r=[];n<e;)r.push(n),n=i+t.slidesToScroll,i+=Math.min(t.slidesToScroll,t.slidesToShow);return r}(t),i=0;if(e>n[n.length-1])e=n[n.length-1];else for(var r in n){if(e<n[r]){e=i;break}i=n[r]}return e},N=function(t){var e=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var n,i=t.listRef.querySelectorAll(".slick-slide");if(Array.from(i).every((function(i){if(t.vertical){if(i.offsetTop+U(i)/2>-1*t.swipeLeft)return n=i,!1}else if(i.offsetLeft-e+B(i)/2>-1*t.swipeLeft)return n=i,!1;return!0})),!n)return 0;var r=!0===t.rtl?t.slideCount-t.currentSlide:t.currentSlide;return Math.abs(n.dataset.index-r)||1}return t.slidesToScroll},F=function(t,e){var n={};return e.forEach((function(e){return n[e]=t[e]})),n},$={TRACK:["fade","cssEase","speed","infinite","centerMode","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"],DOT:["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","children","customPaging","infinite"],ARROW:["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]},j=function(t){var e=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(e=!1),e},B=function(t){return t&&t.offsetWidth||0},U=function(t){return t&&t.offsetHeight||0},H=function(t){var e,n,i,r,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=t.startX-t.curX,n=t.startY-t.curY,i=Math.atan2(n,e),(r=Math.round(180*i/Math.PI))<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315?"left":r>=135&&r<=225?"right":!0===s?r>=35&&r<=135?"up":"down":"vertical"},G=function(t){if(t.unslick)return 0;q(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var e,n,i=t.slideIndex,r=t.trackRef,s=t.infinite,a=t.centerMode,o=t.slideCount,l=t.slidesToShow,c=t.slidesToScroll,u=t.slideWidth,d=t.listWidth,h=t.variableWidth,f=t.slideHeight,p=t.fade,m=t.vertical;if(p||1===t.slideCount)return 0;var g=0;if(s?(g=-w(t),o%c!=0&&i+c>o&&(g=-(i>o?l-(i-o):o%c)),a&&(g+=parseInt(l/2))):(o%c!=0&&i+c>o&&(g=l-o%c),a&&(g=parseInt(l/2))),e=m?i*f*-1+g*f:i*u*-1+g*u,!0===h){var v,y=r.$el;if(v=i+w(t),e=(n=y&&y.childNodes[v])?-1*n.offsetLeft:0,!0===a){v=s?i+w(t):i,n=y&&y.children[v],e=0;for(var b=0;b<v;b++)e-=y&&y.children[b]&&y.children[b].offsetWidth;e-=parseInt(t.centerPadding),e+=n&&(d-n.offsetWidth)/2}}return e},q=function(t,e){return e.reduce((function(e,n){return e&&t.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",t)},W=function(t){var e,n;q(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var i=t.slideCount+2*t.slidesToShow;t.vertical?n=i*t.slideHeight:e=function(t){return 1===t.slideCount?1:w(t)+t.slideCount+k(t)}(t)*t.slideWidth;var r={opacity:1,transition:"",WebkitTransition:""};return t.useTransform?r=a({},r,{WebkitTransform:t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",transform:t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",msTransform:t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)"}):t.vertical?r.top=t.left:r.left=t.left,t.fade&&(r={opacity:1}),e&&(r.width=e+"px"),n&&(r.height=n+"px"),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?r.marginTop=t.left+"px":r.marginLeft=t.left+"px"),r},V=function(t){q(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var e=W(t);return t.useTransform?(e.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,e.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?e.transition="top "+t.speed+"ms "+t.cssEase:e.transition="left "+t.speed+"ms "+t.cssEase,e},K={accessibility:{type:Boolean,default:!0},adaptiveHeight:{type:Boolean,default:!1},arrows:{type:Boolean,default:!0},asNavFor:{type:Object,default:null},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:3e3},centerMode:{type:Boolean,default:!1},centerPadding:{type:String,default:"50px"},cssEase:{type:String,default:"ease"},dots:{type:Boolean,default:!1},dotsClass:{type:String,default:"slick-dots"},draggable:{type:Boolean,default:!0},edgeFriction:{type:Number,default:.35},fade:{type:Boolean,default:!1},focusOnSelect:{type:Boolean,default:!1},infinite:{type:Boolean,default:!0},initialSlide:{type:Number,default:0},lazyLoad:{type:String,default:null},pauseOnDotsHover:{type:Boolean,default:!1},pauseOnFocus:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},responsive:{type:Array,default:null},rows:{type:Number,default:1},rtl:{type:Boolean,default:!1},slidesPerRow:{type:Number,default:1},slidesToScroll:{type:Number,default:1},slidesToShow:{type:Number,default:1},speed:{type:Number,default:500},swipe:{type:Boolean,default:!0},swipeToSlide:{type:Boolean,default:!1},touchMove:{type:Boolean,default:!0},touchThreshold:{type:Number,default:5},useCSS:{type:Boolean,default:!0},useTransform:{type:Boolean,default:!0},variableWidth:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},waitForAnimate:{type:Boolean,default:!0}},z=Object.keys(K).reduce((function(t,e){return t[e]=K[e].default,t}),{});function Y(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}Object.keys(K).reduce((function(t,e){return t[e]=K[e].type,t}),{}),n("cca6"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("ddb0");var X=n("6dd8"),Z=n("f7fe"),J=n.n(Z),tt=function(t){var e,n,i,r,s;return i=(s=t.rtl?t.slideCount-1-t.index:t.index)<0||s>=t.slideCount,t.centerMode?(r=Math.floor(t.slidesToShow/2),n=(s-t.currentSlide)%t.slideCount==0,s>t.currentSlide-r-1&&s<=t.currentSlide+r&&(e=!0)):e=t.currentSlide<=s&&s<t.currentSlide+t.slidesToShow,{"slick-slide":!0,"slick-active":e,"slick-center":n,"slick-cloned":i,"slick-current":s===t.currentSlide}},et=function(t,e){return null!=t.key&&String(t.key)||e},nt={name:"SliderTrack",props:$.TRACK,methods:{cloneSlide:function(t,e){var n=this,i=_(t);return i.key=e.key,v(i,"class",e.class),v(i,"attrs",e.attrs),v(i,"style",e.style),v(i,"on",{click:function(i){E(t,"on.click",(function(){}))(i),n.$emit("childClicked",e.childOnClickOptions)}}),i},renderSlides:function(t,e){var n,i=this,r=this.$createElement,s=[],o=[],l=[],c=e.length,u=A(t),d=I(t);return e.forEach((function(e,h){var f,p={message:"children",index:h,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};f=!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(h)>=0?e:r("div");var m=function(t){var e={};return void 0!==t.variableWidth&&!1!==t.variableWidth||(e.width="number"==typeof t.slideWidth?"".concat(t.slideWidth,"px"):t.slideWidth),t.fade&&(e.position="relative",t.vertical?e.top="".concat(-t.index*parseInt(t.slideHeight),"px"):e.left="".concat(-t.index*parseInt(t.slideWidth),"px"),e.opacity=t.currentSlide===t.index?1:0,e.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase),e}(a({},t,{index:h})),g=tt(a({},t,{index:h}));if(s.push(i.cloneSlide(f,{key:"original"+et(f,h),class:g,style:a({outline:"none"},m),attrs:{tabIndex:"-1","data-index":h,"aria-hidden":"".concat(!g["slick-active"])},childOnClickOptions:p})),t.infinite&&!1===t.fade&&c>t.slidesToShow){var v=c-h;v<=w(t)&&c!==t.slidesToShow&&((n=-v)>=u&&(f=e),g=tt(a({},t,{index:n})),o.push(i.cloneSlide(f,{key:"precloned"+et(f,n),class:g,style:m,attrs:{tabIndex:"-1","data-index":n,"aria-hidden":"".concat(!g["slick-active"])},childOnClickOptions:p}))),c!==t.slidesToShow&&((n=c+h)<d&&(f=e),g=tt(a({},t,{index:n})),l.push(i.cloneSlide(f,{key:"postcloned"+et(f,n),class:g,style:m,attrs:{tabIndex:"-1","data-index":n,"aria-hidden":"".concat(!g["slick-active"])},childOnClickOptions:p})))}}),this),t.rtl?o.concat(s,l).reverse():o.concat(s,l)}},render:function(){var t=arguments[0],e=this.renderSlides(this.$props,this.$slots.default);return t("div",{class:{"slick-track":!0,"slick-center":this.$props.centerMode},style:this.trackStyle},[e])}},it=nt,rt=(n("6ea2"),c(it,void 0,void 0,!1,null,"e4caeaf8",null).exports);function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n("b0c0"),n("25f0");var at,ot={name:"SliderArrow",props:[].concat((at=$.ARROW,function(t){if(Array.isArray(t))return st(t)}(at)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(at)||function(t,e){if(t){if("string"==typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(t,e):void 0}}(at)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["type"]),render:function(){var t,e=this,n=arguments[0],i={"slick-arrow":!0},r=!0,s={currentSlide:this.currentSlide,slideCount:this.slideCount};return"previous"===this.type?(i["slick-prev"]=!0,!this.infinite&&(0===this.currentSlide||this.slideCount<=this.slidesToShow)&&(i["slick-disabled"]=!0,r=!1),s.key="0",t=this.prevArrow?this.prevArrow(s)[0]:n("button",{attrs:{type:"button","data-role":"none"},style:"display: block;"},["Previous"])):(i["slick-next"]=!0,j(this.$props)||(i["slick-disabled"]=!0,r=!1),s.key="1",t=this.nextArrow?this.nextArrow(s)[0]:n("button",{attrs:{type:"button","data-role":"none"},style:"display: block;"},["Next"])),y(t,"key",s.key),v(t,"class",i),v(t,"on",{click:function(){r&&e.$emit("arrowClicked",{message:e.type})}}),t}},lt=ot,ct=(n("f013"),c(lt,void 0,void 0,!1,null,"21137603",null).exports),ut=(n("1276"),{name:"SliderDots",props:$.DOT,render:function(){var t,e=this,n=arguments[0],i=(t={slideCount:this.slideCount,slidesToScroll:this.slidesToScroll,slidesToShow:this.slidesToShow,infinite:this.infinite}).infinite?Math.ceil(t.slideCount/t.slidesToScroll):Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,s=Array.apply(null,Array(i+1).join("0").split("")).map((function(t,i){var r=i*e.slidesToScroll,s=i*e.slidesToScroll+(e.slidesToScroll-1),a={"slick-active":e.currentSlide>=r&&e.currentSlide<=s},o={message:"dots",index:i,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide},l=e.customPaging?e.customPaging(i)[0]:n("button",[i+1]);return n("li",{key:i,class:a,on:{click:function(){return e.$emit("dotClicked",o)}}},[l])})),a=r({},this.dotsClass,!0);return n("ul",{style:{display:"block"},class:a},[s])}}),dt=c(ut,void 0,void 0,!1,null,null,null).exports,ht={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0},ft={name:"InnerSlider",components:{SliderTrack:rt,SliderArrow:ct,SliderDots:dt},mixins:[u],inheritAttrs:!1,props:a({},K,{unslick:{type:Boolean,default:!1},prevArrow:Function,nextArrow:Function,customPaging:Function}),data:function(){return a({},ht,{currentSlide:this.initialSlide})},computed:{slideCount:function(){return this.$slots.default.length},spec:function(){return a({},this.$props,{},this.$data,{slideCount:this.slideCount})}},created:function(){if(this.callbackTimers=[],this.clickable=!0,this.debouncedResize=null,this.ssrInit(),this.$parent.$emit("init"),this.lazyLoad){var t=P(this.spec);t.length>0&&(this.lazyLoadedList=this.lazyLoadedList.concat(t),this.$parent.$emit("lazyLoad",t))}},mounted:function(){var t=this,e=a({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},this.$props);this.updateState(e,!0),this.adaptHeight(),this.autoPlay&&this.autoPlay("update"),"progressive"===this.lazyLoad&&(this.lazyLoadTimer=setInterval(this.progressiveLazyLoad,1e3)),this.ro=new X.a((function(){t.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.speed))):t.onWindowResized()})),this.ro.observe(this.$refs.list),Array.prototype.forEach.call(this.$refs.list.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",this.onWindowResized):window.attachEvent("onresize",this.onWindowResized)},updated:function(){if(this.checkImagesLoad(),this.$parent.$emit("reInit"),this.lazyLoad){var t=P(a({},this.$props,{},this.$data));t.length>0&&(this.lazyLoadedList=this.lazyLoadedList.concat(t),this.$parent.$emit("lazyLoad",t))}this.adaptHeight()},beforeDestroy:function(){this.ro.unobserve(this.$refs.list),this.animationEndCallback&&clearTimeout(this.animationEndCallback),this.lazyLoadTimer&&clearInterval(this.lazyLoadTimer),this.callbackTimers.length&&(this.callbackTimers.forEach((function(t){return clearTimeout(t)})),this.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.autoplayTimer&&clearInterval(this.autoplayTimer)},methods:{onPropsUpdated:function(){for(var t=this.$props,e=a({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},t,{},this.$data),n=!1,i=0,r=Object.keys(this.$props);i<r.length;i++){var s=r[i];if(!t.hasOwnProperty(s)){n=!0;break}if("object"!==Q(t[s])&&"function"!=typeof t[s]&&t[s]!==this.$props[s]){n=!0;break}}this.updateState(e,n),this.currentSlide>=this.slideCount&&this.changeSlide({message:"index",index:this.slideCount-t.slidesToShow,currentSlide:this.currentSlide}),t.autoplay?this.autoPlay("update"):this.pause("paused")},updateState:function(t,e){var n=function(t){var e,n=t.children.length,i=Math.ceil(B(t.listRef)),r=Math.ceil(B(t.trackRef));if(t.vertical)e=i;else{var s=t.centerMode&&2*parseInt(t.centerPadding);"string"==typeof t.centerPadding&&"%"===t.centerPadding.slice(-1)&&(s*=i/100),e=Math.ceil((i-s)/t.slidesToShow)}var a=t.listRef&&U(t.listRef.querySelector('[data-index="0"]')),o=a*t.slidesToShow,l=void 0===t.currentSlide?t.initialSlide:t.currentSlide;t.rtl&&void 0===t.currentSlide&&(l=n-1-t.initialSlide);var c=t.lazyLoadedList||[],u=P({currentSlide:l,lazyLoadedList:c});c.concat(u);var d={slideCount:n,slideWidth:e,listWidth:i,trackWidth:r,currentSlide:l,slideHeight:a,listHeight:o,lazyLoadedList:c};return null===t.autoplaying&&t.autoplay&&(d.autoplaying="playing"),d}(t);t=a({},t,{},n,{slideIndex:n.currentSlide}),t=a({},t,{left:G(t)});var i=W(t);(e||this.slideCount!==t.children.length)&&(n.trackStyle=i),Object.assign(this.$data,n)},adaptHeight:function(){if(this.adaptiveHeight&&this.$refs.list){var t=this.$refs.list.querySelector('[data-index="'.concat(this.currentSlide,'"]'));this.$refs.list.style.height=U(t)+"px"}},ssrInit:function(){var t=w(this.spec),e=k(this.spec);if(this.variableWidth){var n=[],i=[],r=[];this.$slots.default.forEach((function(t){var e=S(t).width;r.push(e),n.push(e)}));for(var s=0;s<t;s++)i.push(r[r.length-1-s]),n.push(r[r.length-1-s]);for(var a=0;a<e;a++)n.push(r[a]);for(var o=0;o<this.currentSlide;o++)i.push(r[o]);n=n.filter((function(t){return t})),i=i.filter((function(t){return t}));var l={width:"calc(".concat(n.join(" + "),")"),left:"calc(".concat(i.map((function(t){return"-".concat(t)})).join(" + "),")")};if(this.centerMode){var c=r[this.currentSlide];l.left="calc(".concat(i.map((function(t){return"-".concat(t)})).join(" + ")," + (100% - ").concat(c,") / 2 )")}this.trackStyle=l}else{var u=t+e+this.slideCount,d=100/this.slidesToShow*u,h=100/u,f=-h*(t+this.currentSlide)*d/100;this.centerMode&&(f+=(100-h*d/100)/2),this.slideWidth=h+"%",this.trackStyle={width:d+"%",left:f+"%"}}},slideHandler:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.asNavFor,r=this.speed,s=this.currentSlide,o=function(t){var e=t.waitForAnimate,n=t.animating,i=t.fade,r=t.infinite,s=t.index,o=t.slideCount,l=t.lazyLoadedList,c=t.lazyLoad,u=t.currentSlide,d=t.centerMode,h=t.slidesToScroll,f=t.slidesToShow,p=t.useCSS;if(e&&n)return{};var m,g,v,y=s,b={},_={};if(i){if(!r&&(s<0||s>=o))return{};s<0?y=s+o:s>=o&&(y=s-o),c&&l.indexOf(y)<0&&l.push(y),b={animating:!0,currentSlide:y,lazyLoadedList:l},_={animating:!1}}else m=y,y<0?(m=y+o,r?o%h!=0&&(m=o-o%h):m=0):!j(t)&&y>u?y=m=u:d&&y>=o?(y=r?o:o-1,m=r?0:o-1):y>=o&&(m=y-o,r?o%h!=0&&(m=0):m=o-f),g=G(a({},t,{slideIndex:y})),v=G(a({},t,{slideIndex:m})),r||(g===v&&(y=m),g=v),c&&l.concat(P(a({},t,{currentSlide:y}))),p?(b={animating:!0,currentSlide:m,trackStyle:V(a({},t,{left:g})),lazyLoadedList:l},_={animating:!1,currentSlide:m,trackStyle:W(a({},t,{left:v})),swipeLeft:null}):b={currentSlide:m,trackStyle:W(a({},t,{left:v})),lazyLoadedList:l};return{state:b,nextState:_}}(a({index:t},this.$props,{},this.$data,{trackRef:this.$refs.track,useCSS:this.useCSS&&!n})),l=o.state,c=o.nextState;if(l){this.$parent.$emit("beforeChange",s,l.currentSlide);var u=l.lazyLoadedList.filter((function(t){return e.lazyLoadedList.indexOf(t)<0}));u.length&&this.$parent.$emit("lazyLoad",u),Object.assign(this.$data,l),i&&i.goTo(t),c&&(this.animationEndCallback=setTimeout((function(){var t=c.animating,n=Y(c,["animating"]);Object.assign(e.$data,n),e.callbackTimers.push(setTimeout((function(){e.animating=t}),10)),e.$parent.$emit("afterChange",l.currentSlide),e.animationEndCallback=void 0}),r))}},onWindowResized:function(t){var e=this;this.debouncedResize&&this.debouncedResize.cancel(),this.debouncedResize=J()((function(){return e.resizeWindow(t)}),50),this.debouncedResize()},resizeWindow:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$refs.track&&this.$refs.track.$el){var e=a({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},this.$props,{},this.$data);this.updateState(e,t),this.autoplay?this.autoPlay("update"):this.pause("paused"),this.animating=!1,clearTimeout(this.animationEndCallback),this.animationEndCallback=void 0}},checkImagesLoad:function(){var t=this,e=this.$refs.list.querySelectorAll(".slick-slide img"),n=e.length,i=0;Array.prototype.forEach.call(e,(function(e){var r=function(){return++i&&i>=n&&t.onWindowResized()};if(e.onclick){var s=e.onclick;e.onclick=function(){s(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.speed))}:(e.onload=r,e.onerror=function(){r(),t.$parent.$emit("lazyLoadError")}))}))},progressiveLazyLoad:function(){for(var t=[],e=a({},this.$props,{},this.$data),n=this.currentSlide;n<this.slideCount+k(e);n++)if(this.lazyLoadedList.indexOf(n)<0){t.push(n);break}for(var i=this.currentSlide-1;i>=-w(e);i--)if(this.lazyLoadedList.indexOf(i)<0){t.push(i);break}t.length>0?(this.lazyLoadedList=this.lazyLoadedList.concat(t),this.$parent.$emit("lazyLoad",t)):this.lazyLoadTimer&&(clearInterval(this.lazyLoadTimer),this.lazyLoadTimer=void 0)},clickHandler:function(t){!1===this.clickable&&(t.stopPropagation(),t.preventDefault()),this.clickable=!0},keyHandler:function(t){var e=function(t,e,n){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!e?"":37===t.keyCode?n?"next":"previous":39===t.keyCode?n?"previous":"next":""}(t,this.accessibility,this.rtl);""!==e&&this.changeSlide({message:e})},changeSlide:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a({},this.$props,{},this.$data),i=O(n,t);(0===i||i)&&(!0===e?this.slideHandler(i,e):this.slideHandler(i))},swipeStart:function(t){this.verticalSwiping&&this.disableBodyScroll();var e=function(t,e,n){return!e||!n&&-1!==t.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}}(t,this.swipe,this.draggable);""!==e&&Object.assign(this.$data,e)},swipeMove:function(t){var e=this,n=function(t,e){var n=e.scrolling,i=e.animating,r=e.vertical,s=e.swipeToSlide,o=e.verticalSwiping,l=e.rtl,c=e.currentSlide,u=e.edgeFriction,d=e.edgeDragged,h=e.onEdge,f=e.swiped,p=e.swiping,m=e.slideCount,g=e.slidesToScroll,v=e.infinite,y=e.touchObject,b=e.swipeEvent,_=e.listHeight,E=e.listWidth;if(!n){if(i)return t.preventDefault();r&&s&&o&&t.preventDefault();var S,T={},w=G(e);y.curX=t.touches?t.touches[0].pageX:t.clientX,y.curY=t.touches?t.touches[0].pageY:t.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var k=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!o&&!p&&k>10)return{scrolling:!0};o&&(y.swipeLength=k);var C=(l?-1:1)*(y.curX>y.startX?1:-1);o&&(C=y.curY>y.startY?1:-1);var x=Math.ceil(m/g),A=H(e.touchObject,o),I=y.swipeLength;return v||(0===c&&"right"===A||c+1>=x&&"left"===A||!j(e)&&"left"===A)&&(I=y.swipeLength*u,!1===d&&h&&(h(A),T.edgeDragged=!0)),!f&&b&&(b(A),T.swiped=!0),S=r?w+I*(_/E)*C:l?w-I*C:w+I*C,o&&(S=w+I*C),T=a({},T,{touchObject:y,swipeLeft:S,trackStyle:W(a({},e,{left:S}))}),Math.abs(y.curX-y.startX)<.8*Math.abs(y.curY-y.startY)||y.swipeLength>10&&(T.swiping=!0,t.preventDefault()),T}}(t,a({},this.$props,{},this.$data,{trackRef:this.$refs.track,listRef:this.$refs.list,slideIndex:this.currentSlide,onEdge:function(t){return e.$parent.$emit("edge",t)},swipeEvent:function(t){return e.$parent.$emit("swipe",t)}}));n&&(n.swiping&&(this.clickable=!1),Object.assign(this.$data,n))},swipeEnd:function(t){var e=function(t,e){var n=e.dragging,i=e.swipe,r=e.touchObject,s=e.listWidth,o=e.touchThreshold,l=e.verticalSwiping,c=e.listHeight,u=e.currentSlide,d=e.swipeToSlide,h=e.scrolling,f=e.onSwipe;if(!n)return i&&t.preventDefault(),{};var p=l?c/o:s/o,m=H(r,l),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return g;if(!r.swipeLength)return g;if(r.swipeLength>p){var v,y;switch(t.preventDefault(),f&&f(m),m){case"left":case"up":y=u+N(e),v=d?M(e,y):y,g.currentDirection=0;break;case"right":case"down":y=u-N(e),v=d?M(e,y):y,g.currentDirection=1;break;default:v=u}g.triggerSlideHandler=v}else{var b=G(e);g.trackStyle=V(a({},e,{left:b}))}return g}(t,a({},this.$props,{},this.$data,{trackRef:this.$refs.track,listRef:this.$refs.list,slideIndex:this.currentSlide}));if(e){var n=e.triggerSlideHandler;this.triggerSlideHandler=void 0,Object.assign(this.$data,e),void 0!==n&&(this.slideHandler(n),this.verticalSwiping&&this.enableBodyScroll())}},prev:function(){var t=this;this.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))},next:function(){var t=this;this.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))},goTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=Number(t),isNaN(t))return"";this.callbackTimers.push(setTimeout((function(){return e.changeSlide({message:"index",index:t,currentSlide:e.currentSlide},n)}),0))},play:function(){var t;if(this.rtl)t=this.currentSlide-this.slidesToScroll;else{if(!j(a({},this.$props,{},this.$data)))return!1;t=this.currentSlide+this.slidesToScroll}this.slideHandler(t)},autoPlay:function(t){this.autoplayTimer&&clearInterval(this.autoplayTimer);var e=this.autoplaying;if("update"===t){if("hovered"===e||"focused"===e||"paused"===e)return}else if("leave"===t){if("paused"===e||"focused"===e)return}else if("blur"===t&&("paused"===e||"hovered"===e))return;this.autoplayTimer=setInterval(this.play,this.autoplaySpeed+50),this.autoplaying="playing"},pause:function(t){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null);var e=this.autoplaying;"paused"===t?this.autoplaying="paused":"focused"===t?"hovered"!==e&&"playing"!==e||(this.autoplaying="focused"):"playing"===e&&(this.autoplaying="hovered")},onDotsOver:function(){this.autoplay&&this.pause("hovered")},onDotsLeave:function(){this.autoplay&&"hovered"===this.autoplaying&&this.autoPlay("leave")},onTrackOver:function(){this.autoplay&&this.pause("hovered")},onTrackLeave:function(){this.autoplay&&"hovered"===this.autoplaying&&this.autoPlay("leave")},onSlideFocus:function(){this.autoplay&&this.pause("focused")},onSlideBlur:function(){this.autoplay&&"focused"===this.autoplaying&&this.autoPlay("blur")},selectHandler:function(t){this.focusOnSelect&&this.changeSlide(t)}},render:function(){var t=arguments[0],e={"slick-slider":!0,"slick-initialized":!0,"slick-vertical":this.vertical},n=F(this.spec,$.TRACK);n=R(a({},n));var i,r,s,o=this.pauseOnHover,l=R({mouseenter:o?this.onTrackOver:void 0,mouseover:o?this.onTrackOver:void 0,mouseleave:o?this.onTrackLeave:void 0});if(!0===this.dots&&this.slideCount>=this.slidesToShow){var c=F(this.spec,$.DOT),u=this.pauseOnDotsHover,d=R({mouseenter:u?this.onDotsLeave:void 0,mouseover:u?this.onDotsOver:void 0,mouseleave:u?this.onDotsLeave:void 0});i=t(dt,{props:a({},c),nativeOn:a({},d),on:{dotClicked:this.changeSlide}})}var h=F(this.spec,$.ARROW);this.arrows&&(r=t(ct,{props:a({},a({},h,{type:"previous"})),on:{arrowClicked:this.changeSlide}}),s=t(ct,{props:a({},a({},h,{type:"next"})),on:{arrowClicked:this.changeSlide}}));var f={};this.vertical&&(f={height:"".concat(this.listHeight,"px")});var p={};!1===this.vertical?!0===this.centerMode&&(p={padding:"0px "+this.centerPadding}):!0===this.centerMode&&(p={padding:this.centerPadding+" 0px"});var m,g=a({},this.$parent.$vnode.data.style);this.unslick||(g=a({},g,{},(m=f,Object.keys(m).filter((function(t){return void 0!==m[t]&&null!==m[t]})).reduce((function(t,e){return t[e]=m[e],t}),{})),{},p));var v=this.accessibility,y=this.dragging,b=this.touchMove,_=R({click:this.clickHandler,mousedown:b?this.swipeStart:void 0,mousemove:y&&b?this.swipeMove:void 0,mouseup:b?this.swipeEnd:void 0,mouseleave:y&&b?this.swipeEnd:void 0,touchstart:b?this.swipeStart:void 0,touchmove:y&&b?this.swipeMove:void 0,touchend:b?this.swipeEnd:void 0,touchcancel:y&&b?this.swipeEnd:void 0,keydown:v?this.keyHandler:void 0});return t("div",{class:e,attrs:{dir:!this.unslick&&"ltr"}},[this.unslick?"":r,t("div",{ref:"list",class:"slick-list",on:a({},_),style:g},[t(rt,{ref:"track",props:a({},n),nativeOn:a({},l),on:{childClicked:this.selectHandler}},[this.$slots.default])]),this.unslick?"":s,this.unslick?"":i])}},pt=ft,mt=(n("eaf9"),c(pt,void 0,void 0,!1,null,"3d1a4f76",null).exports),gt=T()&&n("8e95"),vt={name:"VueSlickCarousel",components:{InnerSlider:mt},mixins:[u],inheritAttrs:!1,props:K,data:function(){return{breakpoint:null}},computed:{settings:function(){var t,e,n=this,i=R(this.$props);return t=this.breakpoint?"unslick"===(e=this.responsive.filter((function(t){return t.breakpoint===n.breakpoint})))[0].settings?"unslick":a({},z,{},i,{},e[0].settings):a({},z,{},i),t.centerMode&&(t.slidesToScroll,t.slidesToScroll=1),t.fade&&(t.slidesToShow,t.slidesToScroll,t.slidesToShow=1,t.slidesToScroll=1),t.variableWidth&&(t.rows>1||t.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),t.variableWidth=!1),t}},created:function(){this.makeBreakpoints()},beforeDestroy:function(){this.clearBreakpoints()},methods:{prev:function(){this.$refs.innerSlider.prev()},next:function(){this.$refs.innerSlider.next()},goTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$refs.innerSlider.goTo(t,e)},pause:function(){this.$refs.innerSlider.pause("paused")},play:function(){this.$refs.innerSlider.autoPlay("play")},onPropsUpdated:function(){this.clearBreakpoints(),this.makeBreakpoints()},clearBreakpoints:function(){this.responsiveMediaHandlers.forEach((function(t){return gt.unregister(t.query,t.handler)})),this.responsiveMediaHandlers=[]},media:function(t,e){T()&&(gt.register(t,e),this.responsiveMediaHandlers.push({query:t,handler:e}))},makeBreakpoints:function(){var t=this;if(this.breakpoint=null,this.responsiveMediaHandlers=[],this.responsive){var e=this.responsive.map((function(t){return t.breakpoint}));e.sort((function(t,e){return t-e})),e.forEach((function(n,i){var r=l()({minWidth:0===i?0:e[i-1]+1,maxWidth:n});t.media(r,(function(){t.breakpoint=n}))}));var n=l()({minWidth:e.slice(-1)[0]});this.media(n,(function(){t.breakpoint=null}))}}},render:function(){var t=arguments[0],e=this.settings,n=this.$slots.default||[];if("unslick"===e)return t("div",{class:"regular slider"},[n]);e.prevArrow=this.$scopedSlots.prevArrow,e.nextArrow=this.$scopedSlots.nextArrow,e.customPaging=this.$scopedSlots.customPaging,n=n.filter((function(t){return!!t.tag}));for(var i=[],r=null,s=0;s<n.length;s+=e.rows*e.slidesPerRow){for(var o=[],l=s;l<s+e.rows*e.slidesPerRow;l+=e.slidesPerRow){for(var c=[],u=l;u<l+e.slidesPerRow&&(e.variableWidth&&S(n[u])&&(r=S(n[u]).width),!(u>=n.length));u+=1){var d=_(n[u]);y(d,"key",100*s+10*l+u),v(d,"attrs",{tabIndex:-1}),v(d,"style",{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}),c.push(d)}o.push(t("div",{key:10*s+l},[c]))}e.variableWidth?i.push(t("div",{key:s,style:{width:r}},[o])):i.push(t("div",{key:s},[o]))}return i.length<=e.slidesToShow&&(e.unslick=!0),t(mt,{ref:"innerSlider",props:a({},e),key:Object.values(e).join("")},[i])}},yt=c(vt,void 0,void 0,!1,null,null,null).exports;e.default=yt},fb6a:function(t,e,n){"use strict";var i=n("23e7"),r=n("861d"),s=n("e8b5"),a=n("23cb"),o=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),h=n("ae40"),f=d("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),g=[].slice,v=Math.max;i({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,e){var n,i,u,d=l(this),h=o(d.length),f=a(t,h),p=a(void 0===e?h:e,h);if(s(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!s(n.prototype)?r(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(d,f,p);for(i=new(void 0===n?Array:n)(v(p-f,0)),u=0;f<p;f++,u++)f in d&&c(i,u,d[f]);return i.length=u,i}})},fc6a:function(t,e,n){var i=n("44ad"),r=n("1d80");t.exports=function(t){return i(r(t))}},fdb2:function(t,e,n){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var i=n("4930");t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},t.exports=e()},629:(t,e,n)=>{"use strict";n.d(e,{Se:()=>T,ZP:()=>P,nv:()=>w});var i=("undefined"!=typeof window?window:void 0!==n.g?n.g:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,i=(n=function(e){return e.original===t},e.filter(n)[0]);if(i)return i.copy;var s=Array.isArray(t)?[]:{};return e.push({original:t,copy:s}),Object.keys(t).forEach((function(n){s[n]=r(t[n],e)})),s}function s(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function a(t){return null!==t&&"object"==typeof t}var o=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.hasChild=function(t){return t in this._children},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){s(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&s(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&s(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,l);var c=function(t){this.register([],t,!1)};function u(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;u(t.concat(i),e.getChild(i),n.modules[i])}}c.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},c.prototype.update=function(t){u([],this.root,t)},c.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new o(e,n);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r);e.modules&&s(e.modules,(function(e,r){i.register(t.concat(r),e,n)}))},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var d;var h=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!=typeof window&&window.Vue&&_(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d,this._makeLocalGettersCache=Object.create(null);var s=this,a=this.dispatch,o=this.commit;this.dispatch=function(t,e){return a.call(s,t,e)},this.commit=function(t,e,n){return o.call(s,t,e,n)},this.strict=r;var l=this._modules.root.state;v(this,l,[],this._modules.root),g(this,l),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:d.config.devtools)&&function(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){i.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function p(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function m(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;v(t,n,[],t._modules.root,!0),g(t,n,e)}function g(t,e,n){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,a={};s(r,(function(e,n){a[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var o=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:e},computed:a}),d.config.silent=o,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit((function(){i._data.$$state=null})),d.nextTick((function(){return i.$destroy()})))}function v(t,e,n,i,r){var s=!n.length,a=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=i),!s&&!r){var o=y(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){d.set(o,l,i.state)}))}var c=i.context=function(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var s=b(n,i,r),a=s.payload,o=s.options,l=s.type;return o&&o.root||(l=e+l),t.dispatch(l,a)},commit:i?t.commit:function(n,i,r){var s=b(n,i,r),a=s.payload,o=s.options,l=s.type;o&&o.root||(l=e+l),t.commit(l,a,o)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,i)===e){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return y(t.state,n)}}}),r}(t,a,n);i.forEachMutation((function(e,n){!function(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){n.call(t,i.state,e)}))}(t,a+n,e,c)})),i.forEachAction((function(e,n){var i=e.root?n:a+n,r=e.handler||e;!function(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r,s=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return(r=s)&&"function"==typeof r.then||(s=Promise.resolve(s)),t._devtoolHook?s.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):s}))}(t,i,r,c)})),i.forEachGetter((function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,a+n,e,c)})),i.forEachChild((function(i,s){v(t,e,n.concat(s),i,r)}))}function y(t,e){return e.reduce((function(t,e){return t[e]}),t)}function b(t,e,n){return a(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function _(t){d&&t===d||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(d=t)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},h.prototype.commit=function(t,e,n){var i=this,r=b(t,e,n),s=r.type,a=r.payload,o=(r.options,{type:s,payload:a}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(o,i.state)})))},h.prototype.dispatch=function(t,e){var n=this,i=b(t,e),r=i.type,s=i.payload,a={type:r,payload:s},o=this._actions[r];if(o){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(t){0}var l=o.length>1?Promise.all(o.map((function(t){return t(s)}))):o[0](s);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(t){0}e(t)}))}))}},h.prototype.subscribe=function(t,e){return p(t,this._subscribers,e)},h.prototype.subscribeAction=function(t,e){return p("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},h.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch((function(){return t(i.state,i.getters)}),e,n)},h.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},h.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),v(this,this.state,t,this._modules.get(t),n.preserveState),g(this,this.state)},h.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=y(e.state,t.slice(0,-1));d.delete(n,t[t.length-1])})),m(this)},h.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},h.prototype.hotUpdate=function(t){this._modules.update(t),m(this,!0)},h.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(h.prototype,f);var E=C((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=x(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0})),n})),S=C((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var s=x(this.$store,"mapMutations",t);if(!s)return;i=s.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n})),T=C((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||x(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0})),n})),w=C((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var s=x(this.$store,"mapActions",t);if(!s)return;i=s.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n}));function k(t){return function(t){return Array.isArray(t)||a(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function C(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function x(t,e,n){return t._modulesNamespaceMap[n]}function A(t,e,n){var i=n?t.groupCollapsed:t.group;try{i.call(t,e)}catch(n){t.log(e)}}function I(t){try{t.groupEnd()}catch(e){t.log(" log end ")}}function D(){var t=new Date;return" @ "+L(t.getHours(),2)+":"+L(t.getMinutes(),2)+":"+L(t.getSeconds(),2)+"."+L(t.getMilliseconds(),3)}function L(t,e){return n="0",i=e-t.toString().length,new Array(i+1).join(n)+t;var n,i}const P={Store:h,install:_,version:"3.6.2",mapState:E,mapMutations:S,mapGetters:T,mapActions:w,createNamespacedHelpers:function(t){return{mapState:E.bind(null,t),mapGetters:T.bind(null,t),mapMutations:S.bind(null,t),mapActions:w.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var i=t.transformer;void 0===i&&(i=function(t){return t});var s=t.mutationTransformer;void 0===s&&(s=function(t){return t});var a=t.actionFilter;void 0===a&&(a=function(t,e){return!0});var o=t.actionTransformer;void 0===o&&(o=function(t){return t});var l=t.logMutations;void 0===l&&(l=!0);var c=t.logActions;void 0===c&&(c=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var d=r(t.state);void 0!==u&&(l&&t.subscribe((function(t,a){var o=r(a);if(n(t,d,o)){var l=D(),c=s(t),h="mutation "+t.type+l;A(u,h,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",i(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",i(o)),I(u)}d=o})),c&&t.subscribeAction((function(t,n){if(a(t,n)){var i=D(),r=o(t),s="action "+t.type+i;A(u,s,e),u.log("%c action","color: #03A9F4; font-weight: bold",r),I(u)}})))}}}},3041:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>ml});const i=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},r=Number.isSafeInteger||function(t){return"number"==typeof t&&Math.abs(t)<=s},s=Number.MAX_SAFE_INTEGER||9007199254740991;let a=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),o=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),l=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var c="manifest",u="level",d="audioTrack",h="subtitleTrack",f="main",p="audio",m="subtitle";class g{constructor(t,e=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=n}sample(t,e){const n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class v{constructor(t,e,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new g(t),this.fast_=new g(e),this.defaultTTFB_=i,this.ttfb_=new g(t)}update(t,e){const{slow_:n,fast_:i,ttfb_:r}=this;n.halfLife!==t&&(this.slow_=new g(t,n.getEstimate(),n.getTotalWeight())),i.halfLife!==e&&(this.fast_=new g(e,i.getEstimate(),i.getTotalWeight())),r.halfLife!==t&&(this.ttfb_=new g(t,r.getEstimate(),r.getTotalWeight()))}sample(t,e){const n=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/n;this.fast_.sample(n,i),this.slow_.sample(n,i)}sampleTTFB(t){const e=t/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function y(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},b.apply(null,arguments)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class S{constructor(t,e){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${t}]:`;this.trace=T,this.debug=e.debug.bind(null,n),this.log=e.log.bind(null,n),this.warn=e.warn.bind(null,n),this.info=e.info.bind(null,n),this.error=e.error.bind(null,n)}}const T=function(){},w={trace:T,debug:T,log:T,warn:T,info:T,error:T};function k(){return b({},w)}function C(t,e,n){return e[t]?e[t].bind(e):function(t,e){const n=self.console[t];return n?n.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):T}(t,n)}const x=k();const A=x;function I(t=!0){if("undefined"==typeof self)return;return(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function D(t,e){const n=Object.keys(t),i=Object.keys(e),r=n.length,s=i.length;return!r||!s||r===s&&!n.some((t=>-1===i.indexOf(t)))}function L(t,e=!1){if("undefined"!=typeof TextDecoder){const n=new TextDecoder("utf-8").decode(t);if(e){const t=n.indexOf("\0");return-1!==t?n.substring(0,t):n}return n.replace(/\0/g,"")}const n=t.length;let i,r,s,a="",o=0;for(;o<n;){if(i=t[o++],0===i&&e)return a;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:r=t[o++],a+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t[o++],s=t[o++],a+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&s)<<0)}}return a}function P(t){let e="";for(let n=0;n<t.length;n++){let i=t[n].toString(16);i.length<2&&(i="0"+i),e+=i}return e}function O(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function R(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M,N={exports:{}};var F,$,j,B,U,H=(M||(M=1,F=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,$=/^(?=([^\/?#]*))\1([^]*)$/,j=/(?:\/|^)\.(?=\/)/g,B=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,N.exports=U={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=U.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=U.normalizePath(i.path),U.buildURLFromParts(i)}var r=U.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=U.normalizePath(r.path),U.buildURLFromParts(r)):e;var s=U.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var a=$.exec(s.path);s.netLoc=a[1],s.path=a[2]}s.netLoc&&!s.path&&(s.path="/");var o={scheme:s.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=s.netLoc,"/"!==r.path[0]))if(r.path){var l=s.path,c=l.substring(0,l.lastIndexOf("/")+1)+r.path;o.path=U.normalizePath(c)}else o.path=s.path,r.params||(o.params=s.params,r.query||(o.query=s.query));return null===o.path&&(o.path=n.alwaysNormalize?U.normalizePath(r.path):r.path),U.buildURLFromParts(o)},parseURL:function(t){var e=F.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(j,"");t.length!==(t=t.replace(B,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}}),N.exports);class G{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var q="audio",W="video",V="audiovideo";class K{constructor(t){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,"string"==typeof t&&(t={url:t}),this.base=t,function(t,e){const n=X(t,e);n&&(n.enumerable=!0,Object.defineProperty(t,e,n))}(this,"stats")}setByteRange(t,e){const n=t.split("@",2);let i;i=1===n.length?(null==e?void 0:e.byteRangeEndOffset)||0:parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return null===this._byteRange?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return null===this._streams&&(this._streams={[q]:null,[W]:null,[V]:null}),this._streams}set elementaryStreams(t){this._streams=t}get hasStats(){return null!==this._stats}get hasStreams(){return null!==this._streams}get stats(){return null===this._stats&&(this._stats=new G),this._stats}set stats(t){this._stats=t}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=H.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[q]=null,t[W]=null,t[V]=null}}function z(t){return"initSegment"!==t.sn}class Y extends K{constructor(t,e){super(e),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get byteLength(){if(this.hasStats){const t=this.stats.total;if(t)return t}if(this.byteRange.length){const t=this.byteRange[0],e=this.byteRange[1];if(i(t)&&i(e))return e-t}return null}get bitrate(){return this.byteLength?8*this.byteLength/this.duration:this._bitrate?this._bitrate:null}set bitrate(t){this._bitrate=t}get decryptdata(){var t;const{levelkeys:e}=this;if(!e||e.NONE)return null;if(e.identity)this._decryptdata||(this._decryptdata=e.identity.getDecryptData(this.sn));else if(null==(t=this._decryptdata)||!t.keyId){const t=Object.keys(e);if(1===t.length){const n=this._decryptdata=e[t[0]]||null;n&&(this._decryptdata=n.getDecryptData(this.sn,e))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;const t=i(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){var e;const t=Object.keys(this.levelkeys),n=t.length;if(n>1||1===n&&null!=(e=this.levelkeys[t[0]])&&e.encrypted)return!0}return!1}get programDateTime(){return null===this._programDateTime&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(t){i(t)?this._programDateTime=t:this._programDateTime=this.rawProgramDateTime=null}get ref(){return z(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(t){this.setStart(this.start+t)}setStart(t){this.start=t,this._ref&&(this._ref.start=t)}setDuration(t){this.duration=t,this._ref&&(this._ref.duration=t)}setKeyFormat(t){const e=this.levelkeys;if(e){var n;const i=e[t];!i||null!=(n=this._decryptdata)&&n.keyId||(this._decryptdata=i.getDecryptData(this.sn,e))}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(t,e,n,i,r,s=!1){const{elementaryStreams:a}=this,o=a[t];o?(o.startPTS=Math.min(o.startPTS,e),o.endPTS=Math.max(o.endPTS,n),o.startDTS=Math.min(o.startDTS,i),o.endDTS=Math.max(o.endDTS,r)):a[t]={startPTS:e,endPTS:n,startDTS:i,endDTS:r,partial:s}}}class Q extends K{constructor(t,e,n,i,r){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=i;const s=t.enumeratedString("BYTERANGE");s&&this.setByteRange(s,r),r&&(this.fragOffset=r.fragOffset+r.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}function X(t,e){const n=Object.getPrototypeOf(t);if(n){const t=Object.getOwnPropertyDescriptor(n,e);return t||X(n,e)}}const Z=Math.pow(2,32)-1,J=[].push,tt={video:1,audio:2,id3:3,text:4};function et(t){return String.fromCharCode.apply(null,t)}function nt(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function it(t,e){const n=st(t,e);return n<0?4294967296+n:n}function rt(t,e){let n=it(t,e);return n*=Math.pow(2,32),n+=it(t,e+4),n}function st(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function at(t,e){const n=[];if(!e.length)return n;const i=t.byteLength;for(let r=0;r<i;){const s=it(t,r),a=s>1?r+s:i;if(et(t.subarray(r+4,r+8))===e[0])if(1===e.length)n.push(t.subarray(r+8,a));else{const i=at(t.subarray(r+8,a),e.slice(1));i.length&&J.apply(n,i)}r=a}return n}function ot(t){const e=[],n=t[0];let i=8;const r=it(t,i);i+=4;let s=0,a=0;0===n?(s=it(t,i),a=it(t,i+4),i+=8):(s=rt(t,i),a=rt(t,i+8),i+=16),i+=2;let o=t.length+a;const l=nt(t,i);i+=2;for(let n=0;n<l;n++){let n=i;const s=it(t,n);n+=4;const a=2147483647&s;if(1===(2147483648&s)>>>31)return A.warn("SIDX has hierarchical references (not supported)"),null;const l=it(t,n);n+=4,e.push({referenceSize:a,subsegmentDuration:l,info:{duration:l/r,start:o,end:o+a-1}}),o+=a,n+=4,i=n}return{earliestPresentationTime:s,timescale:r,version:n,referencesCount:l,references:e}}function lt(t){const e=[],n=at(t,["moov","trak"]);for(let t=0;t<n.length;t++){const i=n[t],r=at(i,["tkhd"])[0];if(r){let t=r[0];const n=it(r,0===t?12:20),s=at(i,["mdia","mdhd"])[0];if(s){t=s[0];const r=it(s,0===t?12:20),a=at(i,["mdia","hdlr"])[0];if(a){const t=et(a.subarray(8,12)),s={soun:q,vide:W}[t],o=ct(at(i,["mdia","minf","stbl","stsd"])[0]);s?(e[n]={timescale:r,type:s,stsd:o},e[s]=E({timescale:r,id:n},o)):e[n]={timescale:r,type:t,stsd:o}}}}}return at(t,["moov","mvex","trex"]).forEach((t=>{const n=it(t,4),i=e[n];i&&(i.default={duration:it(t,12),flags:it(t,20)})})),e}function ct(t){const e=t.subarray(8),n=e.subarray(86),i=et(e.subarray(4,8));let r,s=i;const a="enca"===i||"encv"===i;if(a){const t=at(e,[i])[0];at(t.subarray("enca"===i?28:78),["sinf"]).forEach((t=>{const e=at(t,["schm"])[0];if(e){const n=et(e.subarray(4,8));if("cbcs"===n||"cenc"===n){const e=at(t,["frma"])[0];e&&(s=et(e))}}}))}const o=s;switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{const t=at(n,["avcC"])[0];t&&t.length>3&&(s+="."+ht(t[1])+ht(t[2])+ht(t[3]),r=ut("avc1"===o?"dva1":"dvav",n));break}case"mp4a":{const t=at(e,[i])[0],n=at(t.subarray(28),["esds"])[0];if(n&&n.length>7){let t=4;if(3!==n[t++])break;t=dt(n,t),t+=2;const e=n[t++];if(128&e&&(t+=2),64&e&&(t+=n[t++]),4!==n[t++])break;t=dt(n,t);const i=n[t++];if(64!==i)break;if(s+="."+ht(i),t+=12,5!==n[t++])break;t=dt(n,t);const r=n[t++];let a=(248&r)>>3;31===a&&(a+=1+((7&r)<<3)+((224&n[t])>>5)),s+="."+a}break}case"hvc1":case"hev1":{const t=at(n,["hvcC"])[0];if(t&&t.length>12){const e=t[1],n=["","A","B","C"][e>>6],i=31&e,r=it(t,2),a=(32&e)>>5?"H":"L",o=t[12],l=t.subarray(6,12);s+="."+n+i,s+="."+function(t){let e=0;for(let n=0;n<32;n++)e|=(t>>n&1)<<31-n;return e>>>0}(r).toString(16).toUpperCase(),s+="."+a+o;let c="";for(let t=l.length;t--;){const e=l[t];if(e||c){c="."+e.toString(16).toUpperCase()+c}}s+=c}r=ut("hev1"==o?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":s=ut(s,n)||s;break;case"vp09":{const t=at(n,["vpcC"])[0];if(t&&t.length>6){const e=t[4],n=t[5],i=t[6]>>4&15;s+="."+ft(e)+"."+ft(n)+"."+ft(i)}break}case"av01":{const t=at(n,["av1C"])[0];if(t&&t.length>2){const e=t[1]>>>5,i=31&t[1],a=t[2]>>>7?"H":"M",o=(64&t[2])>>6,l=(32&t[2])>>5,c=2===e&&o?l?12:10:o?10:8,u=(16&t[2])>>4,d=(8&t[2])>>3,h=(4&t[2])>>2,f=3&t[2],p=1,m=1,g=1,v=0;s+="."+e+"."+ft(i)+a+"."+ft(c)+"."+u+"."+d+h+f+"."+ft(p)+"."+ft(m)+"."+ft(g)+"."+v,r=ut("dav1",n)}break}}return{codec:s,encrypted:a,supplemental:r}}function ut(t,e){const n=at(e,["dvvC"]),i=n.length?n[0]:at(e,["dvcC"])[0];if(i){const e=i[2]>>1&127,n=i[2]<<5&32|i[3]>>3&31;return t+"."+ft(e)+"."+ft(n)}}function dt(t,e){const n=e+5;for(;128&t[e++]&&e<n;);return e}function ht(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function ft(t){return(t<10?"0":"")+t}function pt(t,e){at(t,["moov","trak"]).forEach((t=>{const n=at(t,["mdia","minf","stbl","stsd"])[0];if(!n)return;const i=n.subarray(8);let r=at(i,["enca"]);const s=r.length>0;s||(r=at(i,["encv"])),r.forEach((t=>{at(s?t.subarray(28):t.subarray(78),["sinf"]).forEach((t=>{const n=mt(t);n&&e(n,s)}))}))}))}function mt(t){const e=at(t,["schm"])[0];if(e){const n=et(e.subarray(4,8));if("cbcs"===n||"cenc"===n){const e=at(t,["schi","tenc"])[0];if(e)return e}}}function gt(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function vt(t,e){const n=[],i=e.samples,r=e.timescale,s=e.id;let a=!1;return at(i,["moof"]).map((o=>{const l=o.byteOffset-8;at(o,["traf"]).map((o=>{const c=at(o,["tfdt"]).map((t=>{const e=t[0];let n=it(t,4);return 1===e&&(n*=Math.pow(2,32),n+=it(t,8)),n/r}))[0];return void 0!==c&&(t=c),at(o,["tfhd"]).map((c=>{const u=it(c,4),d=16777215&it(c,0);let h=0;const f=0!=(16&d);let p=0;const m=0!=(32&d);let g=8;u===s&&(0!=(1&d)&&(g+=8),0!=(2&d)&&(g+=4),0!=(8&d)&&(h=it(c,g),g+=4),f&&(p=it(c,g),g+=4),m&&(g+=4),"video"===e.type&&(a=yt(e.codec)),at(o,["trun"]).map((s=>{const o=s[0],c=16777215&it(s,0),u=0!=(1&c);let d=0;const f=0!=(4&c),m=0!=(256&c);let g=0;const v=0!=(512&c);let y=0;const b=0!=(1024&c),_=0!=(2048&c);let E=0;const S=it(s,4);let T=8;u&&(d=it(s,T),T+=4),f&&(T+=4);let w=d+l;for(let l=0;l<S;l++){if(m?(g=it(s,T),T+=4):g=h,v?(y=it(s,T),T+=4):y=p,b&&(T+=4),_&&(E=0===o?it(s,T):st(s,T),T+=4),e.type===W){let e=0;for(;e<y;){const s=it(i,w);if(w+=4,bt(a,i[w])){_t(i.subarray(w,w+s),a?2:1,t+E/r,n)}w+=s,e+=s+4}}t+=g/r}})))}))}))})),n}function yt(t){if(!t)return!1;const e=t.substring(0,4);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}function bt(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6===(31&e)}function _t(t,e,n,i){const r=Et(t);let s=0;s+=e;let a=0,o=0,l=0;for(;s<r.length;){a=0;do{if(s>=r.length)break;l=r[s++],a+=l}while(255===l);o=0;do{if(s>=r.length)break;l=r[s++],o+=l}while(255===l);const t=r.length-s;let e=s;if(o<t)s+=o;else if(o>t){A.error(`Malformed SEI payload. ${o} is too small, only ${t} bytes left to parse.`);break}if(4===a){if(181===r[e++]){const t=nt(r,e);if(e+=2,49===t){const t=it(r,e);if(e+=4,1195456820===t){const t=r[e++];if(3===t){const s=r[e++],o=64&s,l=o?2+3*(31&s):0,c=new Uint8Array(l);if(o){c[0]=s;for(let t=1;t<l;t++)c[t]=r[e++]}i.push({type:t,payloadType:a,pts:n,bytes:c})}}}}}else if(5===a&&o>16){const t=[];for(let n=0;n<16;n++){const i=r[e++].toString(16);t.push(1==i.length?"0"+i:i),3!==n&&5!==n&&7!==n&&9!==n||t.push("-")}const s=o-16,l=new Uint8Array(s);for(let t=0;t<s;t++)l[t]=r[e++];i.push({payloadType:a,pts:n,uuid:t.join(""),userData:L(l),userDataBytes:l})}}}function Et(t){const e=t.byteLength,n=[];let i=1;for(;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return t;const r=e-n.length,s=new Uint8Array(r);let a=0;for(i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),s[i]=t[a];return s}function St(t,e,n){if(16!==t.byteLength)throw new RangeError("Invalid system id");let i,r,s;i=0,r=new Uint8Array,s=new Uint8Array;const a=new Uint8Array(4);return n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),function(t,...e){const n=e.length;let i=8,r=n;for(;r--;)i+=e[r].byteLength;const s=new Uint8Array(i);for(s[0]=i>>24&255,s[1]=i>>16&255,s[2]=i>>8&255,s[3]=255&i,s.set(t,4),r=0,i=8;r<n;r++)s.set(e[r],i),i+=e[r].byteLength;return s}([112,115,115,104],new Uint8Array([0,0,0,0]),t,s,r,a,n)}function Tt(t){const e=t.getUint32(0),n=t.byteOffset,i=t.byteLength;if(i<e)return{offset:n,size:i};if(1886614376!==t.getUint32(4))return{offset:n,size:e};const r=t.getUint32(8)>>>24;if(0!==r&&1!==r)return{offset:n,size:e};const s=t.buffer,a=P(new Uint8Array(s,n+12,16));let o=null,l=null,c=0;if(0===r)c=28;else{const r=t.getUint32(28);if(!r||i<32+16*r)return{offset:n,size:e};o=[];for(let t=0;t<r;t++)o.push(new Uint8Array(s,n+32+16*t,16));c=32+16*r}if(!c)return{offset:n,size:e};const u=t.getUint32(c);return e-32<u?{offset:n,size:e}:(l=new Uint8Array(s,n+c+4,u),{version:r,systemId:a,kids:o,data:l,offset:n,size:e})}const wt=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),kt={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Ct(t,e){const n=kt[e];return!!n&&!!n[t.slice(0,4)]}function xt(t,e,n=!0){return!t.split(",").some((t=>!At(t,e,n)))}function At(t,e,n=!0){var i;const r=I(n);return null!=(i=null==r?void 0:r.isTypeSupported(It(t,e)))&&i}function It(t,e){return`${e}/mp4;codecs=${t}`}function Dt(t){if(t){const e=t.substring(0,4);return kt.video[e]}return 2}function Lt(t){const e=wt();return t.split(",").reduce(((t,n)=>{const i=e&&yt(n)?9:kt.video[n];return i?(2*i+t)/(t?3:2):(kt.audio[n]+t)/(t?2:1)}),0)}const Pt={};const Ot=/flac|opus|mp4a\.40\.34/i;function Rt(t,e=!0){return t.replace(Ot,(t=>function(t,e=!0){if(Pt[t])return Pt[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let r=0;r<n.length;r++){var i;if(At(n[r],"audio",e))return Pt[t]=n[r],n[r];if("mp3"===n[r]&&null!=(i=I(e))&&i.isTypeSupported("audio/mpeg"))return""}return t}(t.toLowerCase(),e)))}function Mt(t,e){if(t&&(t.length>4||-1!==["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t))&&(Nt(t,"audio")||Nt(t,"video")))return t;if(e){const n=e.split(",");if(n.length>1){if(t)for(let e=n.length;e--;)if(n[e].substring(0,4)===t.substring(0,4))return n[e];return n[0]}}return e||t}function Nt(t,e){return Ct(t,e)&&At(t,e)}function Ft(t){if(t.startsWith("av01.")){const e=t.split("."),n=["0","111","01","01","01","0"];for(let t=e.length;t>4&&t<10;t++)e[t]=n[t-4];return e.join(".")}return t}function $t(t){const e=I(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function jt(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const Bt={supported:!1,smooth:!1,powerEfficient:!1},Ut={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function Ht(t,e){return{supported:!1,configurations:e,decodingInfoResults:[Bt],error:t}}function Gt(t,e,n,r,s,a){const o=t.videoCodec,l=t.audioCodec?t.audioGroups:null,c=null==a?void 0:a.audioCodec,u=null==a?void 0:a.channels,d=u?parseInt(u):c?1/0:2;let h=null;if(null!=l&&l.length)try{h=1===l.length&&l[0]?e.groups[l[0]].channels:l.reduce(((t,n)=>{if(n){const i=e.groups[n];if(!i)throw new Error(`Audio track group ${n} not found`);Object.keys(i.channels).forEach((e=>{t[e]=(t[e]||0)+i.channels[e]}))}return t}),{2:0})}catch(t){return!0}return void 0!==o&&(o.split(",").some((t=>yt(t)))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||"SDR"!==t.videoRange&&t.videoRange!==n||t.bitrate>Math.max(s,8e6))||!!h&&i(d)&&Object.keys(h).some((t=>parseInt(t)>d))}function qt(t,e,n,i={}){const r=t.videoCodec;if(!r&&!t.audioCodec||!n)return Promise.resolve(Ut);const s=[],a=function(t){var e;const n=null==(e=t.videoCodec)?void 0:e.split(","),i=Vt(t),r=t.width||640,s=t.height||480,a=t.frameRate||30,o=t.videoRange.toLowerCase();return n?n.map((t=>{const e={contentType:It(Ft(t),"video"),width:r,height:s,bitrate:i,framerate:a};return"sdr"!==o&&(e.transferFunction=o),e})):[]}(t),o=a.length,l=function(t,e,n){var i;const r=null==(i=t.audioCodec)?void 0:i.split(","),s=Vt(t);if(r&&t.audioGroups)return t.audioGroups.reduce(((t,i)=>{var a;const o=i?null==(a=e.groups[i])?void 0:a.tracks:null;return o?o.reduce(((t,e)=>{if(e.groupId===i){const i=parseFloat(e.channels||"");r.forEach((e=>{const r={contentType:It(e,"audio"),bitrate:n?Wt(e,s):s};i&&(r.channels=""+i),t.push(r)}))}return t}),t):t}),[]);return[]}(t,e,o>0),c=l.length;for(let t=o||1*c||1;t--;){const e={type:"media-source"};if(o&&(e.video=a[t%o]),c){e.audio=l[t%c];const n=e.audio.bitrate;e.video&&n&&(e.video.bitrate-=n)}s.push(e)}if(r){const t=navigator.userAgent;if(r.split(",").some((t=>yt(t)))&&wt())return Promise.resolve(Ht(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${t})`),s))}return Promise.all(s.map((t=>{const e=function(t){let e="";const{audio:n,video:i}=t;if(i){e+=`${jt(i.contentType)}_r${i.height}x${i.width}f${Math.ceil(i.framerate)}${i.transferFunction||"sd"}_${Math.ceil(i.bitrate/1e5)}`}if(n){e+=`${i?"_":""}${jt(n.contentType)}_c${n.channels}`}return e}(t);return i[e]||(i[e]=n.decodingInfo(t))}))).then((t=>({supported:!t.some((t=>!t.supported)),configurations:s,decodingInfoResults:t}))).catch((t=>({supported:!1,configurations:s,decodingInfoResults:[],error:t})))}function Wt(t,e){if(e<=1)return 1;let n=128e3;return"ec-3"===t?n=768e3:"ac-3"===t&&(n=64e4),Math.min(e/2,n)}function Vt(t){return 1e3*Math.ceil(Math.max(.9*t.bitrate,t.averageBitrate)/1e3)||1}const Kt=["NONE","TYPE-0","TYPE-1",null];const zt=["SDR","PQ","HLG"];var Yt="",Qt="YES",Xt="v2";function Zt(t){const{canSkipUntil:e,canSkipDateRanges:n,age:i}=t;return e&&i<e/2?n?Xt:Qt:Yt}class Jt{constructor(t,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=n}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class te{constructor(t){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter((t=>!!t)).map((t=>t.substring(0,4))).join(","),"supplemental"in t){var e;this.supplemental=t.supplemental;const n=null==(e=t.supplemental)?void 0:e.videoCodec;n&&n!==t.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return ee(this._audioGroups,t)}hasSubtitleGroup(t){return ee(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,e){if(e)if("audio"===t){let t=this._audioGroups;t||(t=this._audioGroups=[]),-1===t.indexOf(e)&&t.push(e)}else if("text"===t){let t=this._subtitleGroups;t||(t=this._subtitleGroups=[]),-1===t.indexOf(e)&&t.push(e)}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return null==(t=this.audioGroups)?void 0:t[0]}get textGroupId(){var t;return null==(t=this.subtitleGroups)?void 0:t[0]}addFallback(){}}function ee(t,e){return!(!e||!t)&&-1!==t.indexOf(e)}function ne(t,e){let n=!1,i=[];if(t&&(n="SDR"!==t,i=[t]),e){i=e.allowedVideoRanges||zt.slice(0);const t="SDR"!==i.join("")&&!e.videoCodec;n=void 0!==e.preferHDR?e.preferHDR:t&&function(){if("function"==typeof matchMedia){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return!0===t.matches}return!1}(),n||(i=["SDR"])}return{preferHDR:n,allowedVideoRanges:i}}const ie=(t,e)=>JSON.stringify(t,(t=>{const e=new WeakSet;return(n,i)=>{if(t&&(i=t(n,i)),"object"==typeof i&&null!==i){if(e.has(i))return;e.add(i)}return i}})(e));function re(t,e){A.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function se(t){return t.reduce(((t,e)=>{let n=t.groups[e.groupId];n||(n=t.groups[e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(e);const i=e.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||e.default,n.hasAutoSelect=n.hasAutoSelect||e.autoselect,n.hasDefault&&(t.hasDefaultAudio=!0),n.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function ae(t){if(!t)return t;const{lang:e,assocLang:n,characteristics:i,channels:r,audioCodec:s}=t;return{lang:e,assocLang:n,characteristics:i,channels:r,audioCodec:s}}function oe(t,e,n){if("attrs"in t){const n=e.indexOf(t);if(-1!==n)return n}for(let i=0;i<e.length;i++){if(le(t,e[i],n))return i}return-1}function le(t,e,n){const{groupId:i,name:r,lang:s,assocLang:a,default:o}=t,l=t.forced;return(void 0===i||e.groupId===i)&&(void 0===r||e.name===r)&&(void 0===s||function(t,e="--"){if(t.length===e.length)return t===e;return t.startsWith(e)||e.startsWith(t)}(s,e.lang))&&(void 0===s||e.assocLang===a)&&(void 0===o||e.default===o)&&(void 0===l||e.forced===l)&&(!("characteristics"in t)||function(t,e=""){const n=t.split(","),i=e.split(",");return n.length===i.length&&!n.some((t=>-1===i.indexOf(t)))}(t.characteristics||"",e.characteristics))&&(void 0===n||n(t,e))}function ce(t,e){const{audioCodec:n,channels:i}=t;return!(void 0!==n&&(e.audioCodec||"").substring(0,4)!==n.substring(0,4)||void 0!==i&&i!==(e.channels||"2"))}function ue(t,e,n){for(let i=e;i>-1;i--)if(n(t[i]))return i;for(let i=e+1;i<t.length;i++)if(n(t[i]))return i;return-1}function de(t,e){var n;return!!t&&t!==(null==(n=e.loadLevelObj)?void 0:n.uri)}const he=function(t,e){let n=0,i=t.length-1,r=null,s=null;for(;n<=i;){r=(n+i)/2|0,s=t[r];const a=e(s);if(a>0)n=r+1;else{if(!(a<0))return s;i=r-1}}return null};function fe(t,e,n=0,i=0,r=.005){let s=null;if(t){s=e[1+t.sn-e[0].sn]||null;const i=t.endDTS-n;i>0&&i<15e-7&&(n+=15e-7),s&&t.level!==s.level&&s.end<=t.end&&(s=e[2+t.sn-e[0].sn]||null)}else 0===n&&0===e[0].start&&(s=e[0]);if(s&&((!t||t.level===s.level)&&0===pe(n,i,s)||function(t,e,n){if(e&&0===e.start&&e.level<t.level&&(e.endPTS||0)>0){const i=e.tagList.reduce(((t,e)=>("INF"===e[0]&&(t+=parseFloat(e[1])),t)),n);return t.start<=i}return!1}(s,t,Math.min(r,i))))return s;const a=he(e,pe.bind(null,n,i));return!a||a===t&&s?s:a}function pe(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=t?1:n.start-i>t&&n.start?-1:0}function me(t,e,n){const i=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-i>t}function ge(t,e,n){if(t&&t.startCC<=e&&t.endCC>=e){let i=t.fragments;const{fragmentHint:r}=t;let s;return r&&(i=i.concat(r)),he(i,(t=>t.cc<e?1:t.cc>e?-1:(s=t,t.end<=n?1:t.start>n?-1:0))),s||null}return null}function ve(t){switch(t.details){case o.FRAG_LOAD_TIMEOUT:case o.KEY_LOAD_TIMEOUT:case o.LEVEL_LOAD_TIMEOUT:case o.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function ye(t){return t.details.startsWith("key")}function be(t){return ye(t)&&!!t.frag&&!t.frag.decryptdata}function _e(t,e){const n=ve(e);return t.default[(n?"timeout":"error")+"Retry"]}function Ee(t,e){const n="linear"===t.backoff?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function Se(t){return E(E({},t),{errorRetry:null,timeoutRetry:null})}function Te(t,e,n,i){if(!t)return!1;const r=null==i?void 0:i.code,s=e<t.maxNumRetry&&(function(t){return we(t)||!!t&&(t<400||t>499)}(r)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,i,s):s}function we(t){return 0===t&&!1===navigator.onLine}var ke=0,Ce=2,xe=3,Ae=5,Ie=0,De=1,Le=2,Pe=4;function Oe(t){const e={action:ke,flags:Ie};return t&&(e.resolved=!0),e}var Re="NOT_LOADED",Me="APPENDING",Ne="PARTIAL",Fe="OK";class $e{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t&&(t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.BUFFER_APPENDED,this.onBufferAppended,this),t.on(l.FRAG_BUFFERED,this.onFragBuffered,this),t.on(l.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:t}=this;t&&(t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.BUFFER_APPENDED,this.onBufferAppended,this),t.off(l.FRAG_BUFFERED,this.onFragBuffered,this),t.off(l.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,e){const n=this.activePartLists[e];if(n)for(let e=n.length;e--;){const i=n[e];if(!i)break;if(i.start<=t&&t<=i.end&&i.loaded)return i}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){return this.getFragAtPos(t,e,!0)}getFragAtPos(t,e,n){const{fragments:i}=this,r=Object.keys(i);for(let s=r.length;s--;){const a=i[r[s]];if((null==a?void 0:a.body.type)===e&&(!n||a.buffered)){const e=a.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,n,i,r){this.timeRanges&&(this.timeRanges[t]=e);const s=(null==i?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach((i=>{const a=this.fragments[i];if(!a)return;if(s>=a.body.sn)return;if(!a.buffered&&(!a.loaded||r))return void(a.body.type===n&&this.removeFragment(a.body));const o=a.range[t];o&&(0!==o.time.length?o.time.some((t=>{const n=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&this.removeFragment(a.body),n})):this.removeFragment(a.body))}))}detectPartialFragments(t){const e=this.timeRanges;if(!e||"initSegment"===t.frag.sn)return;const n=t.frag,i=Be(n),r=this.fragments[i];if(!r||r.buffered&&n.gap)return;const s=!n.relurl;Object.keys(e).forEach((i=>{const a=n.elementaryStreams[i];if(!a)return;const o=e[i],l=s||!0===a.partial;r.range[i]=this.getBufferedTimes(n,t.part,l,o)})),r.loaded=null,Object.keys(r.range).length?(this.bufferedEnd(r,n),je(r)||this.removeParts(n.sn-1,n.type)):this.removeFragment(r.body)}bufferedEnd(t,e){t.buffered=!0;(t.body.endList=e.endList||t.body.endList)&&(this.endListFragments[t.body.type]=t)}removeParts(t,e){const n=this.activePartLists[e];n&&(this.activePartLists[e]=Ue(n,(e=>e.fragment.sn>=t)))}fragBuffered(t,e){const n=Be(t);let i=this.fragments[n];!i&&e&&(i=this.fragments[n]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,this.bufferedEnd(i,t))}getBufferedTimes(t,e,n,i){const r={time:[],partial:n},s=t.start,a=t.end,o=t.minEndPTS||a,l=t.maxStartPTS||s;for(let t=0;t<i.length;t++){const e=i.start(t)-this.bufferPadding,n=i.end(t)+this.bufferPadding;if(l>=e&&o<=n){r.time.push({startPTS:Math.max(s,i.start(t)),endPTS:Math.min(a,i.end(t))});break}if(s<n&&a>e){const e=Math.max(s,i.start(t)),n=Math.min(a,i.end(t));n>e&&(r.partial=!0,r.time.push({startPTS:e,endPTS:n}))}else if(a<=e)break}return r}getPartialFragment(t){let e,n,i,r=null,s=0;const{bufferPadding:a,fragments:o}=this;return Object.keys(o).forEach((l=>{const c=o[l];c&&je(c)&&(n=c.body.start-a,i=c.body.end+a,t>=n&&t<=i&&(e=Math.min(t-n,i-t),s<=e&&(r=c.body,s=e)))})),r}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||je(e))}getState(t){const e=Be(t),n=this.fragments[e];return n?n.buffered?je(n)?Ne:Fe:Me:Re}isTimeBuffered(t,e,n){let i,r;for(let s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,r=n.end(s)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(t,e){if("initSegment"===e.frag.sn||e.frag.bitrateTest)return;const n=e.frag,i=e.part?null:e,r=Be(n);this.fragments[r]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(t,e){const{frag:n,part:i,timeRanges:r,type:s}=e;if("initSegment"===n.sn)return;const a=n.type;if(i){let t=this.activePartLists[a];t||(this.activePartLists[a]=t=[]),t.push(i)}this.timeRanges=r;const o=r[s];this.detectEvictedFragments(s,o,a,i)}onFragBuffered(t,e){this.detectPartialFragments(e)}hasFragment(t){const e=Be(t);return!!this.fragments[e]}hasFragments(t){const{fragments:e}=this,n=Object.keys(e);if(!t)return n.length>0;for(let i=n.length;i--;){const r=e[n[i]];if((null==r?void 0:r.body.type)===t)return!0}return!1}hasParts(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,n,i,r){i&&!this.hasGaps||Object.keys(this.fragments).forEach((s=>{const a=this.fragments[s];if(!a)return;const o=a.body;o.type!==n||i&&!o.gap||o.start<e&&o.end>t&&(a.buffered||r)&&this.removeFragment(o)}))}removeFragment(t){const e=Be(t);t.clearElementaryStreamInfo();const n=this.activePartLists[t.type];if(n){const e=t.sn;this.activePartLists[t.type]=Ue(n,(t=>t.fragment.sn!==e))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){var t;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const e=null==(t=this.hls)||null==(t=t.latestLevelDetails)?void 0:t.partList;e&&e.forEach((t=>t.clearElementaryStreamInfo()))}}function je(t){var e,n,i;return t.buffered&&!!(t.body.gap||null!=(e=t.range.video)&&e.partial||null!=(n=t.range.audio)&&n.partial||null!=(i=t.range.audiovideo)&&i.partial)}function Be(t){return`${t.type}_${t.level}_${t.sn}`}function Ue(t,e){return t.filter((t=>{const n=e(t);return n||t.clearElementaryStreamInfo(),n}))}var He=0,Ge=1;class qe{constructor(t,e,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=t,this.aesIV=e,this.aesMode=n}decrypt(t,e){switch(this.aesMode){case He:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t);case Ge:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},e,t);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}class We{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const e=new DataView(t),n=new Uint32Array(4);for(let t=0;t<4;t++)n[t]=e.getUint32(4*t);return n}initTable(){const t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],s=n[2],a=n[3],o=this.invSubMix,l=o[0],c=o[1],u=o[2],d=o[3],h=new Uint32Array(256);let f=0,p=0,m=0;for(m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){let n=p^p<<1^p<<2^p<<3^p<<4;n=n>>>8^255&n^99,t[f]=n,e[n]=f;const o=h[f],m=h[o],g=h[m];let v=257*h[n]^16843008*n;i[f]=v<<24|v>>>8,r[f]=v<<16|v>>>16,s[f]=v<<8|v>>>24,a[f]=v,v=16843009*g^65537*m^257*o^16843008*f,l[n]=v<<24|v>>>8,c[n]=v<<16|v>>>16,u[n]=v<<8|v>>>24,d[n]=v,f?(f=o^h[h[h[g^o]]],p^=h[h[p]]):f=p=1}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let n=!0,i=0;for(;i<e.length&&n;)n=e[i]===this.key[i],i++;if(n)return;this.key=e;const r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);const s=this.ksRows=4*(r+6+1);let a,o;const l=this.keySchedule=new Uint32Array(s),c=this.invKeySchedule=new Uint32Array(s),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],m=h[2],g=h[3];let v,y;for(a=0;a<s;a++)a<r?v=l[a]=e[a]:(y=v,a%r==0?(y=y<<8|y>>>24,y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=d[a/r|0]<<24):r>6&&a%r==4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[a]=v=(l[a-r]^y)>>>0);for(o=0;o<s;o++)a=s-o,y=3&o?l[a]:l[a-4],c[o]=o<4||a<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^m[u[y>>>8&255]]^g[u[255&y]],c[o]=c[o]>>>0}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,n){const i=this.keySize+6,r=this.invKeySchedule,s=this.invSBox,a=this.invSubMix,o=a[0],l=a[1],c=a[2],u=a[3],d=this.uint8ArrayToUint32Array_(n);let h=d[0],f=d[1],p=d[2],m=d[3];const g=new Int32Array(t),v=new Int32Array(g.length);let y,b,_,E,S,T,w,k,C,x,A,I,D,L;const P=this.networkToHostOrderSwap;for(;e<g.length;){for(C=P(g[e]),x=P(g[e+1]),A=P(g[e+2]),I=P(g[e+3]),S=C^r[0],T=I^r[1],w=A^r[2],k=x^r[3],D=4,L=1;L<i;L++)y=o[S>>>24]^l[T>>16&255]^c[w>>8&255]^u[255&k]^r[D],b=o[T>>>24]^l[w>>16&255]^c[k>>8&255]^u[255&S]^r[D+1],_=o[w>>>24]^l[k>>16&255]^c[S>>8&255]^u[255&T]^r[D+2],E=o[k>>>24]^l[S>>16&255]^c[T>>8&255]^u[255&w]^r[D+3],S=y,T=b,w=_,k=E,D+=4;y=s[S>>>24]<<24^s[T>>16&255]<<16^s[w>>8&255]<<8^s[255&k]^r[D],b=s[T>>>24]<<24^s[w>>16&255]<<16^s[k>>8&255]<<8^s[255&S]^r[D+1],_=s[w>>>24]<<24^s[k>>16&255]<<16^s[S>>8&255]<<8^s[255&T]^r[D+2],E=s[k>>>24]<<24^s[S>>16&255]<<16^s[T>>8&255]<<8^s[255&w]^r[D+3],v[e]=P(y^h),v[e+1]=P(E^f),v[e+2]=P(_^p),v[e+3]=P(b^m),h=C,f=x,p=A,m=I,e+=4}return v.buffer}}class Ve{constructor(t,e,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=t,this.key=e,this.aesMode=n}expandKey(){const t=function(t){switch(t){case He:return"AES-CBC";case Ge:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}(this.aesMode);return this.subtle.importKey("raw",this.key,{name:t},!1,["encrypt","decrypt"])}}class Ke{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle)}catch(t){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const n=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?t.slice(0,e-n):t}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,e,n,i){return this.useSoftware?new Promise(((r,s)=>{const a=ArrayBuffer.isView(t)?t:new Uint8Array(t);this.softwareDecrypt(a,e,n,i);const o=this.flush();o?r(o.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,n,i)}softwareDecrypt(t,e,n,i){const{currentIV:r,currentResult:s,remainderData:a}=this;if(i!==He||16!==e.byteLength)return A.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),a&&(t=gt(a,t),this.remainderData=null);const o=this.getValidChunk(t);if(!o.length)return null;r&&(n=r);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new We),l.expandKey(e);const c=s;return this.currentResult=l.decrypt(o.buffer,0,n),this.currentIV=o.slice(-16).buffer,c||null}webCryptoDecrypt(t,e,n,i){if(this.key!==e||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(t,e,n,i));this.key=e,this.fastAesKey=new Ve(this.subtle,e,i)}return this.fastAesKey.expandKey().then((e=>{if(!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new qe(this.subtle,new Uint8Array(n),i).decrypt(t.buffer,e)})).catch((r=>(A.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(t,e,n,i))))}onWebCryptoError(t,e,n,i){const r=this.enableSoftwareAES;if(r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,n,i);const r=this.flush();if(r)return r.buffer}throw new Error("WebCrypto"+(r?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(t){let e=t;const n=t.length-t.length%16;return n!==t.length&&(e=t.slice(0,n),this.remainderData=t.slice(n)),e}logOnce(t){this.logEnabled&&(A.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const ze=Math.pow(2,17);class Ye{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,e){const n=t.url;if(!n)return Promise.reject(new Ze({type:a.NETWORK_ERROR,details:o.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const i=this.config,r=i.fLoader,s=i.loader;return new Promise(((l,c)=>{if(this.loader&&this.loader.destroy(),t.gap){if(t.tagList.some((t=>"GAP"===t[0])))return void c(Xe(t));t.gap=!1}const u=this.loader=r?new r(i):new s(i),d=Qe(t);t.loader=u;const h=Se(i.fragLoadPolicy.default),f={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:ze};t.stats=u.stats;const p={onSuccess:(e,n,i,r)=>{this.resetLoader(t,u);let s=e.data;i.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(s.slice(0,16)),s=s.slice(16)),l({frag:t,part:null,payload:s,networkDetails:r})},onError:(e,i,r,s)=>{this.resetLoader(t,u),c(new Ze({type:a.NETWORK_ERROR,details:o.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:E({url:n,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:r,stats:s}))},onAbort:(e,n,i)=>{this.resetLoader(t,u),c(new Ze({type:a.NETWORK_ERROR,details:o.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:i,stats:e}))},onTimeout:(e,n,i)=>{this.resetLoader(t,u),c(new Ze({type:a.NETWORK_ERROR,details:o.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:i,stats:e}))}};e&&(p.onProgress=(n,i,r,s)=>e({frag:t,part:null,payload:r,networkDetails:s})),u.load(d,f,p)}))}loadPart(t,e,n){this.abort();const i=this.config,r=i.fLoader,s=i.loader;return new Promise(((l,c)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void c(Xe(t,e));const u=this.loader=r?new r(i):new s(i),d=Qe(t,e);t.loader=u;const h=Se(i.fragLoadPolicy.default),f={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ze};e.stats=u.stats,u.load(d,f,{onSuccess:(i,r,s,a)=>{this.resetLoader(t,u),this.updateStatsFromPart(t,e);const o={frag:t,part:e,payload:i.data,networkDetails:a};n(o),l(o)},onError:(n,i,r,s)=>{this.resetLoader(t,u),c(new Ze({type:a.NETWORK_ERROR,details:o.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:E({url:d.url,data:void 0},n),error:new Error(`HTTP Error ${n.code} ${n.text}`),networkDetails:r,stats:s}))},onAbort:(n,i,r)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,u),c(new Ze({type:a.NETWORK_ERROR,details:o.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:r,stats:n}))},onTimeout:(n,i,r)=>{this.resetLoader(t,u),c(new Ze({type:a.NETWORK_ERROR,details:o.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:r,stats:n}))}})}))}updateStatsFromPart(t,e){const n=t.stats,i=e.stats,r=i.total;if(n.loaded+=i.loaded,r){const i=Math.round(t.duration/e.duration),s=Math.min(Math.round(n.loaded/r),i),a=(i-s)*Math.round(n.loaded/s);n.total=n.loaded+a}else n.total=Math.max(n.loaded,n.total);const s=n.loading,a=i.loading;s.start?s.first+=a.first-a.start:(s.start=a.start,s.first=a.first),s.end=a.end}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function Qe(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},s=n.byteRangeStartOffset,a=n.byteRangeEndOffset;if(i(s)&&i(a)){var o;let e=s,n=a;if("initSegment"===t.sn&&("AES-128"===(l=null==(o=t.decryptdata)?void 0:o.method)||"AES-256"===l)){const t=a-s;t%16&&(n=a+(16-t%16)),0!==s&&(r.resetIV=!0,e=s-16)}r.rangeStart=e,r.rangeEnd=n}var l;return r}function Xe(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),i={type:a.MEDIA_ERROR,details:o.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(i.part=e),(e||t).stats.aborted=!0,new Ze(i)}class Ze extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class Je extends S{constructor(t,e){super(t,e),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class tn{constructor(t,e,n,i=0,r=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=n,this.size=i,this.part=r,this.partial=s}}const en={length:0,start:()=>0,end:()=>0};class nn{static isBuffered(t,e){if(t){const n=nn.getBuffered(t);for(let t=n.length;t--;)if(e>=n.start(t)&&e<=n.end(t))return!0}return!1}static bufferedRanges(t){if(t){const e=nn.getBuffered(t);return nn.timeRangesToArray(e)}return[]}static timeRangesToArray(t){const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}static bufferInfo(t,e,n){if(t){const i=nn.bufferedRanges(t);if(i.length)return nn.bufferedInfo(i,e,n)}return{len:0,start:e,end:e,bufferedIndex:-1}}static bufferedInfo(t,e,n){e=Math.max(0,e),t.length>1&&t.sort(((t,e)=>t.start-e.start||e.end-t.end));let i=-1,r=[];if(n)for(let s=0;s<t.length;s++){e>=t[s].start&&e<=t[s].end&&(i=s);const a=r.length;if(a){const e=r[a-1].end;t[s].start-e<n?t[s].end>e&&(r[a-1].end=t[s].end):r.push(t[s])}else r.push(t[s])}else r=t;let s,a=0,o=e,l=e;for(let t=0;t<r.length;t++){const c=r[t].start,u=r[t].end;if(-1===i&&e>=c&&e<=u&&(i=t),e+n>=c&&e<u)o=c,l=u,a=l-e;else if(e+n<c){s=c;break}}return{len:a,start:o||0,end:l||0,nextStart:s,buffered:t,bufferedIndex:i}}static getBuffered(t){try{return t.buffered||en}catch(t){return A.log("failed to get media.buffered",t),en}}}const rn=/\{\$([a-zA-Z0-9-_]+)\}/g;function sn(t){return rn.test(t)}function an(t,e){if(null!==t.variableList||t.hasVariableRefs){const n=t.variableList;return e.replace(rn,(e=>{const i=e.substring(2,e.length-1),r=null==n?void 0:n[i];return void 0===r?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),e):r}))}return e}function on(t,e,n){let i,r,s=t.variableList;if(s||(t.variableList=s={}),"QUERYPARAM"in e){i=e.QUERYPARAM;try{const t=new self.URL(n).searchParams;if(!t.has(i))throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`);r=t.get(i)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${e.message}`))}}else i=e.NAME,r=e.VALUE;i in s?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):s[i]=r||""}function ln(t,e,n){const i=e.IMPORT;if(n&&i in n){let e=t.variableList;e||(t.variableList=e={}),e[i]=n[i]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}const cn=/^(\d+)x(\d+)$/,un=/(.+?)=(".*?"|.*?)(?:,|$)/g;class dn{constructor(t,e){"string"==typeof t&&(t=dn.parseAttrList(t,e)),b(this,t)}get clientAttrs(){return Object.keys(this).filter((t=>"X-"===t.substring(0,2)))}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const n=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)n[t]=parseInt(e.slice(2*t,2*t+2),16);return n}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const n=this[t];return n?parseFloat(n):e}enumeratedString(t){return this[t]}enumeratedStringList(t,e){const n=this[t];return(n?n.split(/[ ,]+/):[]).reduce(((t,e)=>(t[e.toLowerCase()]=!0,t)),e)}bool(t){return"YES"===this[t]}decimalResolution(t){const e=cn.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t,e){let n;const i={};for(un.lastIndex=0;null!==(n=un.exec(t));){const r=n[1].trim();let s=n[2];const a=0===s.indexOf('"')&&s.lastIndexOf('"')===s.length-1;let o=!1;if(a)s=s.slice(1,-1);else switch(r){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":o=!0}if(e&&(a||o))s=an(e,s);else if(!o&&!a)switch(r){case"CLOSED-CAPTIONS":if("NONE"===s)break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":A.warn(`${t}: attribute ${r} is missing quotes`)}i[r]=s}return i}}function hn(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t||"SCTE35-CMD"===t}class fn{constructor(t,e,n=0){var r;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(null==e?void 0:e.tagAnchor)||null,this.tagOrder=null!=(r=null==e?void 0:e.tagOrder)?r:n,e){const n=e.attr;for(const e in n)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==n[e]){A.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=b(new dn({}),n,t)}if(this.attr=t,e?(this._startDate=e._startDate,this._cue=e._cue,this._endDate=e._endDate,this._dateAtEnd=e._dateAtEnd):this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=(null==e?void 0:e.endDate)||new Date(this.attr["END-DATE"]);i(t.getTime())&&(this._endDate=t)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const t=this._cue;return void 0===t?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):t}get startTime(){const{tagAnchor:t}=this;return null===t||null===t.programDateTime?(A.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${t}`),NaN):t.start+(this.startDate.getTime()-t.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const t=this._endDate||this._dateAtEnd;if(t)return t;const e=this.duration;return null!==e?this._dateAtEnd=new Date(this._startDate.getTime()+1e3*e):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(i(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return"com.apple.hls.interstitial"===this.class}get isValid(){return!!this.id&&!this._badValueForSameId&&i(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}class pn{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1}hasKey(t){return this.encryptedFragments.some((e=>{let n=e.decryptdata;return n||(e.setKeyFormat(t.keyFormat),n=e.decryptdata),!!n&&t.matches(n)}))}get hasProgramDateTime(){return!!this.fragments.length&&i(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;if(t>0){return 1e3*(this.driftEnd-this.driftStart)/t}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const t=this.partList;if(t){const e=this.lastPartIndex;if(-1!==e){for(let n=t.length;n--;)if(t[n].index>e)return t[n].index;return e}}return 0}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const t=this.partEnd-this.fragmentStart;return this.age>Math.max(t,this.totalduration)+this.levelTargetDuration}return!1}}function mn(t,e){return t.length===e.length&&!t.some(((t,n)=>t!==e[n]))}function gn(t,e){return!t&&!e||!(!t||!e)&&mn(t,e)}function vn(t){return"AES-128"===t||"AES-256"===t||"AES-256-CTR"===t}function yn(t){switch(t){case"AES-128":case"AES-256":return He;case"AES-256-CTR":return Ge;default:throw new Error(`invalid full segment method ${t}`)}}function bn(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}function _n(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(t=>t.charCodeAt(0)))}function En(t){const e=function(t,e,n){const i=t[e];t[e]=t[n],t[n]=i};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function Sn(t){const e=t.split(":");let n=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),i=t[t.length-1].split(",");if(2===i.length){const e="base64"===i[0],r=i[1];e?(t.splice(-1,1),n=bn(r)):n=function(t){const e=_n(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}(r)}}return n}const Tn="undefined"!=typeof self?self:void 0;var wn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},kn="org.w3.clearkey",Cn="com.apple.streamingkeydelivery",xn="com.microsoft.playready",An="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function In(t){switch(t){case Cn:return wn.FAIRPLAY;case xn:return wn.PLAYREADY;case An:return wn.WIDEVINE;case kn:return wn.CLEARKEY}}function Dn(t){switch(t){case wn.FAIRPLAY:return Cn;case wn.PLAYREADY:return xn;case wn.WIDEVINE:return An;case wn.CLEARKEY:return kn}}function Ln(t){const{drmSystems:e,widevineLicenseUrl:n}=t,i=e?[wn.FAIRPLAY,wn.WIDEVINE,wn.PLAYREADY,wn.CLEARKEY].filter((t=>!!e[t])):[];return!i[wn.WIDEVINE]&&n&&i.push(wn.WIDEVINE),i}const Pn=null!=Tn&&null!=(On=Tn.navigator)&&On.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var On;function Rn(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),i=n.substring(n.indexOf("<"),n.length),r=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(r){const t=r.childNodes[0]?r.childNodes[0].nodeValue:r.getAttribute("VALUE");if(t){const e=bn(t).subarray(0,16);return En(e),e}}return null}let Mn={};class Nn{static clearKeyUriToKeyIdMap(){Mn={}}static setKeyIdForUri(t,e){Mn[t]=e}static addKeyIdForUri(t){const e=Object.keys(Mn).length%Number.MAX_SAFE_INTEGER,n=new Uint8Array(16);return new DataView(n.buffer,12,4).setUint32(0,e),Mn[t]=n,n}constructor(t,e,n,i=[1],r=null,s){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=n,this.keyFormatVersions=i,this.iv=r,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&!vn(t),null!=s&&s.startsWith("0x")&&(this.keyId=new Uint8Array(O(s)))}matches(t){return t.uri===this.uri&&t.method===this.method&&t.encrypted===this.encrypted&&t.keyFormat===this.keyFormat&&mn(t.keyFormatVersions,this.keyFormatVersions)&&gn(t.iv,this.iv)&&gn(t.keyId,this.keyId)}isSupported(){if(this.method){if(vn(this.method)||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Cn:case An:case xn:case kn:return-1!==["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(t,e){if(!this.encrypted||!this.uri)return null;if(vn(this.method)){let e=this.iv;e||("number"!=typeof t&&(A.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0),e=function(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}(t));return new Nn(this.method,this.uri,"identity",this.keyFormatVersions,e)}if(this.keyId){const t=Mn[this.uri];if(t&&!mn(this.keyId,t)&&Nn.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const n=Sn(this.uri);if(n)switch(this.keyFormat){case An:if(this.pssh=n,!this.keyId){const t=function(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let i=0;for(;i+32<n;){const n=Tt(new DataView(t,i));e.push(n),i+=n.size}}return e}(n.buffer);if(t.length){var i;const e=t[0];this.keyId=null!=(i=e.kids)&&i.length?e.kids[0]:null}}this.keyId||(this.keyId=Fn(e));break;case xn:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=St(t,0,n),this.keyId=Rn(n);break}default:{let t=n.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t;t=function(t){const e=null==t?void 0:t[An];if(e)return e.keyId;return null}(e),t||(t=Fn(e),t||(t=Mn[this.uri])),t&&(this.keyId=t,Nn.setKeyIdForUri(this.uri,t))}return this}}function Fn(t){const e=null==t?void 0:t[xn];if(e){const t=Sn(e.uri);if(t)return Rn(t)}return null}const $n=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,jn=/#EXT-X-MEDIA:(.*)/g,Bn=/^#EXT(?:INF|-X-TARGETDURATION):/m,Un=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),Hn=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Gn{static findGroup(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(i.id===e)return i}}static resolve(t,e){return H.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return Bn.test(t)}static parseMasterPlaylist(t,e){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:sn(t)},i=[];if($n.lastIndex=0,!t.startsWith("#EXTM3U"))return n.playlistParsingError=new Error("no EXTM3U delimiter"),n;let r;for(;null!=(r=$n.exec(t));)if(r[1]){var s;const t=new dn(r[1],n),a=an(n,r[2]),o={attrs:t,bitrate:t.decimalInteger("BANDWIDTH")||t.decimalInteger("AVERAGE-BANDWIDTH"),name:t.NAME,url:Gn.resolve(a,e)},l=t.decimalResolution("RESOLUTION");l&&(o.width=l.width,o.height=l.height),zn(t.CODECS,o);const c=t["SUPPLEMENTAL-CODECS"];c&&(o.supplemental={},zn(c,o.supplemental)),null!=(s=o.unknownCodecs)&&s.length||i.push(o),n.levels.push(o)}else if(r[3]){const t=r[3],i=r[4];switch(t){case"SESSION-DATA":{const t=new dn(i,n),e=t["DATA-ID"];e&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[e]=t);break}case"SESSION-KEY":{const t=Vn(i,e,n);t.encrypted&&t.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(t)):A.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${i}"`);break}case"DEFINE":on(n,new dn(i,n),e);break;case"CONTENT-STEERING":{const t=new dn(i,n);n.contentSteering={uri:Gn.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=Kn(i)}}const a=i.length>0&&i.length<n.levels.length;return n.levels=a?i:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(t,e,n){let i;const r={},s=n.levels,a={AUDIO:s.map((t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec}))),SUBTITLES:s.map((t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec}))),"CLOSED-CAPTIONS":[]};let o=0;for(jn.lastIndex=0;null!==(i=jn.exec(t));){const t=new dn(i[1],n),s=t.TYPE;if(s){const n=a[s],i=r[s]||[];r[s]=i;const l=t.LANGUAGE,c=t["ASSOC-LANGUAGE"],u=t.CHANNELS,d=t.CHARACTERISTICS,h=t["INSTREAM-ID"],f={attrs:t,bitrate:0,id:o++,groupId:t["GROUP-ID"]||"",name:t.NAME||l||"",type:s,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:l,url:t.URI?Gn.resolve(t.URI,e):""};if(c&&(f.assocLang=c),u&&(f.channels=u),d&&(f.characteristics=d),h&&(f.instreamId=h),null!=n&&n.length){const t=Gn.findGroup(n,f.groupId)||n[0];Yn(f,t,"audioCodec"),Yn(f,t,"textCodec")}i.push(f)}}return r}static parseLevelPlaylist(t,e,n,r,s,a){var o;const l={url:e},c=new pn(e),u=c.fragments,d=[];let h,f,p,m,g=null,v=0,y=0,_=0,E=0,S=0,T=null,w=new Y(r,l),k=-1,C=!1,x=null;if(Un.lastIndex=0,c.m3u8=t,c.hasVariableRefs=sn(t),"#EXTM3U"!==(null==(o=Un.exec(t))?void 0:o[0]))return c.playlistParsingError=new Error("Missing format identifier #EXTM3U"),c;for(;null!==(h=Un.exec(t));){C&&(C=!1,w=new Y(r,l),w.playlistOffset=_,w.setStart(_),w.sn=v,w.cc=E,S&&(w.bitrate=S),w.level=n,g&&(w.initSegment=g,g.rawProgramDateTime&&(w.rawProgramDateTime=g.rawProgramDateTime,g.rawProgramDateTime=null),x&&(w.setByteRange(x),x=null)));const t=h[1];if(t){w.duration=parseFloat(t);const e=(" "+h[2]).slice(1);w.title=e||null,w.tagList.push(e?["INF",t,e]:["INF",t])}else if(h[3]){if(i(w.duration)){w.playlistOffset=_,w.setStart(_),p&&Zn(w,p,c),w.sn=v,w.level=n,w.cc=E,u.push(w);const t=(" "+h[3]).slice(1);w.relurl=an(c,t),Qn(w,T,d),T=w,_+=w.duration,v++,y=0,C=!0}}else{if(h=h[0].match(Hn),!h){A.warn("No matches on slow regex match for level playlist!");continue}for(f=1;f<h.length&&void 0===h[f];f++);const t=(" "+h[f]).slice(1),s=(" "+h[f+1]).slice(1),o=h[f+2]?(" "+h[f+2]).slice(1):null;switch(t){case"BYTERANGE":T?w.setByteRange(s,T):w.setByteRange(s);break;case"PROGRAM-DATE-TIME":w.rawProgramDateTime=s,w.tagList.push(["PROGRAM-DATE-TIME",s]),-1===k&&(k=u.length);break;case"PLAYLIST-TYPE":c.type&&Jn(c,t,h),c.type=s.toUpperCase();break;case"MEDIA-SEQUENCE":0!==c.startSN?Jn(c,t,h):u.length>0&&ti(c,t,h),v=c.startSN=parseInt(s);break;case"SKIP":{c.skippedSegments&&Jn(c,t,h);const e=new dn(s,c),n=e.decimalInteger("SKIPPED-SEGMENTS");if(i(n)){c.skippedSegments+=n;for(let t=n;t--;)u.push(null);v+=n}const r=e.enumeratedString("RECENTLY-REMOVED-DATERANGES");r&&(c.recentlyRemovedDateranges=(c.recentlyRemovedDateranges||[]).concat(r.split("\t")));break}case"TARGETDURATION":0!==c.targetduration&&Jn(c,t,h),c.targetduration=Math.max(parseInt(s),1);break;case"VERSION":null!==c.version&&Jn(c,t,h),c.version=parseInt(s);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":c.live||Jn(c,t,h),c.live=!1;break;case"#":(s||o)&&w.tagList.push(o?[s,o]:[s]);break;case"DISCONTINUITY":E++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([t]);break;case"BITRATE":w.tagList.push([t,s]),S=1e3*parseInt(s),i(S)?w.bitrate=S:S=0;break;case"DATERANGE":{const t=new dn(s,c),e=new fn(t,c.dateRanges[t.ID],c.dateRangeTagCount);c.dateRangeTagCount++,e.isValid||c.skippedSegments?c.dateRanges[e.id]=e:A.warn(`Ignoring invalid DATERANGE tag: "${s}"`),w.tagList.push(["EXT-X-DATERANGE",s]);break}case"DEFINE":{const t=new dn(s,c);"IMPORT"in t?ln(c,t,a):on(c,t,e)}break;case"DISCONTINUITY-SEQUENCE":0!==c.startCC?Jn(c,t,h):u.length>0&&ti(c,t,h),c.startCC=E=parseInt(s);break;case"KEY":{const t=Vn(s,e,c);if(t.isSupported()){if("NONE"===t.method){p=void 0;break}p||(p={});const e=p[t.keyFormat];null!=e&&e.matches(t)||(e&&(p=b({},p)),p[t.keyFormat]=t)}else A.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${s}"`);break}case"START":c.startTimeOffset=Kn(s);break;case"MAP":{const t=new dn(s,c);if(w.duration){const e=new Y(r,l);Xn(e,t,n,p),g=e,w.initSegment=g,g.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=g.rawProgramDateTime)}else{const e=w.byteRangeEndOffset;if(e){const t=w.byteRangeStartOffset;x=`${e-t}@${t}`}else x=null;Xn(w,t,n,p),g=w,C=!0}g.cc=E;break}case"SERVER-CONTROL":m&&Jn(c,t,h),m=new dn(s),c.canBlockReload=m.bool("CAN-BLOCK-RELOAD"),c.canSkipUntil=m.optionalFloat("CAN-SKIP-UNTIL",0),c.canSkipDateRanges=c.canSkipUntil>0&&m.bool("CAN-SKIP-DATERANGES"),c.partHoldBack=m.optionalFloat("PART-HOLD-BACK",0),c.holdBack=m.optionalFloat("HOLD-BACK",0);break;case"PART-INF":{c.partTarget&&Jn(c,t,h);const e=new dn(s);c.partTarget=e.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=c.partList;t||(t=c.partList=[]);const e=y>0?t[t.length-1]:void 0,n=y++,i=new dn(s,c),r=new Q(i,w,l,n,e);t.push(r),w.duration+=r.duration;break}case"PRELOAD-HINT":{const t=new dn(s,c);c.preloadHint=t;break}case"RENDITION-REPORT":{const t=new dn(s,c);c.renditionReports=c.renditionReports||[],c.renditionReports.push(t);break}default:A.warn(`line parsed but not handled: ${h}`)}}}T&&!T.relurl?(u.pop(),_-=T.duration,c.partList&&(c.fragmentHint=T)):c.partList&&(Qn(w,T,d),w.cc=E,c.fragmentHint=w,p&&Zn(w,p,c)),c.targetduration||(c.playlistParsingError=new Error("Missing Target Duration"));const I=u.length,D=u[0],L=u[I-1];if(_+=c.skippedSegments*c.targetduration,_>0&&I&&L){c.averagetargetduration=_/I;const t=L.sn;c.endSN="initSegment"!==t?t:0,c.live||(L.endList=!0),k>0&&(!function(t,e){let n=t[e];for(let i=e;i--;){const e=t[i];if(!e)return;e.programDateTime=n.programDateTime-1e3*e.duration,n=e}}(u,k),D&&d.unshift(D))}return c.fragmentHint&&(_+=c.fragmentHint.duration),c.totalduration=_,d.length&&c.dateRangeTagCount&&D&&qn(d,c),c.endCC=E,c}}function qn(t,e){let n=t.length;if(!n){if(!e.hasProgramDateTime)return;{const i=e.fragments[e.fragments.length-1];t.push(i),n++}}const i=t[n-1],r=e.live?1/0:e.totalduration,s=Object.keys(e.dateRanges);for(let o=s.length;o--;){const l=e.dateRanges[s[o]],c=l.startDate.getTime();l.tagAnchor=i.ref;for(let i=n;i--;){var a;if((null==(a=t[i])?void 0:a.sn)<e.startSN)break;const n=Wn(e,c,t,i,r);if(-1!==n){l.tagAnchor=e.fragments[n].ref;break}}}}function Wn(t,e,n,i,r){const s=n[i];if(s){const o=s.programDateTime;if(e>=o||0===i){var a;if(e<=o+1e3*(((null==(a=n[i+1])?void 0:a.start)||r)-s.start)){const r=n[i].sn-t.startSN;if(r<0)return-1;const s=t.fragments;if(s.length>n.length){for(let a=(n[i+1]||s[s.length-1]).sn-t.startSN;a>r;a--){const t=s[a].programDateTime;if(e>=t&&e<t+1e3*s[a].duration)return a}}return r}}}return-1}function Vn(t,e,n){var i,r;const s=new dn(t,n),a=null!=(i=s.METHOD)?i:"",o=s.URI,l=s.hexadecimalInteger("IV"),c=s.KEYFORMATVERSIONS,u=null!=(r=s.KEYFORMAT)?r:"identity";o&&s.IV&&!l&&A.error(`Invalid IV: ${s.IV}`);const d=o?Gn.resolve(o,e):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Nn(a,d,u,h,l,s.KEYID)}function Kn(t){const e=new dn(t).decimalFloatingPoint("TIME-OFFSET");return i(e)?e:null}function zn(t,e){let n=(t||"").split(/[ ,]+/).filter((t=>t));["video","audio","text"].forEach((t=>{const i=n.filter((e=>Ct(e,t)));i.length&&(e[`${t}Codec`]=i.map((t=>t.split("/")[0])).join(","),n=n.filter((t=>-1===i.indexOf(t))))})),e.unknownCodecs=n}function Yn(t,e,n){const i=e[n];i&&(t[n]=i)}function Qn(t,e,n){t.rawProgramDateTime?n.push(t):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function Xn(t,e,n,i){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",i&&(t.levelkeys=i),t.initSegment=null}function Zn(t,e,n){t.levelkeys=e;const{encryptedFragments:i}=n;i.length&&i[i.length-1].levelkeys===e||!Object.keys(e).some((t=>e[t].isCommonEncryption))||i.push(t)}function Jn(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${n[0]})`)}function ti(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${n[0]})`)}function ei(t,e){const n=e.startPTS;if(i(n)){let i,r=0;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&i.setDuration(r)}else if(e.sn>t.sn){t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration)}else e.setStart(Math.max(t.start-e.duration,0))}function ni(t,e,n,r,s,a,o){r-n<=0&&(o.warn("Fragment should have a positive duration",e),r=n+e.duration,a=s+e.duration);let l=n,c=r;const u=e.startPTS,d=e.endPTS;if(i(u)){const h=Math.abs(u-n);t&&h>t.totalduration?o.warn(`media timestamps and playlist times differ by ${h}s for level ${e.level} ${t.url}`):i(e.deltaPTS)?e.deltaPTS=Math.max(h,e.deltaPTS):e.deltaPTS=h,l=Math.max(n,u),n=Math.min(n,u),s=void 0!==e.startDTS?Math.min(s,e.startDTS):s,c=Math.min(r,d),r=Math.max(r,d),a=void 0!==e.endDTS?Math.max(a,e.endDTS):a}const h=n-e.start;0!==e.start&&e.setStart(n),e.setDuration(r-e.start),e.startPTS=n,e.maxStartPTS=l,e.startDTS=s,e.endPTS=r,e.minEndPTS=c,e.endDTS=a;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let p;const m=f-t.startSN,g=t.fragments;for(g[m]=e,p=m;p>0;p--)ei(g[p],g[p-1]);for(p=m;p<g.length-1;p++)ei(g[p],g[p+1]);return t.fragmentHint&&ei(g[g.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,h}function ii(t,e,n){if(t===e)return;let r=null;const s=t.fragments;for(let t=s.length-1;t>=0;t--){const e=s[t].initSegment;if(e){r=e;break}}let a;t.fragmentHint&&delete t.fragmentHint.endPTS,function(t,e,n){const i=e.skippedSegments,r=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(i?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=r;c<=s;c++){const r=l[a+c];let s=o[c];if(i&&!s&&r&&(s=e.fragments[c]=r),r&&s){n(r,s,c,o);const i=r.relurl,a=s.relurl;if(i&&hi(i,a))return void(e.playlistParsingError=ri(`media sequence mismatch ${s.sn}:`,t,e,r,s));if(r.cc!==s.cc)return void(e.playlistParsingError=ri(`discontinuity sequence mismatch (${r.cc}!=${s.cc})`,t,e,r,s))}}}(t,e,((t,n,s,o)=>{if((!e.startCC||e.skippedSegments)&&n.cc!==t.cc){const i=t.cc-n.cc;for(let t=s;t<o.length;t++)o[t].cc+=i;e.endCC=o[o.length-1].cc}i(t.startPTS)&&i(t.endPTS)&&(n.setStart(n.startPTS=t.startPTS),n.startDTS=t.startDTS,n.maxStartPTS=t.maxStartPTS,n.endPTS=t.endPTS,n.endDTS=t.endDTS,n.minEndPTS=t.minEndPTS,n.setDuration(t.endPTS-t.startPTS),n.duration&&(a=n),e.PTSKnown=e.alignedSliding=!0),t.hasStreams&&(n.elementaryStreams=t.elementaryStreams),n.loader=t.loader,t.hasStats&&(n.stats=t.stats),t.initSegment&&(n.initSegment=t.initSegment,r=t.initSegment)}));const o=e.fragments,l=e.fragmentHint?o.concat(e.fragmentHint):o;if(r&&l.forEach((t=>{var e;!t||t.initSegment&&t.initSegment.relurl!==(null==(e=r)?void 0:e.relurl)||(t.initSegment=r)})),e.skippedSegments){if(e.deltaUpdateFailed=o.some((t=>!t)),e.deltaUpdateFailed){n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)o.shift();e.startSN=o[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=function(t,e,n){const{dateRanges:i,recentlyRemovedDateranges:r}=e,s=b({},t);r&&r.forEach((t=>{delete s[t]}));const a=Object.keys(s).length;if(!a)return i;return Object.keys(i).forEach((t=>{const e=s[t],r=new fn(i[t].attr,e);r.isValid?(s[t]=r,e||(r.tagOrder+=a)):n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${ie(i[t].attr)}"`)})),s}(t.dateRanges,e,n));const i=t.fragments.filter((t=>t.rawProgramDateTime));if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let t=1;t<l.length;t++)null===l[t].programDateTime&&Qn(l[t],l[t-1],i);qn(i,e)}e.endCC=o[o.length-1].cc}if(!e.startCC){var c;const n=li(t,e.startSN-1);e.startCC=null!=(c=null==n?void 0:n.cc)?c:o[0].cc}!function(t,e,n){if(t&&e){let i=0;for(let r=0,s=t.length;r<=s;r++){const s=t[r],a=e[r+i];s&&a&&s.index===a.index&&s.fragment.sn===a.fragment.sn?n(s,a):i--}}}(t.partList,e.partList,((t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),a?ni(e,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS,n):si(t,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const u=e.advancedDateTime;if(e.advanced&&u){const t=e.edge;e.driftStart||(e.driftStartTime=u,e.driftStart=t),e.driftEndTime=u,e.driftEnd=t}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;-1===e.requestScheduled&&(e.requestScheduled=t.requestScheduled)}function ri(t,e,n,i,r){return new Error(`${t} ${r.url}\nPlaylist starting @${e.startSN}\n${e.m3u8}\n\nPlaylist starting @${n.startSN}\n${n.m3u8}`)}function si(t,e,n=!0){const i=e.startSN+e.skippedSegments-t.startSN,r=t.fragments,s=i>=0;let a=0;if(s&&i<r.length)a=r[i].start;else if(s&&e.startSN===t.endSN+1)a=t.fragmentEnd;else if(s&&n)a=t.fragmentStart+i*e.levelTargetDuration;else{if(e.skippedSegments||0!==e.fragmentStart)return;a=t.fragmentStart}ai(e,a)}function ai(t,e){if(e){const n=t.fragments;for(let i=t.skippedSegments;i<n.length;i++)n[i].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function oi(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const i=t.fragments,r=4;if(i.length&&n*r>e){const t=1e3*i[i.length-1].duration;t<n&&(n=t)}}else n/=2;return Math.round(n)}function li(t,e,n){if(!t)return null;let i=t.fragments[e-t.startSN];return i||(i=t.fragmentHint,i&&i.sn===e?i:e<t.startSN&&n&&n.sn===e?n:null)}function ci(t,e,n){return t?ui(t.partList,e,n):null}function ui(t,e,n){if(t)for(let i=t.length;i--;){const r=t[i];if(r.index===n&&r.fragment.sn===e)return r}return null}function di(t){t.forEach(((t,e)=>{var n;null==(n=t.details)||n.fragments.forEach((t=>{t.level=e,t.initSegment&&(t.initSegment.level=e)}))}))}function hi(t,e){return!(t===e||!e)&&fi(t)!==fi(e)}function fi(t){return t.replace(/\?[^?]*$/,"")}function pi(t,e){for(let i=0,r=t.length;i<r;i++){var n;if((null==(n=t[i])?void 0:n.cc)===e)return t[i]}return null}function mi(t,e){const n=t.start+e;t.startPTS=n,t.setStart(n),t.endPTS=n+t.duration}function gi(t,e){const n=e.fragments;for(let e=0,i=n.length;e<i;e++)mi(n[e],t);e.fragmentHint&&mi(e.fragmentHint,t),e.alignedSliding=!0}function vi(t,e){if(!function(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}(e,t))return;const n=Math.min(e.endCC,t.endCC),i=pi(e.fragments,n),r=pi(t.fragments,n);if(!i||!r)return;A.log(`Aligning playlist at start of dicontinuity sequence ${n}`);gi(i.start-r.start,t)}function yi(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,i=e.fragments;if(!n.length||!i.length)return;let r,s;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(r=pi(i,a),s=pi(n,a)),r&&s||(r=i[Math.floor(i.length/2)],s=pi(n,r.cc)||n[Math.floor(n.length/2)]);const o=r.programDateTime,l=s.programDateTime;if(!o||!l)return;gi((l-o)/1e3-(s.start-r.start),t)}function bi(t,e,n){_i(t,e,n),t.addEventListener(e,n)}function _i(t,e,n){t.removeEventListener(e,n)}const Ei=function(t){let e="";const n=t.length;for(let i=0;i<n;i++)e+=`[${t.start(i).toFixed(3)}-${t.end(i).toFixed(3)}]`;return e},Si={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Ti extends Je{constructor(t,e,n,r,s){super(r,t.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Si.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:t,fragCurrent:e,media:n,mediaBuffer:r,state:s}=this,a=n?n.currentTime:0,o=nn.bufferInfo(r||n,a,t.maxBufferHole),l=!o.len;if(this.log(`Media seeking to ${i(a)?a.toFixed(3):a}, state: ${s}, ${l?"out of":"in"} buffer`),this.state===Si.ENDED)this.resetLoadingState();else if(e){const n=t.maxFragLookUpTolerance,i=e.start-n,r=e.start+e.duration+n;if(l||r<o.start||i>o.end){const t=a>r;(a<i||t)&&(t&&e.loader&&(this.log(`Cancelling fragment load for seek (sn: ${e.sn})`),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(n){this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0);if(a>this.lastCurrentTime&&(this.lastCurrentTime=a),!this.loadingParts){const t=Math.max(o.end,a),e=this.shouldLoadParts(this.getLevelDetails(),t);e&&(this.log(`LL-Part loading ON after seeking to ${a.toFixed(2)} with buffer @${t.toFixed(2)}`),this.loadingParts=e)}}this.hls.hasEnoughToStart||(this.log(`Setting ${l?"startPosition":"nextLoadPosition"} to ${a} for seek without enough to start`),this.nextLoadPosition=a,l&&(this.startPosition=a)),l&&this.state===Si.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=s,this.hls=t,this.fragmentLoader=new Ye(t.config),this.keyLoader=n,this.fragmentTracker=e,this.config=t.config,this.decrypter=new Ke(t.config)}registerListeners(){const{hls:t}=this;t.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(l.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(l.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){if(this.state===Si.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Si.STOPPED}get startPositionValue(){const{nextLoadPosition:t,startPosition:e}=this;return-1===e&&t?t:e}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(t,e){if(e.live||!this.media)return!1;const n=t.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const r=t.buffered;this.config.maxBufferHole&&r&&r.length>1&&(t=nn.bufferedInfo(r,t.start,0));const s=t.nextStart;if(s&&s>i&&s<e.edge)return!1;if(this.media.currentTime<t.start)return!1;const a=e.partList;if(null!=a&&a.length){const t=a[a.length-1];return nn.isBuffered(this.media,t.start+t.duration/2)}const o=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(o)}getLevelDetails(){if(this.levels&&null!==this.levelLastLoaded)return this.levelLastLoaded.details}get timelineOffset(){const t=this.config.timelineOffset;var e;return t?(null==(e=this.getLevelDetails())?void 0:e.appliedTimelineOffset)||t:0}onMediaAttached(t,e){const n=this.media=this.mediaBuffer=e.media;bi(n,"seeking",this.onMediaSeeking),bi(n,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===Si.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(t,e){const n=!!e.transferMedia,i=this.media;if(null!==i){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),_i(i,"seeking",this.onMediaSeeking),_i(i,"ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n)return this.resetLoadingState(),void this.resetTransmuxer();this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(t,e){}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=Si.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,e,n){this.startFragRequested=!0,this._loadFragForPlayback(t,e,n)}_loadFragForPlayback(t,e,n){this._doFragLoad(t,e,n,(t=>{const e=t.frag;if(this.fragContextChanged(e))return this.warn(`${e.type} sn: ${e.sn}${t.part?" part: "+t.part.index:""} of ${this.fragInfo(e,!1,t.part)}) was dropped during download.`),void this.fragmentTracker.removeFragment(e);e.stats.chunkCount++,this._handleFragmentLoadProgress(t)})).then((t=>{if(!t)return;const e=this.state,n=t.frag;this.fragContextChanged(n)?(e===Si.FRAG_LOADING||!this.fragCurrent&&e===Si.PARSING)&&(this.fragmentTracker.removeFragment(n),this.state=Si.IDLE):("payload"in t&&(this.log(`Loaded ${n.type} sn: ${n.sn} of ${this.playlistLabel()} ${n.level}`),this.hls.trigger(l.FRAG_LOADED,t)),this._handleFragmentLoadComplete(t))})).catch((e=>{this.state!==Si.STOPPED&&this.state!==Si.ERROR&&(this.warn(`Frag error: ${(null==e?void 0:e.message)||e}`),this.resetFragmentLoading(t))}))}clearTrackerIfNeeded(t){var e;const{fragmentTracker:n}=this;if(n.getState(t)===Me){const e=t.type,i=this.getFwdBufferInfo(this.mediaBuffer,e),r=Math.max(t.duration,i?i.len:this.config.maxBufferLength),s=this.backtrackFragment;(1===(s?t.sn-s.sn:0)||this.reduceMaxBufferLength(r,t.duration))&&n.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(t.type)&&(n.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),n.getState(t)===Ne&&n.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}waitForLive(t){const e=t.details;return(null==e?void 0:e.live)&&"EVENT"!==e.type&&(this.levelLastLoaded!==t||e.expired)}flushMainBuffer(t,e,n=null){if(!(t-e))return;const i={startOffset:t,endOffset:e,type:n};this.hls.trigger(l.BUFFER_FLUSHING,i)}_loadInitSegment(t,e){this._doFragLoad(t,e).then((t=>{const e=null==t?void 0:t.frag;if(!e||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return t})).then((t=>{const{hls:e}=this,{frag:n,payload:i}=t,r=n.decryptdata;if(i&&i.byteLength>0&&null!=r&&r.key&&r.iv&&vn(r.method)){const s=self.performance.now();return this.decrypter.decrypt(new Uint8Array(i),r.key.buffer,r.iv.buffer,yn(r.method)).catch((t=>{throw e.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:n}),t})).then((i=>{const r=self.performance.now();return e.trigger(l.FRAG_DECRYPTED,{frag:n,payload:i,stats:{tstart:s,tdecrypt:r}}),t.payload=i,this.completeInitSegmentLoad(t)}))}return this.completeInitSegmentLoad(t)})).catch((e=>{this.state!==Si.STOPPED&&this.state!==Si.ERROR&&(this.warn(e),this.resetFragmentLoading(t))}))}completeInitSegmentLoad(t){const{levels:e}=this;if(!e)throw new Error("init load aborted, missing levels");const n=t.frag.stats;this.state!==Si.STOPPED&&(this.state=Si.IDLE),t.frag.data=new Uint8Array(t.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(t,e){var n,i;const r=t.tracks;if(r&&!e.encrypted&&(null!=(n=r.audio)&&n.encrypted||null!=(i=r.video)&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const t=this.media,n=new Error(`Encrypted track with no key in ${this.fragInfo(e)} (media ${t?"attached mediaKeys: "+t.mediaKeys:"detached"})`);return this.warn(n.message),!t||t.mediaKeys?!1:(this.hls.trigger(l.ERROR,{type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_NO_KEYS,fatal:!1,error:n,frag:e}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(t){const{fragCurrent:e}=this;return!t||!e||t.sn!==e.sn||t.level!==e.level}fragBufferedComplete(t,e){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.fragInfo(t,!1,e)} > buffer:${n?Ei(nn.getBuffered(n)):"(detached)"})`),z(t)){var i;if(t.type!==m){const e=t.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return void(this.state=Si.IDLE)}const e=null==(i=this.levels)?void 0:i[t.level];null!=e&&e.fragmentError&&(this.log(`Resetting level fragment error count of ${e.fragmentError} on frag buffered`),e.fragmentError=0)}this.state=Si.IDLE}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:n,part:i,partsLoaded:r}=t,s=!r||0===r.length||r.some((t=>!t)),a=new tn(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!s);e.flush(a)}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,n=null,r){var s;this.fragCurrent=t;const a=e.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let o=null;if(!t.encrypted||null!=(s=t.decryptdata)&&s.key)t.encrypted||(o=this.keyLoader.loadClear(t,a.encryptedFragments,this.startFragRequested),o&&this.log("[eme] blocking frag load until media-keys acquired"));else if(this.log(`Loading key for ${t.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${t.level}`),this.state=Si.KEY_LOADING,this.fragCurrent=t,o=this.keyLoader.load(t).then((t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(l.KEY_LOADED,t),this.state===Si.KEY_LOADING&&(this.state=Si.IDLE),t})),this.hls.trigger(l.KEY_LOADING,{frag:t}),null===this.fragCurrent)return this.log("context changed in KEY_LOADING"),Promise.resolve(null);const c=this.fragPrevious;if(z(t)&&(!c||t.sn!==c.sn)){const n=this.shouldLoadParts(e.details,t.end);n!==this.loadingParts&&(this.log(`LL-Part loading ${n?"ON":"OFF"} loading sn ${null==c?void 0:c.sn}->${t.sn}`),this.loadingParts=n)}if(n=Math.max(t.start,n||0),this.loadingParts&&z(t)){const i=a.partList;if(i&&r){n>a.fragmentEnd&&a.fragmentHint&&(t=a.fragmentHint);const s=this.getNextPart(i,t,n);if(s>-1){const c=i[s];let u;return t=this.fragCurrent=c.fragment,this.log(`Loading ${t.type} sn: ${t.sn} part: ${c.index} (${s}/${i.length-1}) of ${this.fragInfo(t,!1,c)}) cc: ${t.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=c.start+c.duration,this.state=Si.FRAG_LOADING,u=o?o.then((n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(t,c,e,r))).catch((t=>this.handleFragLoadError(t))):this.doFragPartsLoad(t,c,e,r).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(l.FRAG_LOADING,{frag:t,part:c,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):u}if(!t.url||this.loadedEndOfParts(i,n))return Promise.resolve(null)}}var u;if(z(t)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)} Check buffer at sn: ${t.sn} loaded parts: ${null==(u=a.partList)?void 0:u.filter((t=>t.loaded)).map((t=>`[${t.start}-${t.end}]`))}`),this.loadingParts=!1;else if(!t.url)return Promise.resolve(null);this.log(`Loading ${t.type} sn: ${t.sn} of ${this.fragInfo(t,!1)}) cc: ${t.cc} ${"["+a.startSN+"-"+a.endSN+"]"}, target: ${parseFloat(n.toFixed(3))}`),i(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Si.FRAG_LOADING;const d=this.config.progressive&&t.type!==m;let h;return h=d&&o?o.then((e=>!e||this.fragContextChanged(e.frag)?null:this.fragmentLoader.load(t,r))).catch((t=>this.handleFragLoadError(t))):Promise.all([this.fragmentLoader.load(t,d?r:void 0),o]).then((([t])=>(!d&&r&&r(t),t))).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(l.FRAG_LOADING,{frag:t,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}doFragPartsLoad(t,e,n,i){return new Promise(((r,s)=>{var a;const o=[],c=null==(a=n.details)?void 0:a.partList,u=e=>{this.fragmentLoader.loadPart(t,e,i).then((i=>{o[e.index]=i;const s=i.part;this.hls.trigger(l.FRAG_LOADED,i);const a=ci(n.details,t.sn,e.index+1)||ui(c,t.sn,e.index+1);if(!a)return r({frag:t,part:s,partsLoaded:o});u(a)})).catch(s)};u(e)}))}handleFragLoadError(t){if("data"in t){const e=t.data;e.frag&&e.details===o.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):e.frag&&e.type===a.KEY_SYSTEM_ERROR?(e.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(e.frag)):this.hls.trigger(l.ERROR,e)}else this.hls.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==Si.PARSING)return void(this.fragCurrent||this.state===Si.STOPPED||this.state===Si.ERROR||(this.state=Si.IDLE));const{frag:n,part:i,level:r}=e,s=self.performance.now();n.stats.parsing.end=s,i&&(i.stats.parsing.end=s);const a=this.getLevelDetails(),o=a&&n.sn>a.endSN||this.shouldLoadParts(a,n.end);o!==this.loadingParts&&(this.log(`LL-Part loading ${o?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=o),this.updateLevelTiming(n,i,r,t.partial)}shouldLoadParts(t,e){if(this.config.lowLatencyMode){if(!t)return this.loadingParts;if(t.partList){var n;const r=t.partList[0];if(r.fragment.type===m)return!1;if(e>=r.end+((null==(n=t.fragmentHint)?void 0:n.duration)||0)){var i;if((this.hls.hasEnoughToStart?(null==(i=this.media)?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>r.start-r.fragment.duration)return!0}}}return!1}getCurrentContext(t){const{levels:e,fragCurrent:n}=this,{level:i,sn:r,part:s}=t;if(null==e||!e[i])return this.warn(`Levels object was unset while buffering fragment ${r} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const a=e[i],o=a.details,l=s>-1?ci(o,r,s):null,c=l?l.fragment:li(o,r,n);return c?(n&&n!==c&&(c.stats=n.stats),{frag:c,part:l,level:a}):null}bufferFragmentData(t,e,n,i,r){if(this.state!==Si.PARSING)return;const{data1:s,data2:a}=t;let o=s;if(a&&(o=gt(s,a)),!o.length)return;const c=this.initPTS[e.cc],u=c?-c.baseTime/c.timescale:void 0,d={type:t.type,frag:e,part:n,chunkMeta:i,offset:u,parent:e.type,data:o};if(this.hls.trigger(l.BUFFER_APPENDING,d),t.dropped&&t.independent&&!n){if(r)return;this.flushBufferGap(e)}}flushBufferGap(t){const e=this.media;if(!e)return;if(!nn.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const n=e.currentTime,i=nn.bufferInfo(e,n,0),r=t.duration,s=Math.min(2*this.config.maxFragLookUpTolerance,.25*r),a=Math.max(Math.min(t.start-s,i.end-s),n+s);t.start-a>s&&this.flushMainBuffer(a,t.start)}getFwdBufferInfo(t,e){var n;const r=this.getLoadPosition();if(!i(r))return null;const s=this.lastCurrentTime>r||null!=(n=this.media)&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(t,r,e,s)}getFwdBufferInfoAtPos(t,e,n,i){const r=nn.bufferInfo(t,e,i);if(0===r.len&&void 0!==r.nextStart){const s=this.fragmentTracker.getBufferedFrag(e,n);if(s&&(r.nextStart<=s.end||s.gap)){const n=Math.max(Math.min(r.nextStart,s.end)-e,i);return nn.bufferInfo(t,e,n)}}return r}getMaxBufferLength(t){const{config:e}=this;let n;return n=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(n,e.maxMaxBufferLength)}reduceMaxBufferLength(t,e){const n=this.config,i=Math.max(Math.min(t-e,n.maxBufferLength),e),r=Math.max(t-3*e,n.maxMaxBufferLength/2,i);return r>=i&&(n.maxMaxBufferLength=r,this.warn(`Reduce max buffer length to ${r}s`),!0)}getAppendedFrag(t,e=f){const n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(t,e):null;return n&&"fragment"in n?n.fragment:n}getNextFragment(t,e){const n=e.fragments,i=n.length;if(!i)return null;const{config:r}=this,s=n[0].start,a=r.lowLatencyMode&&!!e.partList;let o=null;if(e.live){const n=r.initialLiveManifestSize;if(i<n)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${n})`),null;if(!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<s){var l;a&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),o=this.getInitialLiveFragment(e);const n=this.hls.startPosition,i=this.hls.liveSyncPosition,r=o?(-1!==n&&n>=s?n:i)||o.start:t;this.log(`Setting startPosition to ${r} to match start frag at live edge. mainStart: ${n} liveSyncPosition: ${i} frag.start: ${null==(l=o)?void 0:l.start}`),this.startPosition=this.nextLoadPosition=r}}else t<=s&&(o=n[0]);if(!o){const n=this.loadingParts?e.partEnd:e.fragmentEnd;o=this.getFragmentAtPosition(t,n,e)}let c=this.filterReplacedPrimary(o,e);if(!c&&o){const t=o.sn-e.startSN;c=this.filterReplacedPrimary(n[t+1]||null,e)}return this.mapToInitFragWhenRequired(c)}isLoopLoading(t,e){const n=this.fragmentTracker.getState(t);return(n===Fe||n===Ne&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,n,i,r){let s=null;if(t.gap&&(s=this.getNextFragment(this.nextLoadPosition,e),s&&!s.gap&&n.nextStart)){const t=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(null!==t&&n.len+t.len>=r){const t=s.sn;return this.loopSn!==t&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${t}`),this.loopSn=t),null}}return this.loopSn=void 0,s}get primaryPrefetch(){if(wi(this.config)){var t;if(null==(t=this.hls.interstitialsManager)||null==(t=t.playingItem)?void 0:t.event)return!0}return!1}filterReplacedPrimary(t,e){if(!t)return t;if(wi(this.config)&&t.type!==m){const n=this.hls.interstitialsManager,i=null==n?void 0:n.bufferingItem;if(i){const n=i.event;if(n){if(n.appendInPlace||Math.abs(t.start-i.start)>1||0===i.start)return null}else{if(t.end<=i.start&&!1===(null==e?void 0:e.live))return null;if(t.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||t.start-i.end>1))return null}}const r=null==n?void 0:n.playerQueue;if(r)for(let e=r.length;e--;){const n=r[e].interstitial;if(n.appendInPlace&&t.start>=n.startTime&&t.end<=n.resumeTime)return null}}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,n){let i=-1,r=!1,s=!0;for(let a=0,o=t.length;a<o;a++){const o=t[a];if(s=s&&!o.independent,i>-1&&n<o.start)break;const l=o.loaded;l?i=-1:(r||(o.independent||s)&&o.fragment===e)&&(o.fragment!==e&&this.warn(`Need buffer at ${n} but next unloaded part starts at ${o.start}`),i=a),r=l}return i}loadedEndOfParts(t,e){let n;for(let i=t.length;i--;){if(n=t[i],!n.loaded)return!1;if(e>n.start)return!0}return!1}getInitialLiveFragment(t){const e=t.fragments,n=this.fragPrevious;let r=null;if(n){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),r=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!i(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;for(let i=0;i<t.length;++i){const r=t[i];if(me(e,n,r))return r}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const i=n.sn+1;if(i>=t.startSN&&i<=t.endSN){const s=e[i-t.startSN];n.cc===s.cc&&(r=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=ge(t,n.cc,n.end),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const e=this.hls.liveSyncPosition;null!==e&&(r=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t))}return r}getFragmentAtPosition(t,e,n){const{config:i}=this;let{fragPrevious:r}=this,{fragments:s,endSN:a}=n;const{fragmentHint:o}=n,{maxFragLookUpTolerance:l}=i,c=n.partList,u=!!(this.loadingParts&&null!=c&&c.length&&o);let d;if(u&&!this.bitrateTest&&c[c.length-1].fragment.sn===o.sn&&(s=s.concat(o),a=o.sn),t<e){var h;d=fe(r,s,t,t<this.lastCurrentTime||t>e-l||null!=(h=this.media)&&h.paused||!this.startFragRequested?0:l)}else d=s[s.length-1];if(d){const t=d.sn-n.startSN,e=this.fragmentTracker.getState(d);if((e===Fe||e===Ne&&d.gap)&&(r=d),r&&d.sn===r.sn&&(!u||c[0].fragment.sn>d.sn||!n.live)){if(d.level===r.level){const e=s[t+1];d=d.sn<a&&this.fragmentTracker.getState(e)!==Fe?e:null}}}return d}alignPlaylists(t,e,n){const r=t.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const s=t.fragmentStart,a=!e,o=t.alignedSliding&&i(s);if(a||!o&&!s){!function(t,e){t&&(vi(e,t),e.alignedSliding||yi(e,t),e.alignedSliding||e.skippedSegments||si(t,e,!1))}(n,t);const i=t.fragmentStart;return this.log(`Live playlist sliding: ${i.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} fragments: ${r}`),i}return s}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let n=this.startPosition;n<e&&(n=-1);const r=this.timelineOffset;if(-1===n){const s=null!==this.startTimeOffset,a=s?this.startTimeOffset:t.startTimeOffset;null!==a&&i(a)?(n=e+a,a<0&&(n+=t.edge),n=Math.min(Math.max(e,n),e+t.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${a} found in ${s?"multivariant":"media"} playlist`),this.startPosition=n):t.live?(n=this.hls.liveSyncPosition||e,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+r}this.nextLoadPosition=n+r}getLoadPosition(){var t;const{media:e}=this;let n=0;return null!=(t=this.hls)&&t.hasEnoughToStart&&e?n=e.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(t,e){this.transmuxer&&t.type===this.playlistType&&z(t)&&t.stats.aborted&&(this.log(`Fragment ${t.sn}${e?" part "+e.index:""} of ${this.playlistLabel()} ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===Si.FRAG_LOADING_WAITING_RETRY)||(this.state=Si.IDLE)}onFragmentOrKeyLoadError(t,e){var n;if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag)}const i=e.frag;if(!i||i.type!==t||!this.levels)return;var r;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(r=this.fragCurrent)?void 0:r.url}`);const s=e.details===o.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(i,!0);const a=e.errorAction;if(!a)return void(this.state=Si.ERROR);const{action:l,flags:c,retryCount:u=0,retryConfig:d}=a,h=!!d,f=h&&l===Ae,p=h&&!a.resolved&&c===De,m=null==(n=this.hls.latestLevelDetails)?void 0:n.live;if(!f&&p&&z(i)&&!i.endList&&m&&!be(e))this.resetFragmentErrors(t),this.treatAsGap(i),a.resolved=!0;else if((f||p)&&u<d.maxNumRetry){var g;const n=we(null==(g=e.response)?void 0:g.code),r=Ee(d,u);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+r,this.state=Si.FRAG_LOADING_WAITING_RETRY,a.resolved=!0,n)return this.log("Waiting for connection (offline)"),this.retryDate=1/0,void(e.reason="offline");this.warn(`Fragment ${i.sn} of ${t} ${i.level} errored with ${e.details}, retrying loading ${u+1}/${d.maxNumRetry} in ${r}ms`)}else if(d){if(this.resetFragmentErrors(t),!(u<d.maxNumRetry))return void this.warn(`${e.details} reached or exceeded max retry (${u})`);s||l===xe||(a.resolved=!0)}else this.state=l===Ce?Si.WAITING_LEVEL:Si.ERROR;this.tickImmediate()}checkRetryDate(){const t=self.performance.now(),e=this.retryDate,n=e===1/0;(!e||t>=e||n&&!we(0))&&(n&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=Si.IDLE)}reduceLengthAndFlushBuffer(t){if(this.state===Si.PARSING||this.state===Si.PARSED){const e=t.frag,n=t.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),r=i&&i.len>.5;r&&this.reduceMaxBufferLength(i.len,(null==e?void 0:e.duration)||10);const s=!r;return s&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${n} buffer`),e&&(this.fragmentTracker.removeFragment(e),this.nextLoadPosition=e.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(t){t===p&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Si.STOPPED&&(this.state=Si.IDLE)}afterBufferFlushed(t,e,n){if(!t)return;const i=nn.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,i,n),this.state===Si.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Si.STOPPED&&(this.state=Si.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const t=this.levelLastLoaded,e=t?t.details:null;null!=e&&e.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(e,e.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.log(`Loading context changed while buffering sn ${t.sn} of ${this.playlistLabel()} ${-1===t.level?"<removed>":t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,e,n,i){const r=n.details;if(!r)return void this.warn("level.details undefined");if(!Object.keys(t.elementaryStreams).reduce(((e,s)=>{const a=t.elementaryStreams[s];if(a){const o=a.endPTS-a.startPTS;if(o<=0)return this.warn(`Could not parse fragment ${t.sn} ${s} duration reliably (${o})`),e||!1;const c=i?0:ni(r,t,a.startPTS,a.endPTS,a.startDTS,a.endDTS,this);return this.hls.trigger(l.LEVEL_PTS_UPDATED,{details:r,level:n,drift:c,type:s,frag:t,start:a.startPTS,end:a.endPTS}),!0}return e}),!1)){var s;const e=null===(null==(s=this.transmuxer)?void 0:s.error);if((0===n.fragmentError||e&&(n.fragmentError<2||t.endList))&&this.treatAsGap(t,n),e){const e=new Error(`Found no media in fragment ${t.sn} of ${this.playlistLabel()} ${t.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(e.message),this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=Si.PARSED,this.log(`Parsed ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.fragInfo(t,!1,e)})`),this.hls.trigger(l.FRAG_PARSED,{frag:t,part:e})}playlistLabel(){return this.playlistType===f?"level":"track"}fragInfo(t,e=!0,n){var i,r;return`${this.playlistLabel()} ${t.level} (${n?"part":"frag"}:[${(null!=(i=e&&!n?t.startPTS:(n||t).start)?i:NaN).toFixed(3)}-${(null!=(r=e&&!n?t.endPTS:(n||t).end)?r:NaN).toFixed(3)}]${n&&"main"===t.type?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(t,e){e&&e.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)}resetTransmuxer(){var t;null==(t=this.transmuxer)||t.reset()}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`))}get state(){return this._state}}function wi(t){return!!t.interstitialsController&&!1!==t.enableInterstitialPlayback}class ki{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:e}=this;let n;return t.length?(n=1===t.length?t[0]:function(t,e){const n=new Uint8Array(e);let i=0;for(let e=0;e<t.length;e++){const r=t[e];n.set(r,i),i+=r.length}return n}(t,e),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}var Ci,xi={exports:{}};var Ai=(Ci||(Ci=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,i,s,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new r(i,s||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),o.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,a=new Array(s);r<s;r++)a[r]=i[r].fn;return a},o.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},o.prototype.emit=function(t,e,i,r,s,a){var o=n?n+t:t;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,s),!0;case 6:return u.fn.call(u.context,e,i,r,s,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,i);break;case 4:u[c].fn.call(u[c].context,e,i,r);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},o.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},o.prototype.removeListener=function(t,e,i,r){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==e||r&&!o.once||i&&o.context!==i||a(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==e||r&&!o[l].once||i&&o[l].context!==i)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(xi)),xi.exports),Ii=R(Ai);const Di="1.6.15",Li={};function Pi(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function Oi(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function Ri(t,e){let n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3],n}function Mi(t,e){const n=e;let i=0;for(;Oi(t,e);){i+=10;i+=Ri(t,e+6),Pi(t,e+10)&&(i+=10),e+=i}if(i>0)return t.subarray(n,n+i)}function Ni(t,e){return 255===t[e]&&240==(246&t[e+1])}function Fi(t,e){return 1&t[e+1]?7:9}function $i(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function ji(t,e){return e+1<t.length&&Ni(t,e)}function Bi(t,e){if(ji(t,e)){const n=Fi(t,e);if(e+n>=t.length)return!1;const i=$i(t,e);if(i<=n)return!1;const r=e+i;return r===t.length||ji(t,r)}return!1}function Ui(t,e,n,i,r){if(!t.samplerate){const s=function(t,e,n,i){const r=e[n+2],s=r>>2&15;if(s>12){const e=new Error(`invalid ADTS sampling index:${s}`);return void t.emit(l.ERROR,l.ERROR,{type:a.MEDIA_ERROR,details:o.FRAG_PARSING_ERROR,fatal:!0,error:e,reason:e.message})}const c=1+(r>>6&3),u=e[n+3]>>6&3|(1&r)<<2,d="mp4a.40."+c,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][s];let f=s;5!==c&&29!==c||(f-=3);const p=[c<<3|(14&f)>>1,(1&f)<<7|u<<3];return A.log(`manifest codec:${i}, parsed codec:${d}, channels:${u}, rate:${h} (ADTS object type:${c} sampling index:${s})`),{config:p,samplerate:h,channelCount:u,codec:d,parsedCodec:d,manifestCodec:i}}(e,n,i,r);if(!s)return;b(t,s)}}function Hi(t){return 9216e4/t}function Gi(t,e,n,i,r){const s=i+r*Hi(t.samplerate),a=function(t,e){const n=Fi(t,e);if(e+n<=t.length){const i=$i(t,e)-n;if(i>0)return{headerLength:n,frameLength:i}}}(e,n);let o;if(a){const{frameLength:i,headerLength:r}=a,l=r+i,c=Math.max(0,n+l-e.length);c?(o=new Uint8Array(l-r),o.set(e.subarray(n+r,e.length),0)):o=e.subarray(n+r,n+l);const u={unit:o,pts:s};return c||t.samples.push(u),{sample:u,length:l,missing:c}}const l=e.length-n;o=new Uint8Array(l),o.set(e.subarray(n,e.length),0);return{sample:{unit:o,pts:s},length:l,missing:-1}}function qi(t,e){return Oi(t,e)&&Ri(t,e+6)+10<=t.length-e}function Wi(t,e=0,n=1/0){return function(t,e,n,i){const r=function(t){return t instanceof ArrayBuffer?t:t.buffer}(t);let s=1;"BYTES_PER_ELEMENT"in i&&(s=i.BYTES_PER_ELEMENT);const a=(d=t,d&&d.buffer instanceof ArrayBuffer&&void 0!==d.byteLength&&void 0!==d.byteOffset?t.byteOffset:0),o=(a+t.byteLength)/s,l=(a+e)/s,c=Math.floor(Math.max(0,Math.min(l,o))),u=Math.floor(Math.min(c+Math.max(n,0),o));var d;return new i(r,c,u-c)}(t,e,n,Uint8Array)}function Vi(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null};if(t.size<2)return;if(3!==t.data[0])return void console.log("Ignore frame with unrecognized character encoding");const n=t.data.subarray(1).indexOf(0);if(-1===n)return;const i=L(Wi(t.data,1,n)),r=t.data[2+n],s=t.data.subarray(3+n).indexOf(0);if(-1===s)return;const a=L(Wi(t.data,3+n,s));let o;return o="--\x3e"===i?L(Wi(t.data,4+n+s)):function(t){return t instanceof ArrayBuffer?t:0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}(t.data.subarray(4+n+s)),e.mimeType=i,e.pictureType=r,e.description=a,e.data=o,e}function Ki(t){return"PRIV"===t.type?function(t){if(t.size<2)return;const e=L(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}(t):"W"===t.type[0]?function(t){if("WXXX"===t.type){if(t.size<2)return;let e=1;const n=L(t.data.subarray(e),!0);e+=n.length+1;const i=L(t.data.subarray(e));return{key:t.type,info:n,data:i}}const e=L(t.data);return{key:t.type,info:"",data:e}}(t):"APIC"===t.type?Vi(t):function(t){if(t.size<2)return;if("TXXX"===t.type){let e=1;const n=L(t.data.subarray(e),!0);e+=n.length+1;const i=L(t.data.subarray(e));return{key:t.type,info:n,data:i}}const e=L(t.data.subarray(1));return{key:t.type,info:"",data:e}}(t)}function zi(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=Ri(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}}const Yi=10,Qi=10;function Xi(t){let e=0;const n=[];for(;Oi(t,e);){const i=Ri(t,e+6);t[e+5]>>6&1&&(e+=Yi),e+=Yi;const r=e+i;for(;e+Qi<r;){const i=zi(t.subarray(e)),r=Ki(i);r&&n.push(r),e+=i.size+Yi}Pi(t,e)&&(e+=Yi)}return n}function Zi(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info}function Ji(t){if(8===t.data.byteLength){const e=new Uint8Array(t.data),n=1&e[3];let i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}}function tr(t){const e=Xi(t);for(let t=0;t<e.length;t++){const n=e[t];if(Zi(n))return Ji(n)}}let er=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function nr(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class ir{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,e,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,e){return!1}appendFrame(t,e,n){}demux(t,e){this.cachedData&&(t=gt(this.cachedData,t),this.cachedData=null);let n,r=Mi(t,0),s=r?r.length:0;const a=this._audioTrack,o=this._id3Track,l=r?tr(r):void 0,c=t.length;for((null===this.basePTS||0===this.frameIndex&&i(l))&&(this.basePTS=rr(l,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:er.audioId3,duration:Number.POSITIVE_INFINITY});s<c;){if(this.canParse(t,s)){const e=this.appendFrame(a,t,s);e?(this.frameIndex++,this.lastPTS=e.sample.pts,s+=e.length,n=s):s=c}else qi(t,s)?(r=Mi(t,s),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:er.audioId3,duration:Number.POSITIVE_INFINITY}),s+=r.length,n=s):s++;if(s===c&&n!==c){const e=t.slice(n);this.cachedData?this.cachedData=gt(this.cachedData,e):this.cachedData=e}}return{audioTrack:a,videoTrack:nr(),id3Track:o,textTrack:nr()}}demuxSampleAes(t,e,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:nr(),id3Track:this._id3Track,textTrack:nr()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const rr=(t,e,n)=>{if(i(t))return 90*t;return 9e4*e+(n?9e4*n.baseTime/n.timescale:0)};let sr=null;const ar=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],or=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],lr=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],cr=[0,1,1,4];function ur(t,e,n,i,r){if(n+24>e.length)return;const s=dr(e,n);if(s&&n+s.frameLength<=e.length){const a=i+r*(9e4*s.samplesPerFrame/s.sampleRate),o={unit:e.subarray(n,n+s.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(o),{sample:o,length:s.frameLength,missing:0}}}function dr(t,e){const n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,s=t[e+2]>>2&3;if(1!==n&&0!==r&&15!==r&&3!==s){const a=t[e+2]>>1&1,o=t[e+3]>>6,l=1e3*ar[14*(3===n?3-i:3===i?3:4)+r-1],c=or[3*(3===n?0:2===n?1:2)+s],u=3===o?1:2,d=lr[n][i],h=cr[i],f=8*d*h,p=Math.floor(d*l/c+a)*h;if(null===sr){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);sr=t?parseInt(t[1]):0}return!!sr&&sr<=87&&2===i&&l>=224e3&&0===o&&(t[e+3]=128|t[e+3]),{sampleRate:c,channelCount:u,frameLength:p,samplesPerFrame:f}}}function hr(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function fr(t,e){return e+1<t.length&&hr(t,e)}function pr(t,e){if(e+1<t.length&&hr(t,e)){const n=4,i=dr(t,e);let r=n;null!=i&&i.frameLength&&(r=i.frameLength);const s=e+r;return s===t.length||fr(t,s)}return!1}const mr=(t,e)=>{let n=0,i=5;e+=i;const r=new Uint32Array(1),s=new Uint32Array(1),a=new Uint8Array(1);for(;i>0;){a[0]=t[e];const o=Math.min(i,8),l=8-o;s[0]=4278190080>>>24+l<<l,r[0]=(a[0]&s[0])>>l,n=n?n<<o|r[0]:r[0],e+=1,i-=o}return n};class gr extends ir{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,e,n,i){super.resetInitSegment(t,e,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}canParse(t,e){return e+64<t.length}appendFrame(t,e,n){const i=vr(t,e,n,this.basePTS,this.frameIndex);if(-1!==i){return{sample:t.samples[t.samples.length-1],length:i,missing:0}}}static probe(t){if(!t)return!1;const e=Mi(t,0);if(!e)return!1;const n=e.length;return 11===t[n]&&119===t[n+1]&&void 0!==tr(e)&&mr(t,n)<16}}function vr(t,e,n,i,r){if(n+8>e.length)return-1;if(11!==e[n]||119!==e[n+1])return-1;const s=e[n+4]>>6;if(s>=3)return-1;const a=[48e3,44100,32e3][s],o=63&e[n+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*o+s];if(n+l>e.length)return-1;const c=e[n+6]>>5;let u=0;2===c?u+=2:(1&c&&1!==c&&(u+=2),4&c&&(u+=2));const d=(e[n+6]<<8|e[n+7])>>12-u&1,h=[2,1,2,3,3,4,4,5][c]+d,f=e[n+5]>>3,p=7&e[n+5],m=new Uint8Array([s<<6|f<<1|p>>2,(3&p)<<6|c<<3|d<<2|o>>4,o<<4&224]),g=i+r*(1536/a*9e4),v=e.subarray(n,n+l);return t.config=m,t.channelCount=h,t.samplerate=a,t.samples.push({unit:v,pts:g}),l}const yr=/\/emsg[-/]ID3/i;function br(t,e){return i(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class _r{constructor(t,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Ke(e,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,He)}decryptAacSample(t,e,n){const i=t[e].unit;if(i.length<=16)return;const r=i.subarray(16,i.length-i.length%16),s=r.buffer.slice(r.byteOffset,r.byteOffset+r.length);this.decryptBuffer(s).then((r=>{const s=new Uint8Array(r);i.set(s,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,n)})).catch(n)}decryptAacSamples(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e);let i=0;for(let e=32;e<t.length-16;e+=160,i+=16)n.set(t.subarray(e,e+16),i);return n}getAvcDecryptedUnit(t,e){const n=new Uint8Array(e);let i=0;for(let e=32;e<t.length-16;e+=160,i+=16)t.set(n.subarray(i,i+16),e);return t}decryptAvcSample(t,e,n,i,r){const s=Et(r.data),a=this.getAvcEncryptedData(s);this.decryptBuffer(a.buffer).then((a=>{r.data=this.getAvcDecryptedUnit(s,a),this.decrypter.isSync()||this.decryptAvcSamples(t,e,n+1,i)})).catch(i)}decryptAvcSamples(t,e,n,i){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void i();const r=t[e].units;for(;!(n>=r.length);n++){const s=r[n];if(!(s.data.length<=48||1!==s.type&&5!==s.type||(this.decryptAvcSample(t,e,n,i,s),this.decrypter.isSync())))return}}}}class Er{constructor(){this.VideoSample=null}createVideoSample(t,e,n){return{key:t,frame:!1,pts:e,dts:n,units:[],length:0}}getLastNalUnit(t){var e;let n,i=this.VideoSample;if(i&&0!==i.units.length||(i=t[t.length-1]),null!=(e=i)&&e.units){const t=i.units;n=t[t.length-1]}return n}pushAccessUnit(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const n=e.samples,i=n.length;if(!i)return void e.dropped++;{const e=n[i-1];t.pts=e.pts,t.dts=e.dts}}e.samples.push(t)}}parseNALu(t,e,n){const i=e.byteLength;let r=t.naluState||0;const s=r,a=[];let o,l,c,u=0,d=-1,h=0;for(-1===r&&(d=0,h=this.getNALuType(e,0),r=0,u=1);u<i;)if(o=e[u++],r)if(1!==r)if(o)if(1===o){if(l=u-r-1,d>=0){const t={data:e.subarray(d,l),type:h};a.push(t)}else{const n=this.getLastNalUnit(t.samples);n&&(s&&u<=4-s&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-s)),l>0&&(n.data=gt(n.data,e.subarray(0,l)),n.state=0))}u<i?(c=this.getNALuType(e,u),d=u,h=c,r=0):r=-1}else r=0;else r=3;else r=o?0:2;else r=o?0:1;if(d>=0&&r>=0){const t={data:e.subarray(d,i),type:h,state:r};a.push(t)}if(0===a.length){const n=this.getLastNalUnit(t.samples);n&&(n.data=gt(n.data,e))}return t.naluState=r,a}}class Sr{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let e=Math.min(this.bitsAvailable,t);const n=this.word>>>32-e;if(t>32&&A.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class Tr extends Er{parsePES(t,e,n,i){const r=this.parseNALu(t,n.data,i);let s,a=this.VideoSample,o=!1;n.data=null,a&&r.length&&!t.audFound&&(this.pushAccessUnit(a,t),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),r.forEach((i=>{var r,l;switch(i.type){case 1:{let e=!1;s=!0;const r=i.data;if(o&&r.length>4){const t=this.readSliceType(r);2!==t&&4!==t&&7!==t&&9!==t||(e=!0)}var c;if(e)null!=(c=a)&&c.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null);a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.frame=!0,a.key=e;break}case 5:s=!0,null!=(r=a)&&r.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 6:s=!0,_t(i.data,1,n.pts,e.samples);break;case 7:{var u,d;s=!0,o=!0;const e=i.data,n=this.readSPS(e);if(!t.sps||t.width!==n.width||t.height!==n.height||(null==(u=t.pixelRatio)?void 0:u[0])!==n.pixelRatio[0]||(null==(d=t.pixelRatio)?void 0:d[1])!==n.pixelRatio[1]){t.width=n.width,t.height=n.height,t.pixelRatio=n.pixelRatio,t.sps=[e];const i=e.subarray(1,4);let r="avc1.";for(let t=0;t<3;t++){let e=i[t].toString(16);e.length<2&&(e="0"+e),r+=e}t.codec=r}break}case 8:s=!0,t.pps=[i.data];break;case 9:s=!0,t.audFound=!0,null!=(l=a)&&l.frame&&(this.pushAccessUnit(a,t),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:s=!0;break;default:s=!1}if(a&&s){a.units.push(i)}})),i&&a&&(this.pushAccessUnit(a,t),this.VideoSample=null)}getNALuType(t,e){return 31&t[e]}readSliceType(t){const e=new Sr(t);return e.readUByte(),e.readUEG(),e.readUEG()}skipScalingList(t,e){let n,i=8,r=8;for(let s=0;s<t;s++)0!==r&&(n=e.readEG(),r=(i+n+256)%256),i=0===r?i:r}readSPS(t){const e=new Sr(t);let n,i,r,s=0,a=0,o=0,l=0;const c=e.readUByte.bind(e),u=e.readBits.bind(e),d=e.readUEG.bind(e),h=e.readBoolean.bind(e),f=e.skipBits.bind(e),p=e.skipEG.bind(e),m=e.skipUEG.bind(e),g=this.skipScalingList.bind(this);c();const v=c();if(u(5),f(3),c(),m(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){const t=d();if(3===t&&f(1),m(),m(),f(1),h())for(i=3!==t?8:12,r=0;r<i;r++)h()&&g(r<6?16:64,e)}m();const y=d();if(0===y)d();else if(1===y)for(f(1),p(),p(),n=d(),r=0;r<n;r++)p();m(),f(1);const b=d(),_=d(),E=u(1);0===E&&f(1),f(1),h()&&(s=d(),a=d(),o=d(),l=d());let S=[1,1];if(h()&&h()){switch(c()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[c()<<8|c(),c()<<8|c()]}}return{width:Math.ceil(16*(b+1)-2*s-2*a),height:(2-E)*(_+1)*16-(E?2:4)*(o+l),pixelRatio:S}}}class wr extends Er{constructor(...t){super(...t),this.initVPS=null}parsePES(t,e,n,i){const r=this.parseNALu(t,n.data,i);let s,a=this.VideoSample,o=!1;n.data=null,a&&r.length&&!t.audFound&&(this.pushAccessUnit(a,t),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),r.forEach((i=>{var r,l;switch(i.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.frame=!0,s=!0;break;case 16:case 17:case 18:case 21:var c;if(s=!0,o)null!=(c=a)&&c.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null);a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:s=!0,null!=(r=a)&&r.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 39:s=!0,_t(i.data,2,n.pts,e.samples);break;case 32:s=!0,t.vps||("object"!=typeof t.params&&(t.params={}),t.params=b(t.params,this.readVPS(i.data)),this.initVPS=i.data),t.vps=[i.data];break;case 33:if(s=!0,o=!0,void 0===t.vps||t.vps[0]===this.initVPS||void 0===t.sps||this.matchSPS(t.sps[0],i.data)||(this.initVPS=t.vps[0],t.sps=t.pps=void 0),!t.sps){const e=this.readSPS(i.data);t.width=e.width,t.height=e.height,t.pixelRatio=e.pixelRatio,t.codec=e.codecString,t.sps=[],"object"!=typeof t.params&&(t.params={});for(const n in e.params)t.params[n]=e.params[n]}this.pushParameterSet(t.sps,i.data,t.vps),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0;break;case 34:if(s=!0,"object"==typeof t.params){if(!t.pps){t.pps=[];const e=this.readPPS(i.data);for(const n in e)t.params[n]=e[n]}this.pushParameterSet(t.pps,i.data,t.vps)}break;case 35:s=!0,t.audFound=!0,null!=(l=a)&&l.frame&&(this.pushAccessUnit(a,t),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:s=!1}if(a&&s){a.units.push(i)}})),i&&a&&(this.pushAccessUnit(a,t),this.VideoSample=null)}pushParameterSet(t,e,n){(n&&n[0]===this.initVPS||!n&&!t.length)&&t.push(e)}getNALuType(t,e){return(126&t[e])>>>1}ebsp2rbsp(t){const e=new Uint8Array(t.byteLength);let n=0;for(let i=0;i<t.byteLength;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(e[n]=t[i],n++);return new Uint8Array(e.buffer,0,n)}pushAccessUnit(t,e){super.pushAccessUnit(t,e),this.initVPS&&(this.initVPS=null)}readVPS(t){const e=new Sr(t);e.readUByte(),e.readUByte(),e.readBits(4),e.skipBits(2),e.readBits(6);return{numTemporalLayers:e.readBits(3)+1,temporalIdNested:e.readBoolean()}}readSPS(t){const e=new Sr(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.readBits(4);const n=e.readBits(3);e.readBoolean();const i=e.readBits(2),r=e.readBoolean(),s=e.readBits(5),a=e.readUByte(),o=e.readUByte(),l=e.readUByte(),c=e.readUByte(),u=e.readUByte(),d=e.readUByte(),h=e.readUByte(),f=e.readUByte(),p=e.readUByte(),m=e.readUByte(),g=e.readUByte(),v=[],y=[];for(let t=0;t<n;t++)v.push(e.readBoolean()),y.push(e.readBoolean());if(n>0)for(let t=n;t<8;t++)e.readBits(2);for(let t=0;t<n;t++)v[t]&&(e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte()),y[t]&&e.readUByte();e.readUEG();const b=e.readUEG();3==b&&e.skipBits(1);const _=e.readUEG(),E=e.readUEG(),S=e.readBoolean();let T=0,w=0,k=0,C=0;S&&(T+=e.readUEG(),w+=e.readUEG(),k+=e.readUEG(),C+=e.readUEG());const x=e.readUEG(),A=e.readUEG(),I=e.readUEG();for(let t=e.readBoolean()?0:n;t<=n;t++)e.skipUEG(),e.skipUEG(),e.skipUEG();e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG();if(e.readBoolean()){if(e.readBoolean())for(let t=0;t<4;t++)for(let n=0;n<(3===t?2:6);n++){if(e.readBoolean()){const n=Math.min(64,1<<4+(t<<1));t>1&&e.readEG();for(let t=0;t<n;t++)e.readEG()}else e.readUEG()}}e.readBoolean(),e.readBoolean();e.readBoolean()&&(e.readUByte(),e.skipUEG(),e.skipUEG(),e.readBoolean());const D=e.readUEG();let L=0;for(let t=0;t<D;t++){let n=!1;if(0!==t&&(n=e.readBoolean()),n){t===D&&e.readUEG(),e.readBoolean(),e.readUEG();let n=0;for(let t=0;t<=L;t++){const t=e.readBoolean();let i=!1;t||(i=e.readBoolean()),(t||i)&&n++}L=n}else{const t=e.readUEG(),n=e.readUEG();L=t+n;for(let n=0;n<t;n++)e.readUEG(),e.readBoolean();for(let t=0;t<n;t++)e.readUEG(),e.readBoolean()}}if(e.readBoolean()){const t=e.readUEG();for(let n=0;n<t;n++){for(let t=0;t<I+4;t++)e.readBits(1);e.readBits(1)}}let P=0,O=1,R=1,M=!0,N=1,F=0;e.readBoolean(),e.readBoolean();let $=!1;if(e.readBoolean()){if(e.readBoolean()){const t=e.readUByte();t>0&&t<16?(O=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][t-1],R=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][t-1]):255===t&&(O=e.readBits(16),R=e.readBits(16))}e.readBoolean()&&e.readBoolean();if(e.readBoolean()){e.readBits(3),e.readBoolean();e.readBoolean()&&(e.readUByte(),e.readUByte(),e.readUByte())}e.readBoolean()&&(e.readUEG(),e.readUEG()),e.readBoolean(),e.readBoolean(),e.readBoolean(),$=e.readBoolean(),$&&(e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG());if(e.readBoolean()){N=e.readBits(32),F=e.readBits(32);e.readBoolean()&&e.readUEG();if(e.readBoolean()){const t=e.readBoolean(),i=e.readBoolean();let r=!1;(t||i)&&(r=e.readBoolean(),r&&(e.readUByte(),e.readBits(5),e.readBoolean(),e.readBits(5)),e.readBits(4),e.readBits(4),r&&e.readBits(4),e.readBits(5),e.readBits(5),e.readBits(5));for(let s=0;s<=n;s++){M=e.readBoolean();let n=!1;M||e.readBoolean()?e.readEG():n=e.readBoolean();const s=n?1:e.readUEG()+1;if(t)for(let t=0;t<s;t++)e.readUEG(),e.readUEG(),r&&(e.readUEG(),e.readUEG()),e.skipBits(1);if(i)for(let t=0;t<s;t++)e.readUEG(),e.readUEG(),r&&(e.readUEG(),e.readUEG()),e.skipBits(1)}}}e.readBoolean()&&(e.readBoolean(),e.readBoolean(),e.readBoolean(),P=e.readUEG())}let j=_,B=E;if(S){let t=1,e=1;1===b?t=e=2:2==b&&(t=2),j=_-t*w-t*T,B=E-e*C-e*k}const U=i?["A","B","C"][i]:"",H=a<<24|o<<16|l<<8|c;let G=0;for(let t=0;t<32;t++)G=(G|(H>>t&1)<<31-t)>>>0;let q=G.toString(16);1===s&&"2"===q&&(q="6");return{codecString:`hvc1.${U}${s}.${q}.${r?"H":"L"}${g}.B0`,params:{general_tier_flag:r,general_profile_idc:s,general_profile_space:i,general_profile_compatibility_flags:[a,o,l,c],general_constraint_indicator_flags:[u,d,h,f,p,m],general_level_idc:g,bit_depth:x+8,bit_depth_luma_minus8:x,bit_depth_chroma_minus8:A,min_spatial_segmentation_idc:P,chroma_format_idc:b,frame_rate:{fixed:M,fps:F/N}},width:j,height:B,pixelRatio:[O,R]}}readPPS(t){const e=new Sr(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.skipUEG(),e.skipUEG(),e.skipBits(2),e.skipBits(3),e.skipBits(2),e.skipUEG(),e.skipUEG(),e.skipEG(),e.skipBits(2);e.readBoolean()&&e.skipUEG(),e.skipEG(),e.skipEG(),e.skipBits(4);const n=e.readBoolean(),i=e.readBoolean();let r=1;return i&&n?r=0:i?r=3:n&&(r=2),{parallelismType:r}}matchSPS(t,e){return String.fromCharCode.apply(null,t).substr(3)===String.fromCharCode.apply(null,e).substr(3)}}const kr=188;class Cr{constructor(t,e,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(t,e){const n=Cr.syncOffset(t);return n>0&&e.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),-1!==n}static syncOffset(t){const e=t.length;let n=Math.min(940,e-kr)+1,i=0;for(;i<n;){let r=!1,s=-1,a=0;for(let o=i;o<e;o+=kr){if(71!==t[o]||e-o!==kr&&71!==t[o+kr]){if(a)return-1;break}if(a++,-1===s&&(s=o,0!==s&&(n=Math.min(s+18612,t.length-kr)+1)),r||(r=0===xr(t,o)),r&&a>1&&(0===s&&a>2||o+kr>n))return s}i++}return-1}static createTrack(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:tt[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Cr.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=Cr.createTrack("audio",i),this._id3Track=Cr.createTrack("id3"),this._txtTrack=Cr.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:e,_id3Track:n}=this;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,e,n=!1,i=!1){let r;n||(this.sampleAes=null);const s=this._videoTrack,a=this._audioTrack,o=this._id3Track,l=this._txtTrack;let c=s.pid,u=s.pesData,d=a.pid,h=o.pid,f=a.pesData,p=o.pesData,m=null,g=this.pmtParsed,v=this._pmtId,y=t.length;if(this.remainderData&&(y=(t=gt(this.remainderData,t)).length,this.remainderData=null),y<kr&&!i)return this.remainderData=t,{audioTrack:a,videoTrack:s,id3Track:o,textTrack:l};const b=Math.max(0,Cr.syncOffset(t));y-=(y-b)%kr,y<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,y,t.buffer.byteLength-y));let _=0;for(let e=b;e<y;e+=kr)if(71===t[e]){const i=!!(64&t[e+1]),y=xr(t,e);let _;if((48&t[e+3])>>4>1){if(_=e+5+t[e+4],_===e+kr)continue}else _=e+4;switch(y){case c:i&&(u&&(r=Pr(u,this.logger))&&(this.readyVideoParser(s.segmentCodec),null!==this.videoParser&&this.videoParser.parsePES(s,l,r,!1)),u={data:[],size:0}),u&&(u.data.push(t.subarray(_,e+kr)),u.size+=e+kr-_);break;case d:if(i){if(f&&(r=Pr(f,this.logger)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,r);break;case"mp3":this.parseMPEGPES(a,r);break;case"ac3":this.parseAC3PES(a,r)}f={data:[],size:0}}f&&(f.data.push(t.subarray(_,e+kr)),f.size+=e+kr-_);break;case h:i&&(p&&(r=Pr(p,this.logger))&&this.parseID3PES(o,r),p={data:[],size:0}),p&&(p.data.push(t.subarray(_,e+kr)),p.size+=e+kr-_);break;case 0:i&&(_+=t[_]+1),v=this._pmtId=Ar(t,_);break;case v:{i&&(_+=t[_]+1);const r=Ir(t,_,this.typeSupported,n,this.observer,this.logger);c=r.videoPid,c>0&&(s.pid=c,s.segmentCodec=r.segmentVideoCodec),d=r.audioPid,d>0&&(a.pid=d,a.segmentCodec=r.segmentAudioCodec),h=r.id3Pid,h>0&&(o.pid=h),null===m||g||(this.logger.warn(`MPEG-TS PMT found at ${e} after unknown PID '${m}'. Backtracking to sync byte @${b} to parse all TS packets.`),m=null,e=b-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:m=y}}else _++;_>0&&Dr(this.observer,new Error(`Found ${_} TS packet/s that do not start with 0x47`),void 0,this.logger),s.pesData=u,a.pesData=f,o.pesData=p;const E={audioTrack:a,videoTrack:s,id3Track:o,textTrack:l};return i&&this.extractRemainingSamples(E),E}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:n,id3Track:i,textTrack:r}=t,s=n.pesData,a=e.pesData,o=i.pesData;let l;if(s&&(l=Pr(s,this.logger))?(this.readyVideoParser(n.segmentCodec),null!==this.videoParser&&(this.videoParser.parsePES(n,r,l,!0),n.pesData=null)):n.pesData=s,a&&(l=Pr(a,this.logger))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,l);break;case"mp3":this.parseMPEGPES(e,l);break;case"ac3":this.parseAC3PES(e,l)}e.pesData=null}else null!=a&&a.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=a;o&&(l=Pr(o,this.logger))?(this.parseID3PES(i,l),i.pesData=null):i.pesData=o}demuxSampleAes(t,e,n){const i=this.demux(t,n,!0,!this.config.progressive),r=this.sampleAes=new _r(this.observer,this.config,e);return this.decrypt(i,r)}readyVideoParser(t){null===this.videoParser&&("avc"===t?this.videoParser=new Tr:"hevc"===t&&(this.videoParser=new wr))}decrypt(t,e){return new Promise((n=>{const{audioTrack:i,videoTrack:r}=t;i.samples&&"aac"===i.segmentCodec?e.decryptAacSamples(i.samples,0,(()=>{r.samples?e.decryptAvcSamples(r.samples,0,0,(()=>{n(t)})):n(t)})):r.samples&&e.decryptAvcSamples(r.samples,0,0,(()=>{n(t)}))}))}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(t,e){let n=0;const i=this.aacOverFlow;let r,s,a,o=e.data;if(i){this.aacOverFlow=null;const e=i.missing,r=i.sample.unit.byteLength;if(-1===e)o=gt(i.sample.unit,o);else{const s=r-e;i.sample.unit.set(o.subarray(0,e),s),t.samples.push(i.sample),n=i.missing}}for(r=n,s=o.length;r<s-1&&!ji(o,r);r++);if(r!==n){let t;const e=r<s-1;if(t=e?`AAC PES did not start with ADTS header,offset:${r}`:"No ADTS header found in AAC PES",Dr(this.observer,new Error(t),e,this.logger),!e)return}if(Ui(t,this.observer,o,r,this.audioCodec),void 0!==e.pts)a=e.pts;else{if(!i)return void this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=Hi(t.samplerate);a=i.sample.pts+e}}let l,c=0;for(;r<s;){if(l=Gi(t,o,r,a,c),r+=l.length,l.missing){this.aacOverFlow=l;break}for(c++;r<s-1&&!ji(o,r);r++);}}parseMPEGPES(t,e){const n=e.data,i=n.length;let r=0,s=0;const a=e.pts;if(void 0!==a)for(;s<i;)if(fr(n,s)){const e=ur(t,n,s,a,r);if(!e)break;s+=e.length,r++}else s++;else this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(t,e){{const n=e.data,i=e.pts;if(void 0===i)return void this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");const r=n.length;let s,a=0,o=0;for(;o<r&&(s=vr(t,n,o,i,a++))>0;)o+=s}}parseID3PES(t,e){if(void 0===e.pts)return void this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=b({},e,{type:this._videoTrack?er.emsg:er.audioId3,duration:Number.POSITIVE_INFINITY});t.samples.push(n)}}function xr(t,e){return((31&t[e+1])<<8)+t[e+2]}function Ar(t,e){return(31&t[e+10])<<8|t[e+11]}function Ir(t,e,n,i,r,s){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){const o=xr(t,e),l=(15&t[e+3])<<8|t[e+4];switch(t[e]){case 207:if(!i){Lr("ADTS AAC",s);break}case 15:-1===a.audioPid&&(a.audioPid=o);break;case 21:-1===a.id3Pid&&(a.id3Pid=o);break;case 219:if(!i){Lr("H.264",s);break}case 27:-1===a.videoPid&&(a.videoPid=o);break;case 3:case 4:n.mpeg||n.mp3?-1===a.audioPid&&(a.audioPid=o,a.segmentAudioCodec="mp3"):s.log("MPEG audio found, not supported in this browser");break;case 193:if(!i){Lr("AC-3",s);break}case 129:n.ac3?-1===a.audioPid&&(a.audioPid=o,a.segmentAudioCodec="ac3"):s.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===a.audioPid&&l>0){let i=e+5,r=l;for(;r>2;){if(106===t[i])!0!==n.ac3?s.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=o,a.segmentAudioCodec="ac3");const e=t[i+1]+2;i+=e,r-=e}}break;case 194:case 135:return Dr(r,new Error("Unsupported EC-3 in M2TS found"),void 0,s),a;case 36:-1===a.videoPid&&(a.videoPid=o,a.segmentVideoCodec="hevc",s.log("HEVC in M2TS found"))}e+=l+5}return a}function Dr(t,e,n,i){i.warn(`parsing error: ${e.message}`),t.emit(l.ERROR,l.ERROR,{type:a.MEDIA_ERROR,details:o.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function Lr(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Pr(t,e){let n,i,r,s,a,o=0;const l=t.data;if(!t||0===t.size)return null;for(;l[0].length<19&&l.length>1;)l[0]=gt(l[0],l[1]),l.splice(1,1);n=l[0];if(1===(n[0]<<16)+(n[1]<<8)+n[2]){if(i=(n[4]<<8)+n[5],i&&i>t.size-6)return null;const c=n[7];192&c&&(s=536870912*(14&n[9])+4194304*(255&n[10])+16384*(254&n[11])+128*(255&n[12])+(254&n[13])/2,64&c?(a=536870912*(14&n[14])+4194304*(255&n[15])+16384*(254&n[16])+128*(255&n[17])+(254&n[18])/2,s-a>54e5&&(e.warn(`${Math.round((s-a)/9e4)}s delta between PTS and DTS, align them`),s=a)):a=s),r=n[8];let u=r+9;if(t.size<=u)return null;t.size-=u;const d=new Uint8Array(t.size);for(let t=0,e=l.length;t<e;t++){n=l[t];let e=n.byteLength;if(u){if(u>e){u-=e;continue}n=n.subarray(u),e-=u,u=0}d.set(n,o),o+=e}return i&&(i-=r+3),{data:d,pts:s,dts:a,len:i}}return null}class Or{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Rr=Math.pow(2,32)-1;class Mr{static init(){let t;for(t in Mr.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},Mr.types)Mr.types.hasOwnProperty(t)&&(Mr.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Mr.HDLR_TYPES={video:e,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);Mr.STTS=Mr.STSC=Mr.STCO=r,Mr.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Mr.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Mr.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Mr.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),o=new Uint8Array([0,0,0,1]);Mr.FTYP=Mr.box(Mr.types.ftyp,s,o,s,a),Mr.DINF=Mr.box(Mr.types.dinf,Mr.box(Mr.types.dref,i))}static box(t,...e){let n=8,i=e.length;const r=i;for(;i--;)n+=e[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=255&n,s.set(t,4),i=0,n=8;i<r;i++)s.set(e[i],n),n+=e[i].byteLength;return s}static hdlr(t){return Mr.box(Mr.types.hdlr,Mr.HDLR_TYPES[t])}static mdat(t){return Mr.box(Mr.types.mdat,t)}static mdhd(t,e){e*=t;const n=Math.floor(e/(Rr+1)),i=Math.floor(e%(Rr+1));return Mr.box(Mr.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}static mdia(t){return Mr.box(Mr.types.mdia,Mr.mdhd(t.timescale||0,t.duration||0),Mr.hdlr(t.type),Mr.minf(t))}static mfhd(t){return Mr.box(Mr.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return"audio"===t.type?Mr.box(Mr.types.minf,Mr.box(Mr.types.smhd,Mr.SMHD),Mr.DINF,Mr.stbl(t)):Mr.box(Mr.types.minf,Mr.box(Mr.types.vmhd,Mr.VMHD),Mr.DINF,Mr.stbl(t))}static moof(t,e,n){return Mr.box(Mr.types.moof,Mr.mfhd(t),Mr.traf(n,e))}static moov(t){let e=t.length;const n=[];for(;e--;)n[e]=Mr.trak(t[e]);return Mr.box.apply(null,[Mr.types.moov,Mr.mvhd(t[0].timescale||0,t[0].duration||0)].concat(n).concat(Mr.mvex(t)))}static mvex(t){let e=t.length;const n=[];for(;e--;)n[e]=Mr.trex(t[e]);return Mr.box.apply(null,[Mr.types.mvex,...n])}static mvhd(t,e){e*=t;const n=Math.floor(e/(Rr+1)),i=Math.floor(e%(Rr+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Mr.box(Mr.types.mvhd,r)}static sdtp(t){const e=t.samples||[],n=new Uint8Array(4+e.length);let i,r;for(i=0;i<e.length;i++)r=e[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return Mr.box(Mr.types.sdtp,n)}static stbl(t){return Mr.box(Mr.types.stbl,Mr.stsd(t),Mr.box(Mr.types.stts,Mr.STTS),Mr.box(Mr.types.stsc,Mr.STSC),Mr.box(Mr.types.stsz,Mr.STSZ),Mr.box(Mr.types.stco,Mr.STCO))}static avc1(t){let e,n,i,r=[],s=[];for(e=0;e<t.sps.length;e++)n=t.sps[e],i=n.byteLength,r.push(i>>>8&255),r.push(255&i),r=r.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)n=t.pps[e],i=n.byteLength,s.push(i>>>8&255),s.push(255&i),s=s.concat(Array.prototype.slice.call(n));const a=Mr.box(Mr.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|t.sps.length].concat(r).concat([t.pps.length]).concat(s))),o=t.width,l=t.height,c=t.pixelRatio[0],u=t.pixelRatio[1];return Mr.box(Mr.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o>>8&255,255&o,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,Mr.box(Mr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Mr.box(Mr.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))}static esds(t){const e=t.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...e,6,1,2])}static audioStsd(t){const e=t.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount||0,0,16,0,0,0,0,e>>8&255,255&e,0,0])}static mp4a(t){return Mr.box(Mr.types.mp4a,Mr.audioStsd(t),Mr.box(Mr.types.esds,Mr.esds(t)))}static mp3(t){return Mr.box(Mr.types[".mp3"],Mr.audioStsd(t))}static ac3(t){return Mr.box(Mr.types["ac-3"],Mr.audioStsd(t),Mr.box(Mr.types.dac3,t.config))}static stsd(t){const{segmentCodec:e}=t;if("audio"===t.type){if("aac"===e)return Mr.box(Mr.types.stsd,Mr.STSD,Mr.mp4a(t));if("ac3"===e&&t.config)return Mr.box(Mr.types.stsd,Mr.STSD,Mr.ac3(t));if("mp3"===e&&"mp3"===t.codec)return Mr.box(Mr.types.stsd,Mr.STSD,Mr.mp3(t))}else{if(!t.pps||!t.sps)throw new Error("video track missing pps or sps");if("avc"===e)return Mr.box(Mr.types.stsd,Mr.STSD,Mr.avc1(t));if("hevc"===e&&t.vps)return Mr.box(Mr.types.stsd,Mr.STSD,Mr.hvc1(t))}throw new Error(`unsupported ${t.type} segment codec (${e}/${t.codec})`)}static tkhd(t){const e=t.id,n=(t.duration||0)*(t.timescale||0),i=t.width||0,r=t.height||0,s=Math.floor(n/(Rr+1)),a=Math.floor(n%(Rr+1));return Mr.box(Mr.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,r>>8&255,255&r,0,0]))}static traf(t,e){const n=Mr.sdtp(t),i=t.id,r=Math.floor(e/(Rr+1)),s=Math.floor(e%(Rr+1));return Mr.box(Mr.types.traf,Mr.box(Mr.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),Mr.box(Mr.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,s>>24,s>>16&255,s>>8&255,255&s])),Mr.trun(t,n.length+16+20+8+16+8+8),n)}static trak(t){return t.duration=t.duration||4294967295,Mr.box(Mr.types.trak,Mr.tkhd(t),Mr.mdia(t))}static trex(t){const e=t.id;return Mr.box(Mr.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const n=t.samples||[],i=n.length,r=12+16*i,s=new Uint8Array(r);let a,o,l,c,u,d;for(e+=8+r,s.set(["video"===t.type?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),a=0;a<i;a++)o=n[a],l=o.duration,c=o.size,u=o.flags,d=o.cts,s.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*a);return Mr.box(Mr.types.trun,s)}static initSegment(t){Mr.types||Mr.init();const e=Mr.moov(t);return gt(Mr.FTYP,e)}static hvc1(t){const e=t.params,n=[t.vps,t.sps,t.pps],i=new Uint8Array([1,e.general_profile_space<<6|(e.general_tier_flag?32:0)|e.general_profile_idc,e.general_profile_compatibility_flags[0],e.general_profile_compatibility_flags[1],e.general_profile_compatibility_flags[2],e.general_profile_compatibility_flags[3],e.general_constraint_indicator_flags[0],e.general_constraint_indicator_flags[1],e.general_constraint_indicator_flags[2],e.general_constraint_indicator_flags[3],e.general_constraint_indicator_flags[4],e.general_constraint_indicator_flags[5],e.general_level_idc,240|e.min_spatial_segmentation_idc>>8,255&e.min_spatial_segmentation_idc,252|e.parallelismType,252|e.chroma_format_idc,248|e.bit_depth_luma_minus8,248|e.bit_depth_chroma_minus8,0,parseInt(e.frame_rate.fps),3|e.temporal_id_nested<<2|e.num_temporal_layers<<3|(e.frame_rate.fixed?64:0),n.length]);let r=i.length;for(let t=0;t<n.length;t+=1){r+=3;for(let e=0;e<n[t].length;e+=1)r+=2+n[t][e].length}const s=new Uint8Array(r);s.set(i,0),r=i.length;const a=n.length-1;for(let t=0;t<n.length;t+=1){s.set(new Uint8Array([32+t|(t===a?128:0),0,n[t].length]),r),r+=3;for(let e=0;e<n[t].length;e+=1)s.set(new Uint8Array([n[t][e].length>>8,255&n[t][e].length]),r),r+=2,s.set(n[t][e],r),r+=n[t][e].length}const o=Mr.box(Mr.types.hvcC,s),l=t.width,c=t.height,u=t.pixelRatio[0],d=t.pixelRatio[1];return Mr.box(Mr.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,Mr.box(Mr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Mr.box(Mr.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))}}Mr.types=void 0,Mr.HDLR_TYPES=void 0,Mr.STTS=void 0,Mr.STSC=void 0,Mr.STCO=void 0,Mr.STSZ=void 0,Mr.VMHD=void 0,Mr.SMHD=void 0,Mr.STSD=void 0,Mr.FTYP=void 0,Mr.DINF=void 0;const Nr=9e4;function Fr(t,e,n=1,i=!1){const r=t*e*n;return i?Math.round(r):r}function $r(t,e=!1){return Fr(t,1e3,1/Nr,e)}function jr(t){const{baseTime:e,timescale:n,trackId:i}=t;return`${e/n} (${e}/${n}) trackId: ${i}`}let Br,Ur=null,Hr=null;function Gr(t,e,n,i){return{duration:e,size:n,cts:i,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class qr extends S{constructor(t,e,n,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===Ur){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ur=t?parseInt(t[1]):0}if(null===Hr){const t=navigator.userAgent.match(/Safari\/(\d+)/i);Hr=t?parseInt(t[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){const e=this._initPTS;e&&t&&t.trackId===e.trackId&&t.baseTime===e.baseTime&&t.timescale===e.timescale||this.log(`Reset initPTS: ${e?jr(e):e} > ${t?jr(t):t}`),this._initPTS=this._initDTS=t}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let e=!1;const n=t[0].pts,i=t.reduce(((t,i)=>{let r=i.pts,s=r-t;return s<-4294967296&&(e=!0,r=Wr(r,n),s=r-t),s>0?t:r}),n);return e&&this.debug("PTS rollover detected"),i}remux(t,e,n,i,r,s,a,o){let l,c,u,d,h,f,m=r,g=r;const v=t.pid>-1,y=e.pid>-1,b=e.samples.length,_=t.samples.length>0,E=a&&b>0||b>1;if((!v||_)&&(!y||E)||this.ISGenerated||a){if(this.ISGenerated){var S,T,w,k;const t=this.videoTrackConfig;(t&&(e.width!==t.width||e.height!==t.height||(null==(S=e.pixelRatio)?void 0:S[0])!==(null==(T=t.pixelRatio)?void 0:T[0])||(null==(w=e.pixelRatio)?void 0:w[1])!==(null==(k=t.pixelRatio)?void 0:k[1]))||!t&&E||null===this.nextAudioTs&&_)&&this.resetInitSegment()}this.ISGenerated||(u=this.generateIS(t,e,r,s));const n=this.isVideoContiguous;let i,a=-1;if(E&&(a=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,a>0){this.warn(`Dropped ${a} out of ${b} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(a),e.dropped+=a,g+=(e.samples[0].pts-t)/e.inputTimeScale,i=g}else-1===a&&(this.warn(`No keyframe found out of ${b} video samples`),f=!1);if(this.ISGenerated){if(_&&E){const n=this.getVideoStartPts(e.samples),i=(Wr(t.samples[0].pts,n)-n)/e.inputTimeScale;m+=Math.max(0,i),g+=Math.max(0,-i)}if(_){if(t.samplerate||(this.warn("regenerate InitSegment as audio detected"),u=this.generateIS(t,e,r,s)),c=this.remuxAudio(t,m,this.isAudioContiguous,s,y||E||o===p?g:void 0),E){const i=c?c.endPTS-c.startPTS:0;e.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),u=this.generateIS(t,e,r,s)),l=this.remuxVideo(e,g,n,i)}}else E&&(l=this.remuxVideo(e,g,n,0));l&&(l.firstKeyFrame=a,l.independent=-1!==a,l.firstKeyFramePTS=i)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=Vr(n,r,this._initPTS,this._initDTS)),i.samples.length&&(d=Kr(i,r,this._initPTS))),{audio:c,video:l,initSegment:u,independent:f,text:d,id3:h}}computeInitPts(t,e,n,i){const r=Math.round(n*e);let s=Wr(t,r);if(s<r+e)for(this.log(`Adjusting PTS for rollover in timeline near ${(r-s)/e} ${i}`);s<r+e;)s+=8589934592;return s-r}generateIS(t,e,n,i){const r=t.samples,s=e.samples,a=this.typeSupported,o={},l=this._initPTS;let c,u,d,h=!l||i,f="audio/mp4",p=-1;if(h&&(c=u=1/0),t.config&&r.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":a.mpeg?(f="audio/mpeg",t.codec=""):a.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}o.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&a.mpeg?new Uint8Array(0):Mr.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(p=t.id,d=t.inputTimeScale,l&&d===l.timescale?h=!1:c=u=this.computeInitPts(r[0].pts,d,n,"audio"))}if(e.sps&&e.pps&&s.length){if(e.timescale=e.inputTimeScale,o.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:Mr.initSegment([e]),metadata:{width:e.width,height:e.height}},h)if(p=e.id,d=e.inputTimeScale,l&&d===l.timescale)h=!1;else{const t=this.getVideoStartPts(s),e=Wr(s[0].dts,t),i=this.computeInitPts(e,d,n,"video"),r=this.computeInitPts(t,d,n,"video");u=Math.min(u,i),c=Math.min(c,r)}this.videoTrackConfig={width:e.width,height:e.height,pixelRatio:e.pixelRatio}}if(Object.keys(o).length)return this.ISGenerated=!0,h?(l&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${n} ${c/d} != initPTS: ${l.baseTime/l.timescale} (${l.baseTime}/${l.timescale}) trackId: ${l.trackId}`),this.log(`Found initPTS at playlist time: ${n} offset: ${c/d} (${c}/${d}) trackId: ${p}`),this._initPTS={baseTime:c,timescale:d,trackId:p},this._initDTS={baseTime:u,timescale:d,trackId:p}):c=d=void 0,{tracks:o,initPTS:c,timescale:d,trackId:p}}remuxVideo(t,e,n,i){const r=t.inputTimeScale,s=t.samples,c=[],u=s.length,d=this._initPTS,h=d.baseTime*r/d.timescale;let f,p,m=this.nextVideoTs,g=8,v=this.videoSampleDuration,y=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY,E=!1;if(!n||null===m){const t=h+e*r,i=s[0].pts-Wr(s[0].dts,s[0].pts);Ur&&null!==m&&Math.abs(t-i-(m+h))<15e3?n=!0:m=t-i-h}const S=m+h;for(let t=0;t<u;t++){const e=s[t];e.pts=Wr(e.pts,S),e.dts=Wr(e.dts,S),e.dts<s[t>0?t-1:t].dts&&(E=!0)}E&&s.sort((function(t,e){const n=t.dts-e.dts,i=t.pts-e.pts;return n||i})),f=s[0].dts,p=s[s.length-1].dts;const T=p-f,w=T?Math.round(T/(u-1)):v||t.inputTimeScale/30;if(n){const n=f-S,i=n>w,r=n<-1;if((i||r)&&(i?this.warn(`${(t.segmentCodec||"").toUpperCase()}: ${$r(n,!0)} ms (${n}dts) hole between fragments detected at ${e.toFixed(3)}`):this.warn(`${(t.segmentCodec||"").toUpperCase()}: ${$r(-n,!0)} ms (${n}dts) overlapping between fragments detected at ${e.toFixed(3)}`),!r||S>=s[0].pts||Ur)){f=S;const t=s[0].pts-n;if(i)s[0].dts=f,s[0].pts=t;else{let e=!0;for(let i=0;i<s.length&&!(s[i].dts>t&&e);i++){const t=s[i].pts;if(s[i].dts-=n,s[i].pts-=n,i<s.length-1){const n=s[i+1].pts;e=n<=s[i].pts==n<=t}}}this.log(`Video: Initial PTS/DTS adjusted: ${$r(t,!0)}/${$r(f,!0)}, delta: ${$r(n,!0)} ms`)}}f=Math.max(0,f);let k=0,C=0,x=f;for(let t=0;t<u;t++){const e=s[t],n=e.units,i=n.length;let r=0;for(let t=0;t<i;t++)r+=n[t].data.length;C+=r,k+=i,e.length=r,e.dts<x?(e.dts=x,x+=w/4|0||1):x=e.dts,y=Math.min(e.pts,y),_=Math.max(e.pts,_)}p=s[u-1].dts;const A=C+4*k+8;let I;try{I=new Uint8Array(A)}catch(t){return void this.observer.emit(l.ERROR,l.ERROR,{type:a.MUX_ERROR,details:o.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:A,reason:`fail allocating video mdat ${A}`})}const D=new DataView(I.buffer);D.setUint32(0,A),I.set(Mr.types.mdat,4);let L=!1,P=Number.POSITIVE_INFINITY,O=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,M=Number.NEGATIVE_INFINITY;for(let t=0;t<u;t++){const e=s[t],n=e.units;let a,o=0;for(let t=0,e=n.length;t<e;t++){const e=n[t],i=e.data,r=e.data.byteLength;D.setUint32(g,r),g+=4,I.set(i,g),g+=r,o+=4+r}if(t<u-1)v=s[t+1].dts-e.dts,a=s[t+1].pts-e.pts;else{const n=this.config,o=t>0?e.dts-s[t-1].dts:w;if(a=t>0?e.pts-s[t-1].pts:w,n.stretchShortVideoTrack&&null!==this.nextAudioTs){const t=Math.floor(n.maxBufferHole*r),s=(i?y+i*r:this.nextAudioTs+h)-e.pts;s>t?(v=s-o,v<0?v=o:L=!0,this.log(`It is approximately ${s/90} ms to the next segment; using duration ${v/90} ms for the last video frame.`)):v=o}else v=o}const l=Math.round(e.pts-e.dts);P=Math.min(P,v),R=Math.max(R,v),O=Math.min(O,a),M=Math.max(M,a),c.push(Gr(e.key,v,o,l))}if(c.length)if(Ur){if(Ur<70){const t=c[0].flags;t.dependsOn=2,t.isNonSync=0}}else if(Hr&&M-O<R-P&&w/R<.025&&0===c[0].cts){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=f;for(let e=0,n=c.length;e<n;e++){const i=t+c[e].duration,r=t+c[e].cts;if(e<n-1){const t=i+c[e+1].cts;c[e].duration=t-r}else c[e].duration=e?c[e-1].duration:w;c[e].cts=0,t=i}}v=L||!v?w:v;const N=p+v;this.nextVideoTs=m=N-h,this.videoSampleDuration=v,this.isVideoContiguous=!0;const F={data1:Mr.moof(t.sequenceNumber++,f,b(t,{samples:c})),data2:I,startPTS:(y-h)/r,endPTS:(_+v-h)/r,startDTS:(f-h)/r,endDTS:m/r,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:t.dropped};return t.samples=[],t.dropped=0,F}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(t,e,n,i,r){const s=t.inputTimeScale,c=s/(t.samplerate?t.samplerate:s),u=this.getSamplesPerFrame(t),d=u*c,h=this._initPTS,f="mp3"===t.segmentCodec&&this.typeSupported.mpeg,p=[],m=void 0!==r;let g=t.samples,v=f?0:8,y=this.nextAudioTs||-1;const _=h.baseTime*s/h.timescale,E=_+e*s;if(this.isAudioContiguous=n=n||g.length&&y>0&&(i&&Math.abs(E-(y+_))<9e3||Math.abs(Wr(g[0].pts,E)-(y+_))<20*d),g.forEach((function(t){t.pts=Wr(t.pts,E)})),!n||y<0){const t=g.length;if(g=g.filter((t=>t.pts>=0)),t!==g.length&&this.warn(`Removed ${g.length-t} of ${t} samples (initPTS ${_} / ${s})`),!g.length)return;y=0===r?0:i&&!m?Math.max(0,E-_):g[0].pts-_}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let n=0,i=y+_;n<g.length;n++){const r=g[n],a=r.pts,o=a-i,l=Math.abs(1e3*o/s);if(o<=-e*d&&m)0===n&&(this.warn(`Audio frame @ ${(a/s).toFixed(3)}s overlaps marker by ${Math.round(1e3*o/s)} ms.`),this.nextAudioTs=y=a-_,i=a);else if(o>=e*d&&l<1e4&&m){let e=Math.round(o/d);for(i=a-e*d;i<0&&e&&d;)e--,i+=d;0===n&&(this.nextAudioTs=y=i-_),this.warn(`Injecting ${e} audio frames @ ${((i-_)/s).toFixed(3)}s due to ${Math.round(1e3*o/s)} ms gap.`);for(let s=0;s<e;s++){let e=Or.getSilentFrame(t.parsedCodec||t.manifestCodec||t.codec,t.channelCount);e||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),e=r.unit.subarray()),g.splice(n,0,{unit:e,pts:i}),i+=d,n++}}r.pts=i,i+=d}}let S,T=null,w=null,k=0,C=g.length;for(;C--;)k+=g[C].unit.byteLength;for(let e=0,i=g.length;e<i;e++){const i=g[e],r=i.unit;let s=i.pts;if(null!==w){p[e-1].duration=Math.round((s-w)/c)}else{if(n&&"aac"===t.segmentCodec&&(s=y+_),T=s,!(k>0))return;k+=v;try{S=new Uint8Array(k)}catch(t){return void this.observer.emit(l.ERROR,l.ERROR,{type:a.MUX_ERROR,details:o.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:k,reason:`fail allocating audio mdat ${k}`})}if(!f){new DataView(S.buffer).setUint32(0,k),S.set(Mr.types.mdat,4)}}S.set(r,v);const d=r.byteLength;v+=d,p.push(Gr(!0,u,d,0)),w=s}const x=p.length;if(!x)return;const A=p[p.length-1];y=w-_,this.nextAudioTs=y+c*A.duration;const I=f?new Uint8Array(0):Mr.moof(t.sequenceNumber++,T/c,b({},t,{samples:p}));t.samples=[];const D=(T-_)/s,L=this.nextAudioTs/s,P={data1:I,data2:S,startPTS:D,endPTS:L,startDTS:D,endDTS:L,type:"audio",hasAudio:!0,hasVideo:!1,nb:x};return this.isAudioContiguous=!0,P}}function Wr(t,e){let n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function Vr(t,e,n,i){const r=t.samples.length;if(!r)return;const s=t.inputTimeScale;for(let a=0;a<r;a++){const r=t.samples[a];r.pts=Wr(r.pts-n.baseTime*s/n.timescale,e*s)/s,r.dts=Wr(r.dts-i.baseTime*s/i.timescale,e*s)/s}const a=t.samples;return t.samples=[],{samples:a}}function Kr(t,e,n){const i=t.samples.length;if(!i)return;const r=t.inputTimeScale;for(let s=0;s<i;s++){const i=t.samples[s];i.pts=Wr(i.pts-n.baseTime*r/n.timescale,e*r)/r}t.samples.sort(((t,e)=>t.pts-e.pts));const s=t.samples;return t.samples=[],{samples:s}}function zr(t,e,n=!1){return void 0!==(null==t?void 0:t.start)?(t.start+(n?t.duration:0))/t.timescale:e}function Yr(t,e,n){const i=t.codec;if(i&&i.length>4)return i;if(e===q){if("ec-3"===i||"ac-3"===i||"alac"===i)return i;if("fLaC"===i||"Opus"===i){return Rt(i,!1)}return n.warn(`Unhandled audio codec "${i}" in mp4 MAP`),i||"mp4a"}return n.warn(`Unhandled video codec "${i}" in mp4 MAP`),i||"avc1"}try{Br=self.performance.now.bind(self.performance)}catch(t){Br=Date.now}const Qr=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(t,e,n,i){const r=this.videoTrack=nr("video",1),s=this.audioTrack=nr("audio",1),a=this.txtTrack=nr("text",1);if(this.id3Track=nr("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const o=lt(t);if(o.video){const{id:t,timescale:e,codec:n,supplemental:i}=o.video;r.id=t,r.timescale=a.timescale=e,r.codec=n,r.supplemental=i}if(o.audio){const{id:t,timescale:e,codec:n}=o.audio;s.id=t,s.timescale=e,s.codec=n}a.id=tt.text,r.sampleDuration=0,r.duration=s.duration=i}resetContiguity(){this.remainderData=null}static probe(t){return function(t){const e=t.byteLength;for(let n=0;n<e;){const i=it(t,n);if(i>8&&109===t[n+4]&&111===t[n+5]&&111===t[n+6]&&102===t[n+7])return!0;n=i>1?n+i:e}return!1}(t)}demux(t,e){this.timeOffset=e;let n=t;const i=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=gt(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},n=at(t,["moof"]);if(n.length<2)return e.remainder=t,e;const i=n[n.length-1];return e.valid=t.slice(0,i.byteOffset-8),e.remainder=t.slice(i.byteOffset-8),e}(n);this.remainderData=e.remainder,i.samples=e.valid||new Uint8Array}else i.samples=n;const s=this.extractID3Track(i,e);return r.samples=vt(e,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(e,this.timeOffset);return n.samples=vt(t,e),{videoTrack:e,audioTrack:nr(),id3Track:i,textTrack:nr()}}extractID3Track(t,e){const n=this.id3Track;if(t.samples.length){const i=at(t.samples,["emsg"]);i&&i.forEach((t=>{const i=function(t){const e=t[0];let n="",i="",s=0,a=0,o=0,l=0,c=0,u=0;if(0===e){for(;"\0"!==et(t.subarray(u,u+1));)n+=et(t.subarray(u,u+1)),u+=1;for(n+=et(t.subarray(u,u+1)),u+=1;"\0"!==et(t.subarray(u,u+1));)i+=et(t.subarray(u,u+1)),u+=1;i+=et(t.subarray(u,u+1)),u+=1,s=it(t,12),a=it(t,16),l=it(t,20),c=it(t,24),u=28}else if(1===e){u+=4,s=it(t,u),u+=4;const e=it(t,u);u+=4;const a=it(t,u);for(u+=4,o=2**32*e+a,r(o)||(o=Number.MAX_SAFE_INTEGER,A.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),l=it(t,u),u+=4,c=it(t,u),u+=4;"\0"!==et(t.subarray(u,u+1));)n+=et(t.subarray(u,u+1)),u+=1;for(n+=et(t.subarray(u,u+1)),u+=1;"\0"!==et(t.subarray(u,u+1));)i+=et(t.subarray(u,u+1)),u+=1;i+=et(t.subarray(u,u+1)),u+=1}return{schemeIdUri:n,value:i,timeScale:s,presentationTime:o,presentationTimeDelta:a,eventDuration:l,id:c,payload:t.subarray(u,t.byteLength)}}(t);if(yr.test(i.schemeIdUri)){const t=br(i,e);let r=4294967295===i.eventDuration?Number.POSITIVE_INFINITY:i.eventDuration/i.timeScale;r<=.001&&(r=Number.POSITIVE_INFINITY);const s=i.payload;n.samples.push({data:s,len:s.byteLength,dts:t,pts:t,type:er.emsg,duration:r})}else if(this.config.enableEmsgKLVMetadata&&i.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const t=br(i,e);n.samples.push({data:i.payload,len:i.payload.byteLength,dts:t,pts:t,type:er.misbklv,duration:Number.POSITIVE_INFINITY})}}))}return n}demuxSampleAes(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}},remux:class extends S{constructor(t,e,n,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(t){this.lastEndTime=null;const e=this.initPTS;e&&t&&e.baseTime===t.baseTime&&e.timescale===t.timescale||(this.initPTS=t)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(t,e,n,i){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(t,i),this.emitInitSegment=!0}generateInitSegment(t,e){let{audioCodec:n,videoCodec:i}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const{audio:r,video:s}=this.initData=lt(t);if(e)!function(t,e){if(!t||!e)return;const n=e.keyId;n&&e.isCommonEncryption&&pt(t,((t,e)=>{const i=t.subarray(8,24);i.some((t=>0!==t))||(A.log(`[eme] Patching keyId in 'enc${e?"a":"v"}>sinf>>tenc' box: ${P(i)} -> ${P(n)}`),t.set(n,8))}))}(t,e);else{const t=r||s;null!=t&&t.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${t.codec}")!`)}r&&(n=Yr(r,q,this)),s&&(i=Yr(s,W,this));const a={};r&&s?a.audiovideo={container:"video/mp4",codec:n+","+i,supplemental:s.supplemental,encrypted:s.encrypted,initSegment:t,id:"main"}:r?a.audio={container:"audio/mp4",codec:n,encrypted:r.encrypted,initSegment:t,id:"audio"}:s?a.video={container:"video/mp4",codec:i,supplemental:s.supplemental,encrypted:s.encrypted,initSegment:t,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=a}remux(t,e,n,r,s,a){var o,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};i(u)||(u=this.lastEndTime=s||0);const h=e.samples;if(!h.length)return d;const f={initPTS:void 0,timescale:void 0,trackId:void 0};let p=this.initData;if(null!=(o=p)&&o.length||(this.generateInitSegment(h),p=this.initData),null==(l=p)||!l.length)return this.warn("Failed to generate initSegment."),d;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);const m=function(t,e,n){const r={},s=at(t,["moof","traf"]);for(let t=0;t<s.length;t++){const a=s[t],o=at(a,["tfhd"])[0],l=it(o,4),c=e[l];if(!c)continue;r[l]||(r[l]={start:NaN,duration:0,sampleCount:0,timescale:c.timescale,type:c.type});const u=r[l],d=at(a,["tfdt"])[0];if(d){const t=d[0];let e=it(d,4);1===t&&(e===Z?n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(e*=Z+1,e+=it(d,8))),i(e)&&(!i(u.start)||e<u.start)&&(u.start=e)}const h=c.default,f=it(o,0)|(null==h?void 0:h.flags);let p=(null==h?void 0:h.duration)||0;8&f&&(p=it(o,2&f?12:8));const m=at(a,["trun"]);let g=u.start||0,v=0,y=p;for(let t=0;t<m.length;t++){const e=m[t],n=it(e,4),i=u.sampleCount;u.sampleCount+=n;const r=1&e[3],s=4&e[3],a=1&e[2],o=2&e[2],l=4&e[2],c=8&e[2];let d=8,h=n;for(r&&(d+=4),s&&n&&(1&e[d+1]||void 0!==u.keyFrameIndex||(u.keyFrameIndex=i),d+=4,a?(y=it(e,d),d+=4):y=p,o&&(d+=4),c&&(d+=4),g+=y,v+=y,h--);h--;)a?(y=it(e,d),d+=4):y=p,o&&(d+=4),l&&(1&e[d+1]||void 0===u.keyFrameIndex&&(u.keyFrameIndex=u.sampleCount-(h+1),u.keyFrameStart=g),d+=4),c&&(d+=4),g+=y,v+=y;!v&&p&&(v+=p*n)}u.duration+=v}if(!Object.keys(r).some((t=>r[t].duration))){let e=1/0,n=0;const s=at(t,["sidx"]);for(let t=0;t<s.length;t++){const i=ot(s[t]);if(null!=i&&i.references){e=Math.min(e,i.earliestPresentationTime/i.timescale);const t=i.references.reduce(((t,e)=>t+e.info.duration||0),0);n=Math.max(n,t+i.earliestPresentationTime/i.timescale)}}n&&i(n)&&Object.keys(r).forEach((t=>{r[t].duration||(r[t].duration=n*r[t].timescale-r[t].start)}))}return r}(h,p,this),g=p.audio?m[p.audio.id]:null,v=p.video?m[p.video.id]:null,y=zr(v,1/0),b=zr(g,1/0),_=zr(v,0,!0),E=zr(g,0,!0);let S=s,T=0;const w=g&&(!v||!c&&b<y||c&&c.trackId===p.audio.id),k=w?g:v;if(k){const t=k.timescale,e=k.start-s*t,n=w?p.audio.id:p.video.id;S=k.start/t,T=w?E-b:_-y,!a&&c||!function(t,e,n,i){if(null===t)return!0;const r=Math.max(i,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>r}(c,S,s,T)&&t===c.timescale||(c&&this.warn(`Timestamps at playlist time: ${a?"":"~"}${s} ${e/t} != initPTS: ${c.baseTime/c.timescale} (${c.baseTime}/${c.timescale}) trackId: ${c.trackId}`),this.log(`Found initPTS at playlist time: ${s} offset: ${S-s} (${e}/${t}) trackId: ${n}`),c=null,f.initPTS=e,f.timescale=t,f.trackId=n)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${s}`);c?(f.initPTS=c.baseTime,f.timescale=c.timescale,f.trackId=c.trackId):(f.timescale&&void 0!==f.trackId&&void 0!==f.initPTS||(this.warn("Could not set initPTS"),f.initPTS=S,f.timescale=1,f.trackId=-1),this.initPTS=c={baseTime:f.initPTS,timescale:f.timescale,trackId:f.trackId});const C=S-c.baseTime/c.timescale,x=C+T;T>0?this.lastEndTime=x:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const A=!!p.audio,I=!!p.video;let D="";A&&(D+="audio"),I&&(D+="video");const L={data1:h,startPTS:C,startDTS:C,endPTS:x,endDTS:x,type:D,hasAudio:A,hasVideo:I,nb:1,dropped:0,encrypted:!!p.audio&&p.audio.encrypted||!!p.video&&p.video.encrypted};d.audio=A&&!I?L:void 0,d.video=I?L:void 0;const P=null==v?void 0:v.sampleCount;if(P){const t=v.keyFrameIndex,e=-1!==t;L.nb=P,L.dropped=0===t||this.isVideoContiguous?0:e?t:P,L.independent=e,L.firstKeyFrame=t,e&&v.keyFrameStart&&(L.firstKeyFramePTS=(v.keyFrameStart-c.baseTime)/c.timescale),this.isVideoContiguous||(d.independent=e),this.isVideoContiguous||(this.isVideoContiguous=e),L.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${t}/${P} dropped: ${L.dropped} start: ${L.firstKeyFramePTS||"NA"}`)}return d.initSegment=f,d.id3=Vr(n,s,c,c),r.samples.length&&(d.text=Kr(r,s,c)),d}}},{demux:Cr,remux:qr},{demux:class extends ir{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e}resetInitSegment(t,e,n,i){super.resetInitSegment(t,e,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}static probe(t,e){if(!t)return!1;const n=Mi(t,0);let i=(null==n?void 0:n.length)||0;if(pr(t,i))return!1;for(let n=t.length;i<n;i++)if(Bi(t,i))return e.log("ADTS sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&Ni(t,e)&&$i(t,e)<=t.length-e}(t,e)}appendFrame(t,e,n){Ui(t,this.observer,e,n,t.manifestCodec);const i=Gi(t,e,n,this.basePTS,this.frameIndex);if(i&&0===i.missing)return i}},remux:qr},{demux:class extends ir{resetInitSegment(t,e,n,i){super.resetInitSegment(t,e,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=Mi(t,0);let n=(null==e?void 0:e.length)||0;if(e&&11===t[n]&&119===t[n+1]&&void 0!==tr(e)&&mr(t,n)<=16)return!1;for(let e=t.length;n<e;n++)if(pr(t,n))return A.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return hr(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,n){if(null!==this.basePTS)return ur(t,e,n,this.basePTS,this.frameIndex)}},remux:qr}];Qr.splice(2,0,{demux:gr,remux:qr});class Xr{constructor(t,e,n,i,r,s){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=n,this.id=r,this.logger=s}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,e,n,i){const r=n.transmuxing;r.executeStart=Br();let s=new Uint8Array(t);const{currentTransmuxState:c,transmuxConfig:u}=this;i&&(this.currentTransmuxState=i);const{contiguous:d,discontinuity:h,trackSwitch:f,accurateTimeOffset:p,timeOffset:m,initSegmentChange:g}=i||c,{audioCodec:v,videoCodec:y,defaultInitPts:b,duration:_,initSegmentData:E}=u,S=function(t,e){let n=null;t.byteLength>0&&null!=(null==e?void 0:e.key)&&null!==e.iv&&null!=e.method&&(n=e);return n}(s,e);if(S&&vn(S.method)){const t=this.getDecrypter(),e=yn(S.method);if(!t.isSync())return this.asyncResult=!0,this.decryptionPromise=t.webCryptoDecrypt(s,S.key.buffer,S.iv.buffer,e).then((t=>{const e=this.push(t,null,n);return this.decryptionPromise=null,e})),this.decryptionPromise;{let i=t.softwareDecrypt(s,S.key.buffer,S.iv.buffer,e);if(n.part>-1){const e=t.flush();i=e?e.buffer:e}if(!i)return r.executeEnd=Br(),Zr(n);s=new Uint8Array(i)}}const T=this.needsProbing(h,f);if(T){const t=this.configureTransmuxer(s);if(t)return this.logger.warn(`[transmuxer] ${t.message}`),this.observer.emit(l.ERROR,l.ERROR,{type:a.MEDIA_ERROR,details:o.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),r.executeEnd=Br(),Zr(n)}(h||f||g||T)&&this.resetInitSegment(E,v,y,_,e),(h||g||T)&&this.resetInitialTimestamp(b),d||this.resetContiguity();const w=this.transmux(s,S,m,p,n);this.asyncResult=Jr(w);const k=this.currentTransmuxState;return k.contiguous=!0,k.discontinuity=!1,k.trackSwitch=!1,r.executeEnd=Br(),w}flush(t){const e=t.transmuxing;e.executeStart=Br();const{decrypter:n,currentTransmuxState:i,decryptionPromise:r}=this;if(r)return this.asyncResult=!0,r.then((()=>this.flush(t)));const s=[],{timeOffset:a}=i;if(n){const e=n.flush();e&&s.push(this.push(e.buffer,null,t))}const{demuxer:o,remuxer:l}=this;if(!o||!l){e.executeEnd=Br();const n=[Zr(t)];return this.asyncResult?Promise.resolve(n):n}const c=o.flush(a);return Jr(c)?(this.asyncResult=!0,c.then((e=>(this.flushRemux(s,e,t),s)))):(this.flushRemux(s,c,t),this.asyncResult?Promise.resolve(s):s)}flushRemux(t,e,n){const{audioTrack:i,videoTrack:r,id3Track:s,textTrack:a}=e,{accurateTimeOffset:o,timeOffset:l}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===f?"level":"track"} ${n.level}`);const c=this.remuxer.remux(i,r,s,a,l,o,!0,this.id);t.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=Br()}resetInitialTimestamp(t){const{demuxer:e,remuxer:n}=this;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t,e,n,i,r){const{demuxer:s,remuxer:a}=this;s&&a&&(s.resetInitSegment(t,e,n,i),a.resetInitSegment(t,e,n,r))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,e,n,i,r){let s;return s=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,i,r):this.transmuxUnencrypted(t,n,i,r),s}transmuxUnencrypted(t,e,n,i){const{audioTrack:r,videoTrack:s,id3Track:a,textTrack:o}=this.demuxer.demux(t,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(r,s,a,o,e,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(t,e,n,i,r){return this.demuxer.demuxSampleAes(t,e,n).then((t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,n,i,!1,this.id),chunkMeta:r})))}configureTransmuxer(t){const{config:e,observer:n,typeSupported:i}=this;let r;for(let e=0,n=Qr.length;e<n;e++){var s;if(null!=(s=Qr[e].demux)&&s.probe(t,this.logger)){r=Qr[e];break}}if(!r)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,o=this.remuxer,l=r.remux,c=r.demux;o&&o instanceof l||(this.remuxer=new l(n,e,i,this.logger)),a&&a instanceof c||(this.demuxer=new c(n,e,i,this.logger),this.probe=c.probe)}needsProbing(t,e){return!this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new Ke(this.config)),t}}const Zr=t=>({remuxResult:{},chunkMeta:t});function Jr(t){return"then"in t&&t.then instanceof Function}class ts{constructor(t,e,n,i,r){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=i,this.defaultInitPts=r||null}}class es{constructor(t,e,n,i,r,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=r,this.initSegmentChange=s}}let ns=0;class is{constructor(t,e,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=ns++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=t=>{const e=t.data,n=this.hls;if(n&&null!=e&&e.event&&e.instanceNo===this.instanceNo)switch(e.event){case"init":{var i;const t=null==(i=this.workerContext)?void 0:i.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":n.logger[e.data.logType]&&n.logger[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.part=this.part,e.data.id=this.id,n.trigger(e.event,e.data)}},this.onWorkerError=t=>{if(!this.hls)return;const e=new Error(`${t.message}  (${t.filename}:${t.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:e})};const r=t.config;this.hls=t,this.id=e,this.useWorker=!!r.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const s=(t,e)=>{(e=e||{}).frag=this.frag||void 0,t===l.ERROR&&(e.parent=this.id,e.part=this.part,this.error=e.error),this.hls.trigger(t,e)};this.observer=new Ii,this.observer.on(l.FRAG_DECRYPTED,s),this.observer.on(l.ERROR,s);const c=$t(r.preferManagedMediaSource);if(this.useWorker&&"undefined"!=typeof Worker){const n=this.hls.logger;if(r.workerPath||"function"==typeof __HLS_WORKER_BUNDLE__){try{r.workerPath?(n.log(`loading Web Worker ${r.workerPath} for "${e}"`),this.workerContext=function(t){const e=Li[t];if(e)return e.clientCount++,e;const n=new self.URL(t,self.location.href).href,i={worker:new self.Worker(n),scriptURL:n,clientCount:1};return Li[t]=i,i}(r.workerPath)):(n.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=Li[Di];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(e),i={worker:new self.Worker(n),objectURL:n,clientCount:1};return Li[Di]=i,i}());const{worker:t}=this.workerContext;t.addEventListener("message",this.onWorkerMessage),t.addEventListener("error",this.onWorkerError),t.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:e,config:ie(r)})}catch(i){n.warn(`Error setting up "${e}" Web Worker, fallback to inline`,i),this.terminateWorker(),this.error=null,this.transmuxer=new Xr(this.observer,c,r,"",e,t.logger)}return}}this.transmuxer=new Xr(this.observer,c,r,"",e,t.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const t=this.instanceNo;this.instanceNo=ns++;const e=this.hls.config,n=$t(e.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:t,typeSupported:n,id:this.id,config:ie(e)})}}terminateWorker(){if(this.workerContext){const{worker:t}=this.workerContext;this.workerContext=null,t.removeEventListener("message",this.onWorkerMessage),t.removeEventListener("error",this.onWorkerError),function(t){const e=Li[t||Di];if(e&&1==e.clientCount--){const{worker:n,objectURL:i}=e;delete Li[t||Di],i&&self.URL.revokeObjectURL(i),n.terminate()}}(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(t,e,n,i,r,s,a,o,l,c){var u,d;l.transmuxing.start=self.performance.now();const{instanceNo:h,transmuxer:p}=this,m=s?s.start:r.start,g=r.decryptdata,v=this.frag,y=!(v&&r.cc===v.cc),b=!(v&&l.level===v.level),_=v?l.sn-v.sn:-1,E=this.part?l.part-this.part.index:-1,S=0===_&&l.id>1&&l.id===(null==v?void 0:v.stats.chunkCount),T=!b&&(1===_||0===_&&(1===E||S&&E<=0)),w=self.performance.now();(b||_||0===r.stats.parsing.start)&&(r.stats.parsing.start=w),!s||!E&&T||(s.stats.parsing.start=w);const k=!(v&&(null==(u=r.initSegment)?void 0:u.url)===(null==(d=v.initSegment)?void 0:d.url)),C=new es(y,T,o,b,m,k);if(!T||y||k){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${r.type} sn: ${l.sn}${l.part>-1?" part: "+l.part:""} ${this.id===f?"level":"track"}: ${l.level} id: ${l.id}\n        discontinuity: ${y}\n        trackSwitch: ${b}\n        contiguous: ${T}\n        accurateTimeOffset: ${o}\n        timeOffset: ${m}\n        initSegmentChange: ${k}`);const t=new ts(n,i,e,a,c);this.configureTransmuxer(t)}if(this.frag=r,this.part=s,this.workerContext)this.workerContext.worker.postMessage({instanceNo:h,cmd:"demux",data:t,decryptdata:g,chunkMeta:l,state:C},t instanceof ArrayBuffer?[t]:[]);else if(p){const e=p.push(t,g,l,C);Jr(e)?e.then((t=>{this.handleTransmuxComplete(t)})).catch((t=>{this.transmuxerError(t,l,"transmuxer-interface push error")})):this.handleTransmuxComplete(e)}}flush(t){t.transmuxing.start=self.performance.now();const{instanceNo:e,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:e,cmd:"flush",chunkMeta:t});else if(n){const e=n.flush(t);Jr(e)?e.then((e=>{this.handleFlushResult(e,t)})).catch((e=>{this.transmuxerError(e,t,"transmuxer-interface flush error")})):this.handleFlushResult(e,t)}}transmuxerError(t,e,n){this.hls&&(this.error=t,this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.FRAG_PARSING_ERROR,chunkMeta:e,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:t,err:t,reason:n}))}handleFlushResult(t,e){t.forEach((t=>{this.handleTransmuxComplete(t)})),this.onFlush(e)}configureTransmuxer(t){const{instanceNo:e,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:e,cmd:"configure",config:t}):n&&n.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}class rs extends S{constructor(t,e){super(e,t.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,e,n){const i=null==e?void 0:e.renditionReports;if(i){let r=-1;for(let n=0;n<i.length;n++){const s=i[n];let a;try{a=new self.URL(s.URI,e.url).href}catch(t){this.warn(`Could not construct new URL for Rendition Report: ${t}`),a=s.URI||""}if(a===t){r=n;break}a===t.substring(0,a.length)&&(r=n)}if(-1!==r){const t=i[r],s=parseInt(t["LAST-MSN"])||e.lastPartSn;let a=parseInt(t["LAST-PART"])||e.lastPartIndex;if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);a>=0&&t>e.partTarget&&(a+=1)}const o=n&&Zt(n);return new Jt(s,a>=0?a:void 0,o)}}}loadPlaylist(t){this.clearTimer()}loadingPlaylist(t,e){this.clearTimer()}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}getUrlWithDirectives(t,e){if(e)try{return e.addDirectives(t)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}return t}playlistLoaded(t,e,n){const{details:i,stats:r}=e,s=self.performance.now(),c=r.loading.first?Math.max(0,s-r.loading.first):0;i.advancedDateTime=Date.now()-c;const u=this.hls.config.timelineOffset;if(u!==i.appliedTimelineOffset){const t=Math.max(u||0,0);i.appliedTimelineOffset=t,i.fragments.forEach((e=>{e.setStart(e.playlistOffset+t)}))}if(i.live||null!=n&&n.live){const u="levelInfo"in e?e.levelInfo:e.track;if(i.reloaded(n),n&&i.fragments.length>0){ii(n,i,this);const t=i.playlistParsingError;if(t){this.warn(t);const n=this.hls;if(!n.config.ignorePlaylistParsingErrors){var d;const{networkDetails:s}=e;return void n.trigger(l.ERROR,{type:a.NETWORK_ERROR,details:o.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:t,reason:t.message,level:e.level||void 0,parent:null==(d=i.fragments[0])?void 0:d.type,networkDetails:s,stats:r})}i.playlistParsingError=null}}-1===i.requestScheduled&&(i.requestScheduled=r.loading.start);const h=this.hls.mainForwardBufferInfo,f=h?h.end-h.len:0,p=oi(i,1e3*(i.edge-f));if(i.requestScheduled+p<s?i.requestScheduled=s:i.requestScheduled+=p,this.log(`live playlist ${t} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let m,g,v;if(i.canBlockReload&&i.endSN&&i.advanced){const t=this.hls.config.lowLatencyMode,r=i.lastPartSn,a=i.endSN,o=i.lastPartIndex,l=r===a;-1!==o?l?(g=a+1,v=t?0:o):(g=r,v=t?o+1:i.maxPartIndex):g=a+1;const c=i.age,d=c+i.ageHeader;let h=Math.min(d-i.partTarget,1.5*i.targetduration);if(h>0){if(d>3*i.targetduration)this.log(`Playlist last advanced ${c.toFixed(2)}s ago. Omitting segment and part directives.`),g=void 0,v=void 0;else if(null!=n&&n.tuneInGoal&&d-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${h} with playlist age: ${i.age}`),h=0;else{const t=Math.floor(h/i.targetduration);if(g+=t,void 0!==v){v+=Math.round(h%i.targetduration/i.partTarget)}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${c.toFixed(2)}s goal: ${h} skip sn ${t} to part ${v}`)}i.tuneInGoal=h}if(m=this.getDeliveryDirectives(i,e.deliveryDirectives,g,v),t||!l)return i.requestScheduled=s,void this.loadingPlaylist(u,m)}else(i.canBlockReload||i.canSkipUntil)&&(m=this.getDeliveryDirectives(i,e.deliveryDirectives,g,v));m&&void 0!==g&&i.canBlockReload&&(i.requestScheduled=r.loading.first+Math.max(p-2*c,p/2)),this.scheduleLoading(u,m,i)}else this.clearTimer()}scheduleLoading(t,e,n){const i=n||t.details;if(!i)return void this.loadingPlaylist(t,e);const r=self.performance.now(),s=i.requestScheduled;if(r>=s)return void this.loadingPlaylist(t,e);const a=s-r;this.log(`reload live playlist ${t.name||t.bitrate+"bps"} in ${Math.round(a)} ms`),this.clearTimer(),this.timer=self.setTimeout((()=>this.loadingPlaylist(t,e)),a)}getDeliveryDirectives(t,e,n,i){let r=Zt(t);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,i=e.part,r=Yt),new Jt(n,i,r)}checkRetry(t){const e=t.details,n=ve(t),i=t.errorAction,{action:r,retryCount:s=0,retryConfig:a}=i||{},o=!!i&&!!a&&(r===Ae||!i.resolved&&r===Ce);if(o){var l;if(s>=a.maxNumRetry)return!1;if(n&&null!=(l=t.context)&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${a.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const t=Ee(a,s);this.clearTimer(),this.timer=self.setTimeout((()=>this.loadPlaylist()),t),this.warn(`Retrying playlist loading ${s+1}/${a.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry=!0,i.resolved=!0}return o}}function ss(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!as(t[n].attrs,e[n].attrs))return!1;return!0}function as(t,e,n){const i=t["STABLE-RENDITION-ID"];return i&&!n?i===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((n=>t[n]!==e[n]))}function os(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class ls{constructor(t){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=t}destroy(){this.tracks=this.queues=null}append(t,e,n){if(null===this.queues||null===this.tracks)return;const i=this.queues[e];i.push(t),1!==i.length||n||this.executeNext(e)}appendBlocker(t){return new Promise((e=>{const n={label:"async-blocker",execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,t)}))}prependBlocker(t){return new Promise((e=>{if(this.queues){const n={label:"async-blocker-prepend",execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[t].unshift(n)}}))}removeBlockers(){null!==this.queues&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach((t=>{var e;const n=null==(e=t[0])?void 0:e.label;"async-blocker"!==n&&"async-blocker-prepend"!==n||(t[0].execute(),t.splice(0,1))}))}unblockAudio(t){if(null===this.queues)return;this.queues.audio[0]===t&&this.shiftAndExecuteNext("audio")}executeNext(t){if(null===this.queues||null===this.tracks)return;const e=this.queues[t];if(e.length){const i=e[0];try{i.execute()}catch(e){var n;if(i.onError(e),null===this.queues||null===this.tracks)return;const r=null==(n=this.tracks[t])?void 0:n.buffer;null!=r&&r.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){null!==this.queues&&(this.queues[t].shift(),this.executeNext(t))}current(t){var e;return(null==(e=this.queues)?void 0:e[t][0])||null}toString(){const{queues:t,tracks:e}=this;return null===t||null===e?"<destroyed>":`\n${this.list("video")}\n${this.list("audio")}\n${this.list("audiovideo")}}`}list(t){var e,n;return null!=(e=this.queues)&&e[t]||null!=(n=this.tracks)&&n[t]?`${t}: (${this.listSbInfo(t)}) ${this.listOps(t)}`:""}listSbInfo(t){var e;const n=null==(e=this.tracks)?void 0:e[t],i=null==n?void 0:n.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(t){var e;return(null==(e=this.queues)?void 0:e[t].map((t=>t.label)).join(", "))||""}}const cs=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,us="HlsJsTrackRemovedError";class ds extends Error{constructor(t){super(t),this.name=us}}function hs(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach((e=>{t.removeChild(e)}))}function fs(t){return"audio"===t?1:0}class ps{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(l.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(l.MANIFEST_PARSED,this.onManifestParsed,this),t.on(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(l.BUFFER_CODECS,this.onBufferCodecs,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(l.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(l.MANIFEST_PARSED,this.onManifestParsed,this),t.off(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(l.BUFFER_CODECS,this.onBufferCodecs,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,e){const n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,e){const n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onLevelsUpdated(t,e){this.timer&&i(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const t=this.hls.levels;if(t.length){const e=this.hls,n=this.getMaxLevel(t.length-1);n!==this.autoLevelCapping&&e.logger.log(`Setting autoLevelCapping to ${n}: ${t[n].height}p@${t[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),e.autoLevelCapping=n,e.autoLevelEnabled&&e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return-1;const n=e.filter(((e,n)=>this.isLevelAllowed(e)&&n<=t));return this.clientRect=null,ps.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return Math.min(t,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(t){return!this.restrictedLevels.some((e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height))}static getMaxLevelByMediaSize(t,e,n){if(null==t||!t.length)return-1;let i=t.length-1;const r=Math.max(e,n);for(let e=0;e<t.length;e+=1){const n=t[e];if((n.width>=r||n.height>=r)&&(s=n,!(a=t[e+1])||s.width!==a.width||s.height!==a.height)){i=e;break}}var s,a;return i}}const ms={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},gs={HLS:"h"};class vs{constructor(t,e){Array.isArray(t)&&(t=t.map((t=>t instanceof vs?t:new vs(t)))),this.value=t,this.params=e}}const ys="Dict";function bs(t,e,n,i){return new Error(`failed to ${t} "${r=e,Array.isArray(r)?JSON.stringify(r):r instanceof Map?"Map{}":r instanceof Set?"Set{}":"object"==typeof r?JSON.stringify(r):String(r)}" as ${n}`,{cause:i});var r}function _s(t,e,n){return bs("serialize",t,e,n)}class Es{constructor(t){this.description=t}}const Ss="Bare Item",Ts="Boolean";const ws="Byte Sequence";function ks(t){if(!1===ArrayBuffer.isView(t))throw _s(t,ws);return`:${e=t,btoa(String.fromCharCode(...e))}:`;var e}const Cs="Integer";function xs(t){if(function(t){return t<-999999999999999||999999999999999<t}(t))throw _s(t,Cs);return t.toString()}function As(t,e){if(t<0)return-As(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const e=Math.floor(t*n);return(e%2==0?e:e+1)/n}return Math.round(t*n)/n}const Is="Decimal";function Ds(t){const e=As(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw _s(t,Is);const n=e.toString();return n.includes(".")?n:`${n}.0`}const Ls="String",Ps=/[\x00-\x1f\x7f]+/;const Os="Token";function Rs(t){const e=(n=t).description||n.toString().slice(7,-1);var n;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e))throw _s(e,Os);return e}function Ms(t){switch(typeof t){case"number":if(!i(t))throw _s(t,Ss);return Number.isInteger(t)?xs(t):Ds(t);case"string":return function(t){if(Ps.test(t))throw _s(t,Ls);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(t);case"symbol":return Rs(t);case"boolean":return function(t){if("boolean"!=typeof t)throw _s(t,Ts);return t?"?1":"?0"}(t);case"object":if(t instanceof Date)return function(t){return`@${xs(t.getTime()/1e3)}`}(t);if(t instanceof Uint8Array)return ks(t);if(t instanceof Es)return Rs(t);default:throw _s(t,Ss)}}const Ns="Key";function Fs(t){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(t))throw _s(t,Ns);return t}function $s(t){return null==t?"":Object.entries(t).map((([t,e])=>!0===e?`;${Fs(t)}`:`;${Fs(t)}=${Ms(e)}`)).join("")}function js(t){return t instanceof vs?`${Ms(t.value)}${$s(t.params)}`:Ms(t)}function Bs(t,e={whitespace:!0}){if("object"!=typeof t||null==t)throw _s(t,ys);const n=t instanceof Map?t.entries():Object.entries(t),i=(null==e?void 0:e.whitespace)?" ":"";return Array.from(n).map((([t,e])=>{e instanceof vs==!1&&(e=new vs(e));let n=Fs(t);var i;return!0===e.value?n+=$s(e.params):(n+="=",Array.isArray(e.value)?n+=`(${(i=e).value.map(js).join(" ")})${$s(i.params)}`:n+=js(e)),n})).join(`,${i}`)}function Us(t,e){return Bs(t,e)}const Hs="CMCD-Object",Gs="CMCD-Request",qs="CMCD-Session",Ws="CMCD-Status",Vs={br:Hs,ab:Hs,d:Hs,ot:Hs,tb:Hs,tpb:Hs,lb:Hs,tab:Hs,lab:Hs,url:Hs,pb:Gs,bl:Gs,tbl:Gs,dl:Gs,ltc:Gs,mtp:Gs,nor:Gs,nrr:Gs,rc:Gs,sn:Gs,sta:Gs,su:Gs,ttfb:Gs,ttfbb:Gs,ttlb:Gs,cmsdd:Gs,cmsds:Gs,smrt:Gs,df:Gs,cs:Gs,ts:Gs,cid:qs,pr:qs,sf:qs,sid:qs,st:qs,v:qs,msd:qs,bs:Ws,bsd:Ws,cdn:Ws,rtp:Ws,bg:Ws,pt:Ws,ec:Ws,e:Ws},Ks={REQUEST:Gs};function zs(t,e){const n={};if(!t)return n;const i=Object.keys(t),r=e?(s=e,Object.keys(s).reduce(((t,e)=>{var n;return null===(n=s[e])||void 0===n||n.forEach((n=>t[n]=e)),t}),{})):{};var s;return i.reduce(((e,n)=>{var i;const s=Vs[n]||r[n]||Ks.REQUEST;return(null!==(i=e[s])&&void 0!==i?i:e[s]={})[n]=t[n],e}),n)}const Ys="event";const Qs=t=>Math.round(t),Xs=(t,e)=>Array.isArray(t)?t.map((t=>Xs(t,e))):t instanceof vs&&"string"==typeof t.value?new vs(Xs(t.value,e),t.params):(e.baseUrl&&(t=function(t,e){const n=new URL(t),i=new URL(e);if(n.origin!==i.origin)return t;const r=n.pathname.split("/").slice(1),s=i.pathname.split("/").slice(1,-1);for(;r[0]===s[0];)r.shift(),s.shift();for(;s.length;)s.shift(),r.unshift("..");return r.join("/")+n.search+n.hash}(t,e.baseUrl)),1===e.version?encodeURIComponent(t):t),Zs=t=>100*Qs(t/100),Js={br:Qs,d:Qs,bl:Zs,dl:Zs,mtp:Zs,nor:(t,e)=>{let n=t;return e.version>=2&&(t instanceof vs&&"string"==typeof t.value?n=new vs([t]):"string"==typeof t&&(n=[t])),Xs(n,e)},rtp:Zs,tb:Qs},ta="request",ea="response",na=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],ia=["e"],ra=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function sa(t){return ra.test(t)}const aa=["d","dl","nor","ot","rtp","su"];const oa=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];const la=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function ca(t){return la.includes(t)||sa(t)}const ua={[ea]:function(t){return na.includes(t)||aa.includes(t)||oa.includes(t)||sa(t)},[Ys]:function(t){return na.includes(t)||ia.includes(t)||sa(t)},[ta]:function(t){return na.includes(t)||aa.includes(t)||sa(t)}};function da(t,e={}){const n={};if(null==t||"object"!=typeof t)return n;const r=e.version||t.v||1,s=e.reportingMode||ta,a=1===r?ca:ua[s];let o=Object.keys(t).filter(a);const l=e.filter;"function"==typeof l&&(o=o.filter(l));const c=s===ea||s===Ys;c&&!o.includes("ts")&&o.push("ts"),r>1&&!o.includes("v")&&o.push("v");const u=b({},Js,e.formatters),d={version:r,reportingMode:s,baseUrl:e.baseUrl};return o.sort().forEach((e=>{let s=t[e];const a=u[e];if("function"==typeof a&&(s=a(s,d)),"v"===e){if(1===r)return;s=r}"pr"==e&&1===s||(c&&"ts"===e&&!i(s)&&(s=Date.now()),function(t){return"number"==typeof t?i(t):null!=t&&""!==t&&!1!==t}(s)&&(function(t){return["ot","sf","st","e","sta"].includes(t)}(e)&&"string"==typeof s&&(s=new Es(s)),n[e]=s))})),n}function ha(t,e,n){return b(t,function(t,e={}){const n={};if(!t)return n;const i=zs(da(t,e),null==e?void 0:e.customHeaderMap);return Object.entries(i).reduce(((t,[e,n])=>{const i=Us(n,{whitespace:!1});return i&&(t[e]=i),t}),n)}(e,n))}const fa="CMCD";function pa(t,e={}){if(!t)return"";const n=function(t,e={}){return t?Us(da(t,e),{whitespace:!1}):""}(t,e);return encodeURIComponent(n)}const ma=/CMCD=[^&#]+/;function ga(t,e,n){const i=function(t,e={}){if(!t)return"";const n=pa(t,e);return`${fa}=${n}`}(e,n);if(!i)return t;if(ma.test(t))return t.replace(ma,i);const r=t.includes("?")?"&":"?";return`${t}${r}${i}`}function va(t,e,n,i){t&&Object.keys(e).forEach((r=>{const s=t.filter((t=>t.groupId===r)).map((t=>{const s=b({},t);return s.details=void 0,s.attrs=new dn(s.attrs),s.url=s.attrs.URI=ya(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),s.groupId=s.attrs["GROUP-ID"]=e[r],s.attrs["PATHWAY-ID"]=i,s}));t.push(...s)}))}function ya(t,e,n,i){const{HOST:r,PARAMS:s,[n]:a}=i;let o;e&&(o=null==a?void 0:a[e],o&&(t=o));const l=new self.URL(t);return r&&!o&&(l.host=r),s&&Object.keys(s).sort().forEach((t=>{t&&l.searchParams.set(t,s[t])})),l.href}class ba extends S{constructor(t){super("eme",t.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=ba.CDMCleanupPromise?[ba.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=t=>{const{initDataType:e,initData:n}=t,i=`"${t.type}" event: init data type: "${e}"`;if(this.debug(i),null!==n){if(!this.keyFormatPromise){let t=Object.keys(this.keySystemAccessPromises);t.length||(t=Ln(this.config));const e=t.map(Dn).filter((t=>!!t));this.keyFormatPromise=this.getKeyFormatPromise(e)}this.keyFormatPromise.then((r=>{const s=In(r);if("sinf"!==e||s!==wn.FAIRPLAY)return void this.log(`Ignoring "${t.type}" event with init data type: "${e}" for selected key-system ${s}`);let a;try{const t=et(new Uint8Array(n)),e=mt(bn(JSON.parse(t).sinf));if(!e)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");a=new Uint8Array(e.subarray(8,24))}catch(t){return void this.warn(`${i} Failed to parse sinf: ${t}`)}const o=P(a),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let u=l[o];for(let t=0;t<c.length;t++){const i=c[t],r=i.decryptdata;if(!r.keyId)continue;const s=P(r.keyId);if(mn(a,r.keyId)||-1!==r.uri.replace(/-/g,"").indexOf(o)){if(u=l[s],!u)continue;if(r.pssh)break;delete l[s],r.pssh=new Uint8Array(n),r.keyId=a,u=l[o]=u.then((()=>this.generateRequestWithPreferredKeySession(i,e,n,"encrypted-event-key-match"))),u.catch((t=>this.handleError(t)));break}}u||this.handleError(new Error(`Key ID ${o} not encountered in playlist. Key-system sessions ${c.length}.`))})).catch((t=>this.handleError(t)))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(l.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(l.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(l.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(l.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(l.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(l.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(l.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(l.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:n}=this.config,i=null==e?void 0:e[t];return i?i.licenseUrl:t===wn.WIDEVINE&&n?n:void 0}getLicenseServerUrlOrThrow(t){const e=this.getLicenseServerUrl(t);if(void 0===e)throw new Error(`no license server URL configured for key-system "${t}"`);return e}getServerCertificateUrl(t){const{drmSystems:e}=this.config,n=null==e?void 0:e[t];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const e=this.hls.levels,n=(t,e,n)=>!!t&&n.indexOf(t)===e,i=e.map((t=>t.audioCodec)).filter(n),r=e.map((t=>t.videoCodec)).filter(n);return i.length+r.length===0&&r.push("avc1.42e01e"),new Promise(((e,n)=>{const s=t=>{const l=t.shift();this.getMediaKeysPromise(l,i,r).then((t=>e({keySystem:l,mediaKeys:t}))).catch((e=>{t.length?s(t):n(e instanceof Sa?e:new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))};s(t)}))}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!=typeof n){let t=`Configured requestMediaKeySystemAccess is not a function ${n}`;return null===Pn&&"http:"===self.location.protocol&&(t=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return n(t,e)}getMediaKeysPromise(t,e,n){var i;const r=function(t,e,n,i){let r;switch(t){case wn.FAIRPLAY:r=["cenc","sinf"];break;case wn.WIDEVINE:case wn.PLAYREADY:r=["cenc"];break;case wn.CLEARKEY:r=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t,e,n,i){return[{initDataTypes:t,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map((t=>({contentType:`audio/mp4; codecs=${t}`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null}))),videoCapabilities:n.map((t=>({contentType:`video/mp4; codecs=${t}`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null})))}]}(r,e,n,i)}(t,e,n,this.config.drmSystemOptions||{});let s=this.keySystemAccessPromises[t],a=null==(i=s)?void 0:i.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${t}" key-system access with config: ${ie(r)}`),a=this.requestMediaKeySystemAccess(t,r);const e=s=this.keySystemAccessPromises[t]={keySystemAccess:a};return a.catch((e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`)})),a.then((n=>{this.log(`Access for key-system "${n.keySystem}" obtained`);const i=this.fetchServerCertificate(t);this.log(`Create media-keys for "${t}"`);const r=e.mediaKeys=n.createMediaKeys().then((n=>(this.log(`Media-keys created for "${t}"`),e.hasMediaKeys=!0,i.then((e=>e?this.setMediaKeysServerCertificate(n,t,e):n)))));return r.catch((e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`)})),r}))}return a.then((()=>s.mediaKeys))}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:n}){this.log(`Creating key-system session "${e}" keyId: ${P(t.keyId||[])} keyUri: ${t.uri}`);const i=n.createSession(),r={decryptdata:t,keySystem:e,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(r),r}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const n=this.createMediaKeySessionContext(t),i=_a(e),r="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,r,e.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}updateKeySession(t,e){const n=t.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyId ${P(t.decryptdata.keyId||[])}\n      } (data length: ${e.byteLength})`),n.update(e)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map((t=>({keySystem:t,hasMediaKeys:this.keySystemAccessPromises[t].hasMediaKeys}))).filter((({hasMediaKeys:t})=>!!t)).map((({keySystem:t})=>Dn(t))).filter((t=>!!t))}getKeySystemAccess(t){return this.getKeySystemSelectionPromise(t).then((({keySystem:t,mediaKeys:e})=>this.attemptSetMediaKeys(t,e)))}selectKeySystem(t){return new Promise(((e,n)=>{this.getKeySystemSelectionPromise(t).then((({keySystem:t})=>{const i=Dn(t);i?e(i):n(new Error(`Unable to find format for key-system "${t}"`))})).catch(n)}))}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){const e=Ln(this.config),n=t.map(In).filter((t=>!!t&&-1!==e.indexOf(t)));return this.selectKeySystem(n)}getKeyStatus(t){const{mediaKeySessions:e}=this;for(let n=0;n<e.length;n++){const i=Ea(t,e[n]);if(i)return i}}loadKey(t){const e=t.keyInfo.decryptdata,n=_a(e),i=this.bannedKeyIds[n];if(i||"internal-error"===this.getKeyStatus(e)){const n=Ta(i||"internal-error",e);return this.handleError(n,t.frag),Promise.reject(n)}const r=`(keyId: ${n} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${r}`);const s=this.keyIdToKeySessionPromise[n];if(!s){const i=this.getKeySystemForKeyPromise(e).then((({keySystem:n,mediaKeys:i})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${r}`),this.attemptSetMediaKeys(n,i).then((()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:n,mediaKeys:i,decryptdata:e}))))))).then((t=>{const n=e.pssh?e.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(t,"cenc",n,"playlist-key")}));return i.catch((e=>this.handleError(e,t.frag))),this.keyIdToKeySessionPromise[n]=i,i}return s.catch((n=>{if(n instanceof Sa){const i=E({},n.data);"internal-error"===this.getKeyStatus(e)&&(i.decryptdata=e);const r=new Sa(i,n.message);this.handleError(r,t.frag)}})),s}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t,e){if(this.hls)if(t instanceof Sa){e&&(t.data.frag=e);const n=t.data.decryptdata;this.error(`${t.message}${n?` (${P(n.keyId||[])})`:""}`),this.hls.trigger(l.ERROR,t.data)}else this.error(t.message),this.hls.trigger(l.ERROR,{type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0})}getKeySystemForKeyPromise(t){const e=_a(t),n=this.keyIdToKeySessionPromise[e];if(!n){const e=In(t.keyFormat),n=e?[e]:Ln(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(t){if(t.length||(t=Ln(this.config)),0===t.length)throw new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${ie({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}attemptSetMediaKeys(t,e){if(this.mediaResolved=void 0,this.mediaKeys===e)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const i=Promise.all(n).then((()=>this.media?this.media.setMediaKeys(e):new Promise(((t,n)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return n(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=e,this.media.setMediaKeys(e).then(t).catch(n)}}))));return this.mediaKeys=e,this.setMediaKeysQueue.push(i),i.then((()=>{this.log(`Media-keys set for "${t}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((t=>-1===n.indexOf(t)))}))}generateRequestWithPreferredKeySession(t,e,n,i){var r;const s=null==(r=this.config.drmSystems)||null==(r=r[t.keySystem])?void 0:r.generateRequest;if(s)try{const i=s.call(this.hls,e,n,t);if(!i)throw new Error("Invalid response from configured generateRequest filter");e=i.initDataType,n=i.initData?i.initData:null,t.decryptdata.pssh=n?new Uint8Array(n):null}catch(t){if(this.warn(t.message),this.hls&&this.hls.config.debug)throw t}if(null===n)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(t);const l=_a(t.decryptdata),c=t.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${l} URI: ${c} (init data type: ${e} length: ${n.byteLength})`);const u=new Ii,d=t._onmessage=e=>{const n=t.mediaKeysSession;if(!n)return void u.emit("error",new Error("invalid state"));const{messageType:i,message:r}=e;this.log(`"${i}" message event for session "${n.sessionId}" message size: ${r.byteLength}`),"license-request"===i||"license-renewal"===i?this.renewLicense(t,r).catch((t=>{u.eventNames().length?u.emit("error",t):this.handleError(t)})):"license-release"===i?t.keySystem===wn.FAIRPLAY&&this.updateKeySession(t,_n("acknowledged")).then((()=>this.removeSession(t))).catch((t=>this.handleError(t))):this.warn(`unhandled media key message type "${i}"`)},h=(t,e)=>{let n;e.keyStatus=t,t.startsWith("usable")?u.emit("resolved"):"internal-error"===t||"output-restricted"===t||"output-downscaled"===t?n=Ta(t,e.decryptdata):"expired"===t?n=new Error(`key expired (keyId: ${l})`):"released"===t?n=new Error("key released"):"status-pending"===t||this.warn(`unhandled key status change "${t}" (keyId: ${l})`),n&&(u.eventNames().length?u.emit("error",n):this.handleError(n))},f=t._onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void u.emit("error",new Error("invalid state"));const n=this.getKeyStatuses(t);if(!Object.keys(n).some((t=>"status-pending"!==n[t])))return;if("expired"===n[l])return this.log(`Expired key ${ie(n)} in key-session "${t.mediaKeysSession.sessionId}"`),void this.renewKeySession(t);let i=n[l];if(i)h(i,t);else{var r;const e=1e3;t.keyStatusTimeouts||(t.keyStatusTimeouts={}),(r=t.keyStatusTimeouts)[l]||(r[l]=self.setTimeout((()=>{if(!t.mediaKeysSession||!this.mediaKeys)return;const n=this.getKeyStatus(t.decryptdata);if(n&&"status-pending"!==n)return this.log(`No status for keyId ${l} in key-session "${t.mediaKeysSession.sessionId}". Using session key-status ${n} from other session.`),h(n,t);this.log(`key status for ${l} in key-session "${t.mediaKeysSession.sessionId}" timed out after ${e}ms`),i="internal-error",h(i,t)}),e)),this.log(`No status for keyId ${l} (${ie(n)}).`)}};bi(t.mediaKeysSession,"message",d),bi(t.mediaKeysSession,"keystatuseschange",f);const p=new Promise(((t,e)=>{u.on("error",e),u.on("resolved",t)}));return t.mediaKeysSession.generateRequest(e,n).then((()=>{this.log(`Request generated for key-session "${t.mediaKeysSession.sessionId}" keyId: ${l} URI: ${c}`)})).catch((e=>{throw new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_NO_SESSION,error:e,decryptdata:t.decryptdata,fatal:!1},`Error generating key-session request: ${e}`)})).then((()=>p)).catch((e=>(u.removeAllListeners(),this.removeSession(t).then((()=>{throw e}))))).then((()=>(u.removeAllListeners(),t)))}getKeyStatuses(t){const e={};return t.mediaKeysSession.keyStatuses.forEach(((n,i)=>{if("string"==typeof i&&"object"==typeof n){const t=i;i=n,n=t}const r="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);if(t.keySystem===wn.PLAYREADY&&16===r.length){const t=P(r);e[t]=n,En(r)}const s=P(r);"internal-error"===n&&(this.bannedKeyIds[s]=n),this.log(`key status change "${n}" for keyStatuses keyId: ${s} key-session "${t.mediaKeysSession.sessionId}"`),e[s]=n})),e}fetchServerCertificate(t){const e=this.config,n=new(0,e.loader)(e),i=this.getServerCertificateUrl(t);return i?(this.log(`Fetching server certificate for "${t}"`),new Promise(((r,s)=>{const l={responseType:"arraybuffer",url:i},c=e.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(t,e,n,i)=>{r(t.data)},onError:(e,n,r,c)=>{s(new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:E({url:l.url,data:void 0},e)},`"${t}" certificate request failed (${i}). Status: ${e.code} (${e.text})`))},onTimeout:(e,n,r)=>{s(new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:{url:l.url,data:void 0}},`"${t}" certificate request timed out (${i})`))},onAbort:(t,e,n)=>{s(new Error("aborted"))}};n.load(l,u,d)}))):Promise.resolve()}setMediaKeysServerCertificate(t,e,n){return new Promise(((i,r)=>{t.setServerCertificate(n).then((r=>{this.log(`setServerCertificate ${r?"success":"not supported by CDM"} (${n.byteLength}) on "${e}"`),i(t)})).catch((t=>{r(new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then((e=>this.updateKeySession(t,new Uint8Array(e)).catch((e=>{throw new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:t.decryptdata,error:e,fatal:!1},e.message)}))))}unpackPlayReadyKeyMessage(t,e){const n=String.fromCharCode.apply(null,new Uint16Array(e.buffer));if(!n.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),e;const i=(new DOMParser).parseFromString(n,"application/xml"),r=i.querySelectorAll("HttpHeader");if(r.length>0){let e;for(let n=0,i=r.length;n<i;n++){var s,a;e=r[n];const i=null==(s=e.querySelector("name"))?void 0:s.textContent,o=null==(a=e.querySelector("value"))?void 0:a.textContent;i&&o&&t.setRequestHeader(i,o)}}const o=i.querySelector("Challenge"),l=null==o?void 0:o.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return _n(atob(l))}setupLicenseXHR(t,e,n,i){const r=this.config.licenseXhrSetup;return r?Promise.resolve().then((()=>{if(!n.decryptdata)throw new Error("Key removed");return r.call(this.hls,t,e,n,i)})).catch((s=>{if(!n.decryptdata)throw s;return t.open("POST",e,!0),r.call(this.hls,t,e,n,i)})).then((n=>{t.readyState||t.open("POST",e,!0);return{xhr:t,licenseChallenge:n||i}})):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:i}))}requestLicense(t,e){const n=this.config.keyLoadPolicy.default;return new Promise(((i,r)=>{const s=this.getLicenseServerUrlOrThrow(t.keySystem);this.log(`Sending license request to URL: ${s}`);const l=new XMLHttpRequest;l.responseType="arraybuffer",l.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return r(new Error("invalid state"));if(4===l.readyState)if(200===l.status){this._requestLicenseFailureCount=0;let e=l.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const n=this.config.licenseResponseCallback;if(n)try{e=n.call(this.hls,l,s,t)}catch(t){this.error(t)}i(e)}else{const c=n.errorRetry,u=c?c.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||l.status>=400&&l.status<500)r(new Sa({type:a.KEY_SYSTEM_ERROR,details:o.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:t.decryptdata,fatal:!0,networkDetails:l,response:{url:s,data:void 0,code:l.status,text:l.statusText}},`License Request XHR failed (${s}). Status: ${l.status} (${l.statusText})`));else{const n=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${n} attempts left`),this.requestLicense(t,e).then(i,r)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=l,this.setupLicenseXHR(l,s,t,e).then((({xhr:e,licenseChallenge:n})=>{t.keySystem==wn.PLAYREADY&&(n=this.unpackPlayReadyKeyMessage(e,n)),e.send(n)})).catch(r)}))}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const n=e.media;this.media=n,bi(n,"encrypted",this.onMediaEncrypted),bi(n,"waitingforkey",this.onWaitingForKey);const i=this.mediaResolved;i?i():this.mediaKeys=n.mediaKeys}onMediaDetached(){const t=this.media;t&&(_i(t,"encrypted",this.onMediaEncrypted),_i(t,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var t;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const e=this.mediaResolved;if(e&&e(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Nn.clearKeyUriToKeyIdMap();const r=i.length;ba.CDMCleanupPromise=Promise.all(i.map((t=>this.removeSession(t))).concat((null==n||null==(t=n.setMediaKeys(null))?void 0:t.catch((t=>{this.log(`Could not clear media keys: ${t}`),this.hls&&this.hls.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${t}`)})})))||Promise.resolve())).catch((t=>{this.log(`Could not close sessions and clear media keys: ${t}`),this.hls&&this.hls.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${t}`)})})).then((()=>{r&&this.log("finished closing key sessions and clearing media keys")}))}onManifestLoading(){this._clear()}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce(((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t)),[]);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)}}removeSession(t){const{mediaKeysSession:e,licenseXhr:n,decryptdata:i}=t;if(e){this.log(`Remove licenses and keys and close session "${e.sessionId}" keyId: ${P((null==i?void 0:i.keyId)||[])}`),t._onmessage&&(e.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(e.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(t);r>-1&&this.mediaKeySessions.splice(r,1);const{keyStatusTimeouts:s}=t;s&&Object.keys(s).forEach((t=>self.clearTimeout(s[t])));const{drmSystemOptions:c}=this.config,u=function(t){var e;return!(!t||"persistent-license"!==t.sessionType&&(null==(e=t.sessionTypes)||!e.some((t=>"persistent-license"===t))))}(c)?new Promise(((t,n)=>{self.setTimeout((()=>n(new Error("MediaKeySession.remove() timeout"))),8e3),e.remove().then(t).catch(n)})):Promise.resolve();return u.catch((t=>{this.log(`Could not remove session: ${t}`),this.hls&&this.hls.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${t}`)})})).then((()=>e.close())).catch((t=>{this.log(`Could not close session: ${t}`),this.hls&&this.hls.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${t}`)})}))}return Promise.resolve()}}function _a(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return P(t.keyId)}function Ea(t,e){return t.keyId&&e.mediaKeysSession.keyStatuses.has(t.keyId)?e.mediaKeysSession.keyStatuses.get(t.keyId):t.matches(e.decryptdata)?e.keyStatus:void 0}ba.CDMCleanupPromise=void 0;class Sa extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error}}function Ta(t,e){const n="output-restricted"===t,i=n?o.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:o.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new Sa({type:a.KEY_SYSTEM_ERROR,details:i,fatal:!1,decryptdata:e},n?"HDCP level output restricted":`key status changed to "${t}"`)}function wa(t,e){let n;try{n=new Event("addtrack")}catch(t){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function ka(t,e){const n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){A.debug(`[texttrack-utils]: ${n}`);try{const n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,t.addCue(n)}catch(t){A.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${t}`)}}"disabled"===n&&(t.mode=n)}function Ca(t,e){const n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)e&&t.cues[n].removeEventListener("enter",e),t.removeCue(t.cues[n]);"disabled"===n&&(t.mode=n)}function xa(t,e,n,i){const r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&t.cues.length>0){const r=function(t,e,n){const i=[],r=function(t,e){if(e<=t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let i,r=0,s=n;for(;r<=s;)if(i=Math.floor((s+r)/2),e<t[i].startTime)s=i-1;else{if(!(e>t[i].startTime&&r<n))return i;r=i+1}return t[r].startTime-e<e-t[s].startTime?r:s}(t,e);if(r>-1)for(let s=r,a=t.length;s<a;s++){const r=t[s];if(r.startTime>=e&&r.endTime<=n)i.push(r);else if(r.startTime>n)return i}return i}(t.cues,e,n);for(let e=0;e<r.length;e++)i&&!i(r[e])||t.removeCue(r[e])}"disabled"===r&&(t.mode=r)}function Aa(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];"subtitles"!==i.kind&&"captions"!==i.kind||!i.label||e.push(t[n])}return e}function Ia(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()}const Da=.025;let La=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function Pa(t,e,n){return`${t.identifier}-${n+1}-${Ia(e)}`}class Oa{constructor(t,e){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=e,this.dateRange=t,this.setDateRange(t)}setDateRange(t){this.dateRange=t,this.resumeOffset=t.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=t.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=t.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=t.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var t;this.appendInPlaceStarted=!1,null==(t=this.assetListLoader)||t.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(t){var e;if(t>0&&t>=this.assetList.length)return!0;const n=this.playoutLimit;if(t<=0||isNaN(n))return!1;if(0===n)return!0;return((null==(e=this.assetList[t])?void 0:e.startOffset)||0)>n}findAssetIndex(t){return this.assetList.indexOf(t)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const t=this.dateRange.startTime;if(this.snapOptions.out){const e=this.dateRange.tagAnchor;if(e)return Ra(t,e)}return t}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(0===this.startTime||this.snapOptions.out)return!0;const t=this.dateRange.tagAnchor;if(t){const e=this.dateRange.startTime;return e-Ra(e,t)<.1}return!1}get resumptionOffset(){const t=this.resumeOffset,e=i(t)?t:this.duration;return this.cumulativeDuration+e}get resumeTime(){const t=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const e=this.resumeAnchor;if(e)return Ra(t,e)}return t}get appendInPlace(){return!!this.appendInPlaceStarted||!this.appendInPlaceDisabled&&!(this.cue.once||this.cue.pre||!this.startIsAligned||!(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Da))}set appendInPlace(t){this.appendInPlaceStarted?this.resetOnResume=!t:this.appendInPlaceDisabled=!t}get timelineStart(){return null!==this._timelineStart?this._timelineStart:this.startTime}set timelineStart(t){this._timelineStart=t}get duration(){const t=this.playoutLimit;let e;return e=null!==this._duration?this._duration:this.dateRange.duration?this.dateRange.duration:this.dateRange.plannedDuration||0,!isNaN(t)&&t<e&&(e=t),e}set duration(t){this._duration=t}get cue(){return this.dateRange.cue}get timelineOccupancy(){return"RANGE"===this.dateRange.attr["X-TIMELINE-OCCUPIES"]?La.Range:La.Point}get supplementsPrimary(){return"PRIMARY"===this.dateRange.attr["X-TIMELINE-STYLE"]}get contentMayVary(){return"NO"!==this.dateRange.attr["X-CONTENT-MAY-VARY"]}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||null!==this.assetListResponse}toString(){return`["${(t=this).identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`;var t}}function Ra(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<Da)?e.start:e.start+e.duration}function Ma(t,e,n){const i=new self.URL(t,n);return"data:"!==i.protocol&&i.searchParams.set("_HLS_primary_id",e),i}function Na(t,e){for(;null!=(n=t.assetList[++e])&&n.error;)var n;return e}function Fa(t){const e=t.timelineStart,n=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+n).toFixed(2)}]`}class $a{constructor(t,e,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(l.PLAYOUT_LIMIT_REACHED,{})};const r=this.hls=new t(e);this.interstitial=n,this.assetItem=i;const s=()=>{this.hasDetails=!0};r.once(l.LEVEL_LOADED,s),r.once(l.AUDIO_TRACK_LOADED,s),r.once(l.SUBTITLE_TRACK_LOADED,s),r.on(l.MEDIA_ATTACHING,((t,{media:e})=>{this.removeMediaListeners(),this.mediaAttached=e;this.interstitial.playoutLimit&&(e.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&r.on(l.BUFFER_APPENDED,(()=>{const t=this.bufferedEnd;this.reachedPlayout(t)&&(this._bufferedEosTime=t,r.trigger(l.BUFFERED_TO_END,void 0))})))}))}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const t=this.hls;if(t)if(t.url)t.levels.length&&!t.started&&t.startLoad(-1,!0);else{let e=this.assetItem.uri;try{e=Ma(e,t.config.primarySessionId||"").href}catch(t){}t.loadSource(e)}}bufferedInPlaceToEnd(t){var e;if(!this.appendInPlace)return!1;if(null!=(e=this.hls)&&e.bufferedToEnd)return!0;if(!t)return!1;const n=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,r=nn.bufferInfo(t,i,0);return this.getAssetTime(r.end)>=n-.02}reachedPlayout(t){const e=this.interstitial.playoutLimit;return this.startOffset+t>=e}get destroyed(){var t;return!(null!=(t=this.hls)&&t.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var t;return(null==(t=this.hls)?void 0:t.media)||null}get bufferedEnd(){const t=this.media||this.mediaAttached;if(!t)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const e=nn.bufferInfo(t,t.currentTime,.001);return this.getAssetTime(e.end)}get currentTime(){const t=this.media||this.mediaAttached;return t?this.getAssetTime(t.currentTime):this._currentTime||0}get duration(){const t=this.assetItem.duration;if(!t)return 0;const e=this.interstitial.playoutLimit;if(e){const n=e-this.startOffset;if(n>0&&n<t)return n}return t}get remaining(){const t=this.duration;return t?Math.max(0,t-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var t;return(null==(t=this.hls)?void 0:t.config.timelineOffset)||0}set timelineOffset(t){const e=this.timelineOffset;if(t!==e){const n=t-e;if(Math.abs(n)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=t}}}getAssetTime(t){const e=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,t-e),n)}removeMediaListeners(){const t=this.mediaAttached;t&&(this._currentTime=t.currentTime,this.bufferSnapShot(),t.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){var t;this.mediaAttached&&(null!=(t=this.hls)&&t.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd))}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(t){var e;this.loadSource(),null==(e=this.hls)||e.attachMedia(t)}detachMedia(){var t;this.removeMediaListeners(),this.mediaAttached=null,null==(t=this.hls)||t.detachMedia()}resumeBuffering(){var t;null==(t=this.hls)||t.resumeBuffering()}pauseBuffering(){var t;null==(t=this.hls)||t.pauseBuffering()}transferMedia(){var t;return this.bufferSnapShot(),(null==(t=this.hls)?void 0:t.transferMedia())||null}resetDetails(){const t=this.hls;if(t&&this.hasDetails){t.stopLoad();const e=t=>delete t.details;t.levels.forEach(e),t.allAudioTracks.forEach(e),t.allSubtitleTracks.forEach(e),this.hasDetails=!1}}on(t,e,n){var i;null==(i=this.hls)||i.on(t,e)}once(t,e,n){var i;null==(i=this.hls)||i.once(t,e)}off(t,e,n){var i;null==(i=this.hls)||i.off(t,e)}toString(){var t;return`HlsAssetPlayer: ${Fa(this.assetItem)} ${null==(t=this.hls)?void 0:t.sessionId} ${this.appendInPlace?"append-in-place":""}`}}class ja extends S{constructor(t,e){super("interstitials-sched",e),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=t}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach((t=>t.reset())),this.events=this.items=null}resetErrorsInRange(t,e){return this.events?this.events.reduce(((n,i)=>t<=i.startOffset&&e>i.startOffset?(delete i.error,n+1):n),0):0}get duration(){const t=this.items;return t?t[t.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(t){return t&&this.eventMap[t]||null}hasEvent(t){return t in this.eventMap}findItemIndex(t,e){if(t.event)return this.findEventIndex(t.event.identifier);let n=-1;t.nextEvent?n=this.findEventIndex(t.nextEvent.identifier)-1:t.previousEvent&&(n=this.findEventIndex(t.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(void 0===e&&(e=t.start),n=this.findItemIndexAtTime(e));n>=0&&null!=(r=i[n])&&r.event;){var r;n--}return n}findItemIndexAtTime(t,e){const n=this.items;if(n)for(let i=0;i<n.length;i++){let r=n[i];if(e&&"primary"!==e&&(r=r[e]),t===r.start||t>r.start&&t<r.end)return i}return-1}findJumpRestrictedIndex(t,e){const n=this.items;if(n)for(let i=t;i<=e&&n[i];i++){const t=n[i].event;if(null!=t&&t.restrictions.jump&&!t.appendInPlace)return i}return-1}findEventIndex(t){const e=this.items;if(e)for(let i=e.length;i--;){var n;if((null==(n=e[i].event)?void 0:n.identifier)===t)return i}return-1}findAssetIndex(t,e){const n=t.assetList,i=n.length;if(i>1)for(let t=0;t<i;t++){const r=n[t];if(!r.error){const n=r.timelineStart;if(e===n||e>n&&(e<n+(r.duration||0)||t===i-1))return t}}return 0}get assetIdAtEnd(){var t;const e=null==(t=this.items)||null==(t=t[this.length-1])?void 0:t.event;if(e){const t=e.assetList,n=t[t.length-1];if(n)return n.identifier}return null}parseInterstitialDateRanges(t,e){const n=t.main.details,{dateRanges:i}=n,r=this.events,s=this.parseDateRanges(i,{url:n.url},e),a=Object.keys(i),o=r?r.filter((t=>!a.includes(t.identifier))):[];s.length&&s.sort(((t,e)=>{const n=t.cue.pre,i=t.cue.post,r=e.cue.pre,s=e.cue.post;if(n&&!r)return-1;if(r&&!n)return 1;if(i&&!s)return 1;if(s&&!i)return-1;if(!(n||r||i||s)){const n=t.startTime,i=e.startTime;if(n!==i)return n-i}return t.dateRange.tagOrder-e.dateRange.tagOrder})),this.events=s,o.forEach((t=>{this.removeEvent(t)})),this.updateSchedule(t,o)}updateSchedule(t,e=[],n=!1){const i=this.events||[];if(i.length||e.length||this.length<2){const r=this.items,s=this.parseSchedule(i,t);(n||e.length||(null==r?void 0:r.length)!==s.length||s.some(((t,e)=>Math.abs(t.playout.start-r[e].playout.start)>.005||Math.abs(t.playout.end-r[e].playout.end)>.005)))&&(this.items=s,this.onScheduleUpdate(e,r))}}parseDateRanges(t,e,n){const i=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const a=r[s],o=t[a];if(o.isInterstitial){let t=this.eventMap[a];t?t.setDateRange(o):(t=new Oa(o,e),this.eventMap[a]=t,!1===n&&(t.appendInPlace=n)),i.push(t)}}return i}parseSchedule(t,e){const n=[],i=e.main.details,r=i.live?1/0:i.edge;let s=0;if((t=t.filter((t=>!(t.error||t.cue.once&&t.hasPlayed)))).length){this.resolveOffsets(t,e);let i=0,o=0;if(t.forEach(((e,a)=>{const l=e.cue.pre,c=e.cue.post,u=t[a-1]||null,d=e.appendInPlace,h=c?r:e.startOffset,f=e.duration,p=e.timelineOccupancy===La.Range?f:0,m=e.resumptionOffset,g=(null==u?void 0:u.startTime)===h,v=h+e.cumulativeDuration;let y=d?v+f:h+m;if(l||!c&&h<=0){const t=o;o+=p,e.timelineStart=v;const i=s;s+=f,n.push({event:e,start:v,end:y,playout:{start:i,end:s},integrated:{start:t,end:o}})}else{if(!(h<=r))return;{if(!g){const r=h-i;if(r>.033){const l=i,c=o;o+=r;const u=s;s+=r;const d={previousEvent:t[a-1]||null,nextEvent:e,start:l,end:l+r,playout:{start:u,end:s},integrated:{start:c,end:o}};n.push(d)}else r>0&&u&&(u.cumulativeDuration+=r,n[n.length-1].end=h)}c&&(y=v),e.timelineStart=v;const r=o;o+=p;const l=s;s+=f,n.push({event:e,start:v,end:y,playout:{start:l,end:s},integrated:{start:r,end:o}})}}const b=e.resumeTime;i=c||b>r?r:b})),i<r){var a;const t=i,e=o,l=r-i;o+=l;const c=s;s+=l,n.push({previousEvent:(null==(a=n[n.length-1])?void 0:a.event)||null,nextEvent:null,start:i,end:t+l,playout:{start:c,end:s},integrated:{start:e,end:o}})}this.setDurations(r,s,o)}else{const t=0;n.push({previousEvent:null,nextEvent:null,start:t,end:r,playout:{start:t,end:r},integrated:{start:t,end:r}}),this.setDurations(r,r,r)}return n}setDurations(t,e,n){this.durations={primary:t,playout:e,integrated:n}}resolveOffsets(t,e){const n=e.main.details,r=n.live?1/0:n.edge;let s=0,a=-1;t.forEach(((o,l)=>{const c=o.cue.pre,u=o.cue.post,d=c?0:u?r:o.startTime;this.updateAssetDurations(o);if(a===d?o.cumulativeDuration=s:(s=0,a=d),!u&&o.snapOptions.in&&(o.resumeAnchor=fe(null,n.fragments,o.startOffset+o.resumptionOffset,0,0)||void 0),o.appendInPlace&&!o.appendInPlaceStarted){this.primaryCanResumeInPlaceAt(o,e)||(o.appendInPlace=!1)}if(!o.appendInPlace&&l+1<t.length){t[l+1].startTime-t[l].resumeTime<.033&&(t[l+1].appendInPlace=!1,t[l+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${o}`))}const h=i(o.resumeOffset)?o.resumeOffset:o.duration;s+=h}))}primaryCanResumeInPlaceAt(t,e){const n=t.resumeTime,i=t.startTime+t.resumptionOffset;if(Math.abs(n-i)>Da)return this.log(`"${t.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1;return!Object.keys(e).some((i=>{const r=e[i].details,s=r.edge;if(n>=s)return this.log(`"${t.identifier}" resumption ${n} past ${i} playlist end ${s}`),!1;const a=fe(null,r.fragments,n);if(!a)return this.log(`"${t.identifier}" resumption ${n} does not align with any fragments in ${i} playlist (${r.fragStart}-${r.fragmentEnd})`),!0;const o="audio"===i?.175:0;return!(Math.abs(a.start-n)<Da+o||Math.abs(a.end-n)<Da+o)&&(this.log(`"${t.identifier}" resumption ${n} not aligned with ${i} fragment bounds (${a.start}-${a.end} sn: ${a.sn} cc: ${a.cc})`),!0)}))}updateAssetDurations(t){if(!t.assetListLoaded)return;const e=t.timelineStart;let n=0,i=!1,r=!1;for(let s=0;s<t.assetList.length;s++){const a=t.assetList[s],o=e+n;a.startOffset=n,a.timelineStart=o,i||(i=null===a.duration),r||(r=!!a.error);n+=a.error?0:a.duration||0}t.duration=i&&!r?Math.max(n,t.duration):n}removeEvent(t){t.reset(),delete this.eventMap[t.identifier]}}function Ba(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class Ua{constructor(t){this.hls=void 0,this.hls=t}destroy(){this.hls=null}loadAssetList(t,e){const n=t.assetListUrl;let i;try{i=Ma(n,this.hls.sessionId,t.baseUrl)}catch(e){const i=this.assignAssetListError(t,o.ASSET_LIST_LOAD_ERROR,e,n);return void this.hls.trigger(l.ERROR,i)}e&&"data:"!==i.protocol&&i.searchParams.set("_HLS_start_offset",""+e);const r=this.hls.config,s=new(0,r.loader)(r),a={responseType:"json",url:i.href},c=r.interstitialAssetListLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(e,n,i,r)=>{const s=e.data,a=null==s?void 0:s.ASSETS;if(Array.isArray(a))t.assetListResponse=s,this.hls.trigger(l.ASSET_LIST_LOADED,{event:t,assetListResponse:s,networkDetails:r});else{const e=this.assignAssetListError(t,o.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),i.url,n,r);this.hls.trigger(l.ERROR,e)}},onError:(e,n,i,r)=>{const s=this.assignAssetListError(t,o.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${e.code} ${e.text} (${n.url})`),n.url,r,i);this.hls.trigger(l.ERROR,s)},onTimeout:(e,n,i)=>{const r=this.assignAssetListError(t,o.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${n.url})`),n.url,e,i);this.hls.trigger(l.ERROR,r)}};return s.load(a,u,d),this.hls.trigger(l.ASSET_LIST_LOADING,{event:t}),s}assignAssetListError(t,e,n,i,r,s){return t.error=n,{type:a.NETWORK_ERROR,details:e,fatal:!1,interstitial:t,url:i,error:n,networkDetails:s,stats:r}}}function Ha(t){var e;null==t||null==(e=t.play())||e.catch((()=>{}))}function Ga(t,e){return`[${t}] Advancing timeline position to ${e}`}class qa{constructor(t){this.buffered=void 0;const e=(e,n,i)=>{if((n>>>=0)>i-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${i})`);return t[n][e]};this.buffered={get length(){return t.length},end:n=>e("end",n,t.length),start:n=>e("start",n,t.length)}}}const Wa={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Va=t=>String.fromCharCode(Wa[t]||t),Ka=15,za=100,Ya={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Qa={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Xa={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Za={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ja=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class to{constructor(){this.time=null,this.verboseLevel=0}log(t,e){if(this.verboseLevel>=t){const n="function"==typeof e?e():e;A.log(`${this.time} [${t}] ${n}`)}}}const eo=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].toString(16));return e};class no{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let n=0;n<e.length;n++){const i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class io{constructor(){this.uchar=" ",this.penState=new no}reset(){this.uchar=" ",this.penState.reset()}setChar(t,e){this.uchar=t,this.penState.copy(e)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class ro{constructor(t){this.chars=[],this.pos=0,this.currPenState=new no,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<za;t++)this.chars.push(new io);this.logger=t}equals(t){for(let e=0;e<za;e++)if(!this.chars[e].equals(t.chars[e]))return!1;return!0}copy(t){for(let e=0;e<za;e++)this.chars[e].copy(t.chars[e])}isEmpty(){let t=!0;for(let e=0;e<za;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>za&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=za)}moveCursor(t){const e=this.pos+t;if(t>1)for(let t=this.pos+1;t<e+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const e=Va(t);this.pos>=za?this.logger.log(0,(()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(t){let e;for(e=t;e<za;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let e=!0;for(let n=0;n<za;n++){const i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t);this.chars[this.pos].setPenState(this.currPenState)}}class so{constructor(t){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let e=0;e<Ka;e++)this.rows.push(new ro(t));this.logger=t}reset(){for(let t=0;t<Ka;t++)this.rows[t].clear();this.currRow=14}equals(t){let e=!0;for(let n=0;n<Ka;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e}copy(t){for(let e=0;e<Ka;e++)this.rows[e].copy(t.rows[e])}isEmpty(){let t=!0;for(let e=0;e<Ka;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t);this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,(()=>"pacData = "+ie(t)));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let t=0;t<Ka;t++)this.rows[t].clear();const t=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const i=n.rows[t].cueStartTime,r=this.logger.time;if(null!==i&&null!==r&&i<r)for(let i=0;i<this.nrRollUpRows;i++)this.rows[e-this.nrRollUpRows+i+1].copy(n.rows[t+i])}}this.currRow=e;const n=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,i=Math.max(e-1,0);n.setCursor(t.indent),t.color=n.chars[i].penState.foreground}const i={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(t){this.logger.log(2,(()=>"bkgData = "+ie(t))),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const e=[];let n="",i=-1;for(let n=0;n<Ka;n++){const r=this.rows[n].getTextString();r&&(i=n+1,t?e.push("Row "+i+": '"+r+"'"):e.push(r.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n}getTextAndFormat(){return this.rows}}class ao{constructor(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new so(n),this.nonDisplayedMemory=new so(n),this.lastOutputScreen=new so(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(()=>"MODE="+t)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>e+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{const n=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=i[n]}this.logger.log(2,"MIDROW: "+ie(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class oo{constructor(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const i=this.logger=new to;this.channels=[null,new ao(t,e,i),new ao(t+1,n,i)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e)}addData(t,e){this.logger.time=t;for(let t=0;t<e.length;t+=2){const n=127&e[t],i=127&e[t+1];let r=!1,s=null;if(0===n&&0===i)continue;this.logger.log(3,(()=>"["+eo([e[t],e[t+1]])+"] -> ("+eo([n,i])+")"));const a=this.cmdHistory;if(n>=16&&n<=31){if(co(n,i,a)){lo(null,null,a),this.logger.log(3,(()=>"Repeated command ("+eo([n,i])+") is dropped"));continue}lo(n,i,this.cmdHistory),r=this.parseCmd(n,i),r||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i))}else lo(null,null,a);if(!r&&(s=this.parseChars(n,i),s)){const t=this.currentChannel;if(t&&t>0){this.channels[t].insertChars(s)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}r||s||this.logger.log(2,(()=>"Couldn't parse cleaned data "+eo([n,i])+" orig: "+eo([e[t],e[t+1]])))}}parseCmd(t,e){if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;const n=20===t||21===t||23===t?1:2,i=this.channels[n];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.currentChannel=n,!0}parseMidrow(t,e){let n=0;if((17===t||25===t)&&e>=32&&e<=47){if(n=17===t?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return!!i&&(i.ccMIDROW(e),this.logger.log(3,(()=>"MIDROW ("+eo([t,e])+")")),!0)}return!1}parsePAC(t,e){let n;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;const i=t<=23?1:2;n=e>=64&&e<=95?1===i?Ya[t]:Xa[t]:1===i?Qa[t]:Za[t];const r=this.channels[i];return!!r&&(r.setPAC(this.interpretPAC(n,e)),this.currentChannel=i,!0)}interpretPAC(t,e){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i}parseChars(t,e){let n,i=null,r=null;if(t>=25?(n=2,r=t-8):(n=1,r=t),r>=17&&r<=19){let t;t=17===r?e+80:18===r?e+112:e+144,this.logger.log(2,(()=>"Special char '"+Va(t)+"' in channel "+n)),i=[t]}else t>=32&&t<=127&&(i=0===e?[t]:[t,e]);return i&&this.logger.log(3,(()=>"Char codes =  "+eo(i).join(","))),i}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;let n;const i={};16===t||24===t?(n=Math.floor((e-32)/2),i.background=Ja[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0));const r=t<=23?1:2;return this.channels[r].setBkgData(i),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset()}lo(null,null,this.cmdHistory)}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const n=this.channels[e];n&&n.cueSplitAtTime(t)}}}function lo(t,e,n){n.a=t,n.b=e}function co(t,e,n){return n.a===t&&n.b===e}var uo=function(){if(null!=Tn&&Tn.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;const n=e.toLowerCase();return!!~t.indexOf(n)&&n}function i(t){return n(e,t)}function r(t,...e){let n=1;for(;n<arguments.length;n++){const e=arguments[n];for(const n in e)t[n]=e[n]}return t}function s(e,s,a){const o=this,l={enumerable:!0};o.hasBeenReset=!1;let c="",u=!1,d=e,h=s,f=a,p=null,m="",g=!0,v="auto",y="start",b=50,_="middle",E=50,S="middle";Object.defineProperty(o,"id",r({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(o,"pauseOnExit",r({},l,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(o,"startTime",r({},l,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",r({},l,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",r({},l,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",r({},l,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",r({},l,{get:function(){return m},set:function(e){const i=function(e){return n(t,e)}(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");m=i,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",r({},l,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",r({},l,{get:function(){return v},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",r({},l,{get:function(){return y},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",r({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",r({},l,{get:function(){return _},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",r({},l,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",r({},l,{get:function(){return S},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");S=e,this.hasBeenReset=!0}})),o.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s}();class ho{decode(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function fo(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(i||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class po{constructor(){this.values=Object.create(null)}set(t,e){this.get(t)||""===e||(this.values[t]=e)}get(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,n){for(let i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const n=parseFloat(e);if(n>=0&&n<=100)return this.set(t,n),!0}return!1}}function mo(t,e,n,i){const r=i?t.split(i):[t];for(const t in r){if("string"!=typeof r[t])continue;const i=r[t].split(n);if(2!==i.length)continue;e(i[0],i[1])}}const go=new uo(0,0,""),vo="middle"===go.align?"middle":"center";function yo(t,e,n){const i=t;function r(){const e=fo(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=r(),s(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.slice(3),s(),e.endTime=r(),s(),function(t,e){const i=new po;mo(t,(function(t,e){let r;switch(t){case"region":for(let r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":r=e.split(","),i.integer(t,r[0]),i.percent(t,r[0])&&i.set("snapToLines",!1),i.alt(t,r[0],["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start",vo,"end"]);break;case"position":r=e.split(","),i.percent(t,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start",vo,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",vo,"end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");let r=i.get("line","auto");"auto"===r&&-1===go.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",vo);let s=i.get("position","auto");"auto"===s&&50===go.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}function bo(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class _o{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new ho,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const e=this;function n(){let t=e.buffer,n=0;for(t=bo(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;const i=t.slice(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.slice(n),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=n();const i=t.match(/^()?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let i=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(i?i=!1:t=n(),e.state){case"HEADER":/:/.test(t)?mo(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new uo(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{yo(t,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==t.indexOf("--\x3e");if(!t||n&&(i=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t}continue;case"BADCUE":t||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this}}const Eo=/\r\n|\n\r|\n|\r/g,So=function(t,e,n=0){return t.slice(n,n+e.length)===e};function To(t,e,n){return Ia(t.toString())+Ia(e.toString())+Ia(n)}function wo(t,e,n,r,s,a,o){const l=new _o,c=L(new Uint8Array(t)).trim().replace(Eo,"\n").split("\n"),u=[],d=e?function(t,e=1){return Fr(t,Nr,1/e)}(e.baseTime,e.timescale):0;let h,f="00:00.000",p=0,m=0,g=!0;l.oncue=function(t){const i=n[r];let a=n.ccOffset;const o=(p-d)/9e4;if(null!=i&&i.new&&(void 0!==m?a=n.ccOffset=i.start:function(t,e,n){let i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;null!=(s=r)&&s.new;){var s;t.ccOffset+=i.start-r.start,i.new=!1,i=r,r=t[i.prevCC]}t.presentationOffset=n}(n,r,o)),o){if(!e)return void(h=new Error("Missing initPTS for VTT MPEGTS"));a=o-n.presentationOffset}const l=t.endTime-t.startTime,c=Wr(9e4*(t.startTime+a-m),9e4*s)/9e4;t.startTime=Math.max(c,0),t.endTime=Math.max(c+l,0);const f=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(f)),t.id||(t.id=To(t.startTime,t.endTime,f)),t.endTime>0&&u.push(t)},l.onparsingerror=function(t){h=t},l.onflush=function(){h?o(h):a(u)},c.forEach((t=>{if(g){if(So(t,"X-TIMESTAMP-MAP=")){g=!1,t.slice(16).split(",").forEach((t=>{So(t,"LOCAL:")?f=t.slice(6):So(t,"MPEGTS:")&&(p=parseInt(t.slice(7)))}));try{m=function(t){let e=parseInt(t.slice(-3));const n=parseInt(t.slice(-6,-4)),r=parseInt(t.slice(-9,-7)),s=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(i(e)&&i(n)&&i(r)&&i(s)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e+=1e3*n,e+=6e4*r,e+=36e5*s,e}(f)/1e3}catch(t){h=t}return}""===t&&(g=!1)}l.parse(t+"\n")})),l.flush()}const ko="stpp.ttml.im1t",Co=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,xo=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Ao={left:"start",center:"center",right:"end",start:"start",end:"end"};function Io(t,e,n,i){const r=at(new Uint8Array(t),["mdat"]);if(0===r.length)return void i(new Error("Could not parse IMSC1 mdat"));const s=r.map((t=>L(t))),a=function(t,e,n=1,i=!1){return Fr(t,e,1/n,i)}(e.baseTime,1,e.timescale);try{s.forEach((t=>n(function(t,e){const n=(new DOMParser).parseFromString(t,"text/xml"),i=n.getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(r).reduce(((t,e)=>(t[e]=i.getAttribute(`ttp:${e}`)||r[e],t)),{}),a="preserve"!==i.getAttribute("xml:space"),o=Lo(Do(i,"styling","style")),l=Lo(Do(i,"layout","region")),c=Do(i,"body","[begin]");return[].map.call(c,(t=>{const n=Po(t,a);if(!n||!t.hasAttribute("begin"))return null;const i=Mo(t.getAttribute("begin"),s),r=Mo(t.getAttribute("dur"),s);let c=Mo(t.getAttribute("end"),s);if(null===i)throw Ro(t);if(null===c){if(null===r)throw Ro(t);c=i+r}const u=new uo(i-e,c-e,n);u.id=To(u.startTime,u.endTime,u.text);const d=function(t,e,n){const i="http://www.w3.org/ns/ttml#styling";let r=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;a&&n.hasOwnProperty(a)&&(r=n[a]);return s.reduce(((n,s)=>{const a=Oo(e,i,s)||Oo(t,i,s)||Oo(r,i,s);return a&&(n[s]=a),n}),{})}(l[t.getAttribute("region")],o[t.getAttribute("style")],o),{textAlign:h}=d;if(h){const t=Ao[h];t&&(u.lineAlign=t),u.align=h}return b(u,d),u})).filter((t=>null!==t))}(t,a))))}catch(t){i(t)}}function Do(t,e,n){const i=t.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(n)):[]}function Lo(t){return t.reduce(((t,e)=>{const n=e.getAttribute("xml:id");return n&&(t[n]=e),t}),{})}function Po(t,e){return[].slice.call(t.childNodes).reduce(((t,n,i)=>{var r;return"br"===n.nodeName&&i?t+"\n":null!=(r=n.childNodes)&&r.length?Po(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent}),"")}function Oo(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function Ro(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Mo(t,e){if(!t)return null;let n=fo(t);return null===n&&(Co.test(t)?n=function(t,e){const n=Co.exec(t),i=(0|n[4])+(0|n[5])/e.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+i/e.frameRate}(t,e):xo.test(t)&&(n=function(t,e){const n=xo.exec(t),i=Number(n[1]);switch(n[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}(t,e))),n}class No{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}function Fo(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function $o(t,e){return!!t&&t.kind===Fo(e)&&os(e,t)}const jo=/\s/,Bo={newCue(t,e,n,i){const r=[];let s,a,o,l,c;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<i.rows.length;h++)if(s=i.rows[h],o=!0,l=0,c="",!s.isEmpty()){var d;for(let t=0;t<s.chars.length;t++)jo.test(s.chars[t].uchar)&&o?l++:(c+=s.chars[t].uchar,o=!1);s.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const i=bo(c.trim()),f=To(e,n,i);null!=t&&null!=(d=t.cues)&&d.getCueById(f)||(a=new u(e,n,i),a.id=f,a.line=h+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*l/32)),r.push(a))}return t&&r.length&&(r.sort(((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line)),r.forEach((e=>ka(t,e)))),r}};const Uo=/(\d+)-(\d+)\/(\d+)/;class Ho{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||Go,this.controller=new self.AbortController,this.stats=new G}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,e,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const s=function(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(b({},t.headers))};t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1));return n}(t,this.controller.signal),a="arraybuffer"===t.responseType,o=a?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,s),self.clearTimeout(this.requestTimeout),e.timeout=l&&i(l)?l:c,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,t,this.response))}),e.timeout);(Jr(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then((n=>{var s;this.response=this.loader=n;const o=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=c,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(r,t,this.response))}),c-(o-r.loading.start)),!n.ok){const{status:t,statusText:e}=n;throw new qo(e||"fetch, bad network response",t,n)}r.loading.first=o,r.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=Uo.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(i(t))return t}const n=t.get("Content-Length");if(n)return parseInt(n)}(n.headers)||r.total;const l=null==(s=this.callbacks)?void 0:s.onProgress;return l&&i(e.highWaterMark)?this.loadProgressively(n,r,t,e.highWaterMark,l):a?n.arrayBuffer():"json"===t.responseType?n.json():n.text()})).then((n=>{var s,a;const l=this.response;if(!l)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const c=n[o];c&&(r.loaded=r.total=c);const u={url:l.url,data:n,code:l.status},d=null==(s=this.callbacks)?void 0:s.onProgress;d&&!i(e.highWaterMark)&&d(r,t,n,l),null==(a=this.callbacks)||a.onSuccess(u,r,t,l)})).catch((e=>{var n;if(self.clearTimeout(this.requestTimeout),r.aborted)return;const i=e&&e.code||0,s=e?e.message:null;null==(n=this.callbacks)||n.onError({code:i,text:s},t,e?e.details:null,r)}))}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,n,i=0,r){const s=new ki,a=t.body.getReader(),o=()=>a.read().then((a=>{if(a.done)return s.dataLength&&r(e,n,s.flush().buffer,t),Promise.resolve(new ArrayBuffer(0));const l=a.value,c=l.length;return e.loaded+=c,c<i||s.dataLength?(s.push(l),s.dataLength>=i&&r(e,n,s.flush().buffer,t)):r(e,n,l.buffer,t),o()})).catch((()=>Promise.reject()));return o()}}function Go(t,e){return new self.Request(t.url,e)}class qo extends Error{constructor(t,e,n){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=n}}const Wo=/^age:\s*[\d.]+\s*$/im;class Vo{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new G,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:t,context:e}=this;if(!t||!e)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const r=this.xhrSetup;r?Promise.resolve().then((()=>{if(this.loader===n&&!this.stats.aborted)return r(n,e.url)})).catch((t=>{if(this.loader===n&&!this.stats.aborted)return n.open("GET",e.url,!0),r(n,e.url)})).then((()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,e,t)})).catch((t=>{var r;null==(r=this.callbacks)||r.onError({code:n.status,text:t.message},e,n,i)})):this.openAndSendXhr(n,e,t)}openAndSendXhr(t,e,n){t.readyState||t.open("GET",e.url,!0);const r=e.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=n.loadPolicy;if(r)for(const e in r)t.setRequestHeader(e,r[e]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=s&&i(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),t.send()}readystatechange(){const{context:t,loader:e,stats:n}=this;if(!t||!e)return;const i=e.readyState,r=this.config;if(!n.aborted&&i>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),r.timeout!==r.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),r.timeout=r.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===i)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const i=e.status,l="text"===e.responseType?e.responseText:null;if(i>=200&&i<300){const r=null!=l?l:e.response;if(null!=r){var s,a;n.loading.end=Math.max(self.performance.now(),n.loading.first);const o="arraybuffer"===e.responseType?r.byteLength:r.length;n.loaded=n.total=o,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first);const l=null==(s=this.callbacks)?void 0:s.onProgress;l&&l(n,t,r,e);const c={url:e.responseURL,data:r,code:i};return void(null==(a=this.callbacks)||a.onSuccess(c,n,t,e))}}const c=r.loadPolicy.errorRetry;var o;if(Te(c,n.retry,!1,{url:t.url,data:void 0,code:i}))this.retry(c);else A.error(`${i} while loading ${t.url}`),null==(o=this.callbacks)||o.onError({code:i,text:e.statusText},t,e,n)}}loadtimeout(){if(!this.config)return;const t=this.config.loadPolicy.timeoutRetry;if(Te(t,this.stats.retry,!0))this.retry(t);else{var e;A.warn(`timeout while loading ${null==(e=this.context)?void 0:e.url}`);const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:e,stats:n}=this;this.retryDelay=Ee(t,n.retry),n.retry++,A.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==e?void 0:e.url}, retrying ${n.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}getCacheAge(){let t=null;if(this.loader&&Wo.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const Ko=E(E({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:6e7,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:Vo,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class extends S{constructor(t){super("abr",t.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var e;const{fragCurrent:n,partCurrent:r,hls:s}=this,{autoLevelEnabled:a,media:o}=s;if(!n||!o)return;const c=performance.now(),u=r?r.stats:n.stats,d=r?r.duration:n.duration,h=c-u.loading.start,f=s.minAutoLevel,p=n.level,m=this._nextAutoLevel;if(u.aborted||u.loaded&&u.loaded===u.total||p<=f)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!a)return;const g=m>-1&&m!==p,v=!!t||g;if(!v&&(o.paused||!o.playbackRate||!o.readyState))return;const y=s.mainForwardBufferInfo;if(!v&&null===y)return;const b=this.bwEstimator.getEstimateTTFB(),_=Math.abs(o.playbackRate);if(h<=Math.max(b,d/(2*_)*1e3))return;const E=y?y.len/_:0,S=u.loading.first?u.loading.first-u.loading.start:-1,T=u.loaded&&S>-1,w=this.getBwEstimate(),k=s.levels,C=k[p],x=Math.max(u.loaded,Math.round(d*(n.bitrate||C.averageBitrate)/8));let A=T?h-S:h;A<1&&T&&(A=Math.min(h,8*u.loaded/w));const I=T?1e3*u.loaded/A:0,D=b/1e3,L=I?(x-u.loaded)/I:8*x/w+D;if(L<=E)return;const P=I?8*I:w,O=!0===(null==(e=(null==t?void 0:t.details)||this.hls.latestLevelDetails)?void 0:e.live),R=this.hls.config.abrBandWidthUpFactor;let M,N=Number.POSITIVE_INFINITY;for(M=p-1;M>f;M--){const t=k[M].maxBitrate,e=!k[M].details||O;if(N=this.getTimeToLoadFrag(D,P,d*t,e),N<Math.min(E,d+D))break}if(N>=L)return;if(N>10*d)return;T?this.bwEstimator.sample(h-Math.min(b,S),u.loaded):this.bwEstimator.sampleTTFB(h);const F=k[M].maxBitrate;this.getBwEstimate()*R>F&&this.resetEstimator(F);const $=this.findBestLevel(F,f,M,0,E,1,1);$>-1&&(M=$),this.warn(`Fragment ${n.sn}${r?" part "+r.index:""} of level ${p} is loading too slowly;\n      Fragment duration: ${n.duration.toFixed(3)}\n      Time to underbuffer: ${E.toFixed(3)} s\n      Estimated load time for current fragment: ${L.toFixed(3)} s\n      Estimated load time for down switch fragment: ${N.toFixed(3)} s\n      TTFB estimate: ${0|S} ms\n      Current BW estimate: ${i(w)?0|w:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${M} @ ${0|F} bps`),s.nextLoadLevel=s.nextAutoLevel=M,this.clearTimer();const j=()=>{if(this.clearTimer(),this.fragCurrent===n&&this.hls.loadLevel===M&&M>0){const t=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${M>0?"and switching down":""}\n      Fragment duration: ${n.duration.toFixed(3)} s\n      Time to underbuffer: ${t.toFixed(3)} s`),n.abortRequests(),this.fragCurrent=this.partCurrent=null,M>f){let e=this.findBestLevel(this.hls.levels[f].bitrate,f,M,0,t,1,1);-1===e&&(e=f),this.hls.nextLoadLevel=this.hls.nextAutoLevel=e,this.resetEstimator(this.hls.levels[e].bitrate)}}};g||L>2*N?j():this.timer=self.setInterval(j,1e3*N),s.trigger(l.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:u})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(this.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new v(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.FRAG_LOADING,this.onFragLoading,this),t.on(l.FRAG_LOADED,this.onFragLoaded,this),t.on(l.FRAG_BUFFERED,this.onFragBuffered,this),t.on(l.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(l.LEVEL_LOADED,this.onLevelLoaded,this),t.on(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(l.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(l.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.FRAG_LOADING,this.onFragLoading,this),t.off(l.FRAG_LOADED,this.onFragLoaded,this),t.off(l.FRAG_BUFFERED,this.onFragBuffered,this),t.off(l.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(l.LEVEL_LOADED,this.onLevelLoaded,this),t.off(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(l.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(l.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,e){const n=e.frag;if(!this.ignoreFragment(n)){var i;if(!n.bitrateTest)this.fragCurrent=n,this.partCurrent=null!=(i=e.part)?i:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(t,e){this.clearTimer()}onError(t,e){if(!e.fatal)switch(e.details){case o.BUFFER_ADD_CODEC_ERROR:case o.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case o.FRAG_LOAD_TIMEOUT:{const t=e.frag,{fragCurrent:n,partCurrent:i}=this;if(t&&n&&t.sn===n.sn&&t.level===n.level){const e=performance.now(),n=i?i.stats:t.stats,r=e-n.loading.start,s=n.loading.first?n.loading.first-n.loading.start:-1;if(n.loaded&&s>-1){const t=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(r-Math.min(t,s),n.loaded)}else this.bwEstimator.sampleTTFB(r)}break}}}getTimeToLoadFrag(t,e,n,i){return t+n/e+(i?t+this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const n=this.hls.config,{loading:r}=e.stats,s=r.end-r.first;i(s)&&(this.lastLevelLoadSec=s/1e3),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(e.levelInfo)}onFragLoaded(t,{frag:e,part:n}){const i=n?n.stats:e.stats;if(e.type===f&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),e.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const t=n?n.duration:e.duration,r=this.hls.levels[e.level],s=(r.loaded?r.loaded.bytes:0)+i.loaded,a=(r.loaded?r.loaded.duration:0)+t;r.loaded={bytes:s,duration:a},r.realBitrate=Math.round(8*s/a)}if(e.bitrateTest){const t={stats:i,frag:e,part:n,id:e.type};this.onFragBuffered(l.FRAG_BUFFERED,t),e.bitrateTest=!1}else this.lastLoadedFragLevel=e.level}}onFragBuffered(t,e){const{frag:n,part:i}=e,r=null!=i&&i.stats.loaded?i.stats:n.stats;if(r.aborted)return;if(this.ignoreFragment(n))return;const s=r.parsing.end-r.loading.start-Math.min(r.loading.first-r.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,r.loaded),r.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==f||"initSegment"===t.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:e}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,r=this.findBestLevel(n,e,t,0,i,1,1);if(r>-1)return r;const s=this.hls.firstLevel,a=Math.min(Math.max(s,e),t);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${s} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,e=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(!(-1===t||e&&n&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return t;const i=e&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,i)&&e[t].loadError<=e[i].loadError)return t}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:r,minAutoLevel:s}=n,a=e?e.duration:t?t.duration:0,o=this.getBwEstimate(),l=this.getStarvationDelay();let c=r.abrBandWidthFactor,u=r.abrBandWidthUpFactor;if(l){const t=this.findBestLevel(o,s,i,l,0,c,u);if(t>=0)return this.rebufferNotice=-1,t}let d=a?Math.min(a,r.maxStarvationDelay):r.maxStarvationDelay;if(!l){const t=this.bitrateTestDelay;if(t){d=(a?Math.min(a,r.maxLoadingDelay):r.maxLoadingDelay)-t,this.info(`bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),c=u=1}}const h=this.findBestLevel(o,s,i,l,d,c,u);if(this.rebufferNotice!==h&&(this.rebufferNotice=h,this.info(`${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`)),h>-1)return h;const f=n.levels[s],p=n.loadLevelObj;return p&&(null==f?void 0:f.bitrate)<p.bitrate?s:n.loadLevel}getStarvationDelay(){const t=this.hls,e=t.media;if(!e)return 1/0;const n=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,i=t.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,e,n,r,s,a,o){var l;const c=r+s,u=this.lastLoadedFragLevel,d=-1===u?this.hls.firstLevel:u,{fragCurrent:h,partCurrent:f}=this,{levels:p,allAudioTracks:m,loadLevel:g,config:v}=this.hls;if(1===p.length)return 0;const y=p[d],b=!(null==(l=this.hls.latestLevelDetails)||!l.live),_=-1===g||-1===u;let E,S="SDR",T=(null==y?void 0:y.frameRate)||0;const{audioPreference:w,videoPreference:k}=v,C=this.audioTracksByGroup||(this.audioTracksByGroup=se(m));let x=-1;if(_){if(-1!==this.firstSelection)return this.firstSelection;const r=this.codecTiers||(this.codecTiers=function(t,e,n,i){return t.slice(n,i+1).reduce(((t,n,i)=>{if(!n.codecSet)return t;const r=n.audioGroups;let s=t[n.codecSet];s||(t[n.codecSet]=s={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:i,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),s.minBitrate=Math.min(s.minBitrate,n.bitrate);const a=Math.min(n.height,n.width);return s.minHeight=Math.min(s.minHeight,a),s.minFramerate=Math.min(s.minFramerate,n.frameRate),s.minIndex=Math.min(s.minIndex,i),s.maxScore=Math.max(s.maxScore,n.score),s.fragmentError+=n.fragmentError,s.videoRanges[n.videoRange]=(s.videoRanges[n.videoRange]||0)+1,r&&r.forEach((t=>{if(!t)return;const n=e.groups[t];n&&(s.hasDefaultAudio=s.hasDefaultAudio||e.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(n.channels).forEach((t=>{s.channels[t]=(s.channels[t]||0)+n.channels[t]})))})),t}),{})}(p,C,e,n)),s=function(t,e,n,r,s){const a=Object.keys(t),o=null==r?void 0:r.channels,l=null==r?void 0:r.audioCodec,c=null==s?void 0:s.videoCodec,u=o&&2===parseInt(o);let d=!1,h=!1,f=1/0,p=1/0,m=1/0,g=1/0,v=0,y=[];const{preferHDR:b,allowedVideoRanges:_}=ne(e,s);for(let e=a.length;e--;){const n=t[a[e]];d||(d=n.channels[2]>0),f=Math.min(f,n.minHeight),p=Math.min(p,n.minFramerate),m=Math.min(m,n.minBitrate),_.filter((t=>n.videoRanges[t]>0)).length>0&&(h=!0)}f=i(f)?f:0,p=i(p)?p:0;const E=Math.max(1080,f),S=Math.max(30,p);m=i(m)?m:n,n=Math.max(m,n),h||(e=void 0);const T=a.length>1;return{codecSet:a.reduce(((e,i)=>{const r=t[i];if(i===e)return e;if(y=h?_.filter((t=>r.videoRanges[t]>0)):[],T){if(r.minBitrate>n)return re(i,`min bitrate of ${r.minBitrate} > current estimate of ${n}`),e;if(!r.hasDefaultAudio)return re(i,"no renditions with default or auto-select sound found"),e;if(l&&i.indexOf(l.substring(0,4))%5!=0)return re(i,`audio codec preference "${l}" not found`),e;if(o&&!u){if(!r.channels[o])return re(i,`no renditions with ${o} channel sound found (channels options: ${Object.keys(r.channels)})`),e}else if((!l||u)&&d&&0===r.channels[2])return re(i,"no renditions with stereo sound found"),e;if(r.minHeight>E)return re(i,`min resolution of ${r.minHeight} > maximum of ${E}`),e;if(r.minFramerate>S)return re(i,`min framerate of ${r.minFramerate} > maximum of ${S}`),e;if(!y.some((t=>r.videoRanges[t]>0)))return re(i,`no variants with VIDEO-RANGE of ${ie(y)} found`),e;if(c&&i.indexOf(c.substring(0,4))%5!=0)return re(i,`video codec preference "${c}" not found`),e;if(r.maxScore<v)return re(i,`max score of ${r.maxScore} < selected max of ${v}`),e}return e&&(Lt(i)>=Lt(e)||r.fragmentError>t[e].fragmentError)?e:(g=r.minIndex,v=r.maxScore,i)}),void 0),videoRanges:y,preferHDR:b,minFramerate:p,minBitrate:m,minIndex:g}}(r,S,t,w,k),{codecSet:a,videoRanges:o,minFramerate:l,minBitrate:c,minIndex:u,preferHDR:d}=s;x=u,E=a,S=d?o[o.length-1]:o[0],T=l,t=Math.max(t,c),this.log(`picked start tier ${ie(s)}`)}else E=null==y?void 0:y.codecSet,S=null==y?void 0:y.videoRange;const A=f?f.duration:h?h.duration:0,I=this.bwEstimator.getEstimateTTFB()/1e3,D=[];for(let l=n;l>=e;l--){var L;const e=p[l],h=l>d;if(!e)continue;if(v.useMediaCapabilities&&!e.supportedResult&&!e.supportedPromise){const n=navigator.mediaCapabilities;"function"==typeof(null==n?void 0:n.decodingInfo)&&Gt(e,C,S,T,t,w)?(e.supportedPromise=qt(e,C,n,this.supportedCache),e.supportedPromise.then((t=>{if(!this.hls)return;e.supportedResult=t;const n=this.hls.levels,i=n.indexOf(e);t.error?this.warn(`MediaCapabilities decodingInfo error: "${t.error}" for level ${i} ${ie(t)}`):t.supported?t.decodingInfoResults.some((t=>!1===t.smooth||!1===t.powerEfficient))&&this.log(`MediaCapabilities decodingInfo for level ${i} not smooth or powerEfficient: ${ie(t)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${i} ${ie(t)}`),i>-1&&n.length>1&&(this.log(`Removing unsupported level ${i}`),this.hls.removeLevel(i),-1===this.hls.loadLevel&&(this.hls.nextLoadLevel=0)))})).catch((t=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${t}`)}))):e.supportedResult=Ut}if((E&&e.codecSet!==E||S&&e.videoRange!==S||h&&T>e.frameRate||!h&&T>0&&T<e.frameRate||null!=(L=e.supportedResult)&&null!=(L=L.decodingInfoResults)&&L.some((t=>!1===t.smooth)))&&(!_||l!==x)){D.push(l);continue}const m=e.details,y=(f?null==m?void 0:m.partTarget:null==m?void 0:m.averagetargetduration)||A;let k;k=h?o*t:a*t;const P=A&&r>=2*A&&0===s?e.averageBitrate:e.maxBitrate,O=this.getTimeToLoadFrag(I,k,P*y,void 0===m);if(k>=P&&(l===u||0===e.loadError&&0===e.fragmentError)&&(O<=I||!i(O)||b&&!this.bitrateTestDelay||O<c)){const t=this.forcedAutoLevel;return l===g||-1!==t&&t===g||(D.length&&this.trace(`Skipped level(s) ${D.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${p[D[0]].codecs}" ${p[D[0]].videoRange}; not compatible with "${E}" ${S}`),this.info(`switch candidate:${d}->${l} adjustedbw(${Math.round(k)})-bitrate=${Math.round(k-P)} ttfb:${I.toFixed(1)} avgDuration:${y.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${O.toFixed(1)} firstSelection:${_} codecSet:${e.codecSet} videoRange:${e.videoRange} hls.loadLevel:${g}`)),_&&(this.firstSelection=l),l}}return-1}set nextAutoLevel(t){const e=this.deriveNextAutoLevel(t);this._nextAutoLevel!==e&&(this.nextAutoLevelKey="",this._nextAutoLevel=e)}deriveNextAutoLevel(t){const{maxAutoLevel:e,minAutoLevel:n}=this.hls;return Math.min(Math.max(t,n),e)}},bufferController:class extends S{constructor(t,e){var n;super("buffer-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=t=>{var e;this.hls&&"open"===(null==(e=this.mediaSource)?void 0:e.readyState)&&this.hls.pauseBuffering()},this._onStartStreaming=t=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=t=>{const{media:e,mediaSource:n}=this;t&&this.log("Media source opened"),e&&n&&(n.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(l.MEDIA_ATTACHED,{media:e,mediaSource:n}),null!==this.mediaSource&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:t,_objectUrl:e}=this;t!==e&&this.error(`Media element src was set while attaching MediaSource (${e} > ${t})`)},this.hls=t,this.fragmentTracker=e,this.appendSource=(n=I(t.config.preferManagedMediaSource),"undefined"!=typeof self&&n===self.ManagedMediaSource),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:t}=this;t.on(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.MANIFEST_PARSED,this.onManifestParsed,this),t.on(l.BUFFER_RESET,this.onBufferReset,this),t.on(l.BUFFER_APPENDING,this.onBufferAppending,this),t.on(l.BUFFER_CODECS,this.onBufferCodecs,this),t.on(l.BUFFER_EOS,this.onBufferEos,this),t.on(l.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(l.FRAG_PARSED,this.onFragParsed,this),t.on(l.FRAG_CHANGED,this.onFragChanged,this),t.on(l.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.MANIFEST_PARSED,this.onManifestParsed,this),t.off(l.BUFFER_RESET,this.onBufferReset,this),t.off(l.BUFFER_APPENDING,this.onBufferAppending,this),t.off(l.BUFFER_CODECS,this.onBufferCodecs,this),t.off(l.BUFFER_EOS,this.onBufferEos,this),t.off(l.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(l.FRAG_PARSED,this.onFragParsed,this),t.off(l.FRAG_CHANGED,this.onFragChanged,this),t.off(l.ERROR,this.onError,this)}transferMedia(){const{media:t,mediaSource:e}=this;if(!t)return null;const n={};if(this.operationQueue){const t=this.isUpdating();t||this.operationQueue.removeBlockers();const e=this.isQueued();(t||e)&&this.warn(`Transfering MediaSource with${e?" operations in queue":""}${t?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===e?b(n,i.tracks):this.sourceBuffers.forEach((t=>{const[e]=t;e&&(n[e]=b({},this.tracks[e]),this.removeBuffer(e)),t[0]=t[1]=null})),{media:t,mediaSource:e,tracks:n}}initTracks(){this.sourceBuffers=[[null,null],[null,null]],this.tracks={},this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,e){var n;let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),null!=(n=this.transferData)&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(t,e){const n=this.media=e.media;this.transferData=this.overrides=void 0;const i=I(this.appendSource);if(i){const t=!!e.mediaSource;(t||e.overrides)&&(this.transferData=e,this.overrides=e.overrides);const r=this.mediaSource=e.mediaSource||new i;if(this.assignMediaSource(r),t)this._objectUrl=n.src,this.attachTransferred();else{const t=this._objectUrl=self.URL.createObjectURL(r);if(this.appendSource)try{n.removeAttribute("src");const e=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||e&&r instanceof e,hs(n),function(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}(n,t),n.load()}catch(e){n.src=t}else n.src=t}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(t){var e,n;this.log(`${(null==(e=this.transferData)?void 0:e.mediaSource)===t?"transferred":"created"} media source: ${null==(n=t.constructor)?void 0:n.name}`),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const t=this.media,e=this.transferData;if(!e||!t)return;const n=this.tracks,i=e.tracks,r=i?Object.keys(i):null,s=r?r.length:0,a=()=>{Promise.resolve().then((()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()}))};if(i&&r&&s){if(!this.tracksReady)return this.hls.config.startFragPrefetch=!0,void this.log("attachTransferred: waiting for SourceBuffer track info");if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})\nrequired tracks: ${ie(n,((t,e)=>"initSegment"===t?void 0:e))};\ntransfer tracks: ${ie(i,((t,e)=>"initSegment"===t?void 0:e))}}`),!D(i,n)){e.mediaSource=null,e.tracks=void 0;const r=t.currentTime,s=this.details,a=Math.max(r,(null==s?void 0:s.fragments[0].start)||0);return a-r>1?void this.log(`attachTransferred: waiting for playback to reach new tracks start time ${r} -> ${a}`):(this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${a} currentTime: ${r}`),this.onMediaDetaching(l.MEDIA_DETACHING,{}),this.onMediaAttaching(l.MEDIA_ATTACHING,e),void(t.currentTime=a))}this.transferData=void 0,r.forEach((t=>{const e=t,n=i[e];if(n){const t=n.buffer;if(t){const i=this.fragmentTracker,r=n.id;if(i.hasFragments(r)||i.hasParts(r)){const n=nn.getBuffered(t);i.detectEvictedFragments(e,n,r,null,!0)}const s=fs(e),a=[e,t];this.sourceBuffers[s]=a,t.updating&&this.operationQueue&&this.operationQueue.prependBlocker(e),this.trackSourceBuffer(e,n)}}})),a(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),a()}get mediaSourceOpenOrEnded(){var t;const e=null==(t=this.mediaSource)?void 0:t.readyState;return"open"===e||"ended"===e}onMediaDetaching(t,e){const n=!!e.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:r,_objectUrl:s}=this;if(r){if(this.log("media source "+(n?"transferring":"detaching")),n)this.sourceBuffers.forEach((([t])=>{t&&this.removeBuffer(t)})),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const t="open"===r.readyState;try{const e=r.sourceBuffers;for(let n=e.length;n--;)t&&e[n].abort(),r.removeSourceBuffer(e[n]);t&&r.endOfStream()}catch(t){this.warn(`onMediaDetaching: ${t.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(r.removeEventListener("startstreaming",this._onStartStreaming),r.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(s&&self.URL.revokeObjectURL(s),this.mediaSrc===s?(i.removeAttribute("src"),this.appendSource&&hs(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(l.MEDIA_DETACHED,e)}onBufferReset(){this.sourceBuffers.forEach((([t])=>{t&&this.resetBuffer(t)})),this.initTracks()}resetBuffer(t){var e;const n=null==(e=this.tracks[t])?void 0:e.buffer;if(this.removeBuffer(t),n)try{var i;null!=(i=this.mediaSource)&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(e){this.warn(`onBufferReset ${t}`,e)}delete this.tracks[t]}removeBuffer(t){this.removeBufferListeners(t),this.sourceBuffers[fs(t)]=[null,null];const e=this.tracks[t];e&&(e.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new ls(this.tracks)}onBufferCodecs(t,e){var n;const i=this.tracks,r=Object.keys(e);this.log(`BUFFER_CODECS: "${r}" (current SB count ${this.sourceBufferCount})`);const s="audiovideo"in e&&(i.audio||i.video)||i.audiovideo&&("audio"in e||"video"in e),a=!s&&this.sourceBufferCount&&this.media&&r.some((t=>!i[t]));s||a?this.warn(`Unsupported transition between "${Object.keys(i)}" and "${r}" SourceBuffers`):(r.forEach((t=>{var n,r;const s=e[t],{id:a,codec:o,levelCodec:l,container:c,metadata:u,supplemental:d}=s;let h=i[t];const f=null==(n=this.transferData)||null==(n=n.tracks)?void 0:n[t],p=null!=f&&f.buffer?f:h,m=(null==p?void 0:p.pendingCodec)||(null==p?void 0:p.codec),g=null==p?void 0:p.levelCodec;h||(h=i[t]={buffer:void 0,listeners:[],codec:o,supplemental:d,container:c,levelCodec:l,metadata:u,id:a});const v=Mt(m,g),y=null==v?void 0:v.replace(cs,"$1");let b=Mt(o,l);const _=null==(r=b)?void 0:r.replace(cs,"$1");b&&v&&y!==_&&("audio"===t.slice(0,5)&&(b=Rt(b,this.appendSource)),this.log(`switching codec ${m} to ${b}`),b!==(h.pendingCodec||h.codec)&&(h.pendingCodec=b),h.container=c,this.appendChangeType(t,c,b))})),(this.tracksReady||this.sourceBufferCount)&&(e.tracks=this.sourceBufferTracks),this.sourceBufferCount||(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!e.video&&"main"===(null==(n=e.audio)?void 0:n.id)&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks()))}get sourceBufferTracks(){return Object.keys(this.tracks).reduce(((t,e)=>{const n=this.tracks[e];return t[e]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},t}),{})}appendChangeType(t,e,n){const i=`${e};codecs=${n}`,r={label:`change-type=${i}`,execute:()=>{const r=this.tracks[t];if(r){const s=r.buffer;null!=s&&s.changeType&&(this.log(`changing ${t} sourceBuffer type to ${i}`),s.changeType(i),r.codec=n,r.container=e)}this.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:e=>{this.warn(`Failed to change ${t} SourceBuffer type`,e)}};this.append(r,t,this.isPending(this.tracks[t]))}blockAudio(t){var e;const n=t.start,i=n+.05*t.duration;if(!0===(null==(e=this.fragmentTracker.getAppendedFrag(n,f))?void 0:e.gap))return;const r={label:"block-audio",execute:()=>{var t;const e=this.tracks.video;(this.lastVideoAppendEnd>i||null!=e&&e.buffer&&nn.isBuffered(e.buffer,i)||!0===(null==(t=this.fragmentTracker.getAppendedFrag(i,f))?void 0:t.gap))&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn("Error executing block-audio operation",t)}};this.blockedAudioAppend={op:r,frag:t},this.append(r,"audio",!0)}unblockAudio(){const{blockedAudioAppend:t,operationQueue:e}=this;t&&e&&(this.blockedAudioAppend=null,e.unblockAudio(t.op))}onBufferAppending(t,e){const{tracks:n}=this,{data:r,type:s,parent:c,frag:u,part:d,chunkMeta:h,offset:p}=e,m=h.buffering[s],{sn:g,cc:v}=u,y=self.performance.now();m.start=y;const b=u.stats.buffering,_=d?d.stats.buffering:null;0===b.start&&(b.start=y),_&&0===_.start&&(_.start=y);const E=n.audio;let S=!1;"audio"===s&&"audio/mpeg"===(null==E?void 0:E.container)&&(S=!this.lastMpegAudioChunk||1===h.id||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);const T=n.video,w=null==T?void 0:T.buffer;if(w&&"initSegment"!==g){const t=d||u,e=this.blockedAudioAppend;if("audio"!==s||"main"===c||this.blockedAudioAppend||T.ending||T.ended){if("video"===s){const n=t.end;if(e){const t=e.frag.start;(n>t||n<this.lastVideoAppendEnd||nn.isBuffered(w,t))&&this.unblockAudio()}this.lastVideoAppendEnd=n}}else{const e=t.start+.05*t.duration,n=w.buffered,i=this.currentOp("video");n.length||i?!i&&!nn.isBuffered(w,e)&&this.lastVideoAppendEnd<e&&this.blockAudio(t):this.blockAudio(t)}}const k=(d||u).start,C={label:`append-${s}`,execute:()=>{var t;m.executeStart=self.performance.now();const e=null==(t=this.tracks[s])?void 0:t.buffer;e&&(S?this.updateTimestampOffset(e,k,.1,s,g,v):void 0!==p&&i(p)&&this.updateTimestampOffset(e,p,1e-6,s,g,v)),this.appendExecutor(r,s)},onStart:()=>{},onComplete:()=>{const t=self.performance.now();m.executeEnd=m.end=t,0===b.first&&(b.first=t),_&&0===_.first&&(_.first=t);const e={};this.sourceBuffers.forEach((([t,n])=>{t&&(e[t]=nn.getBuffered(n))})),this.appendErrors[s]=0,"audio"===s||"video"===s?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(l.BUFFER_APPENDED,{type:s,frag:u,part:d,chunkMeta:h,parent:u.type,timeRanges:e})},onError:t=>{var e;const n={type:a.MEDIA_ERROR,parent:u.type,details:o.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:u,part:d,chunkMeta:h,error:t,err:t,fatal:!1},i=null==(e=this.media)?void 0:e.error;if(t.code===DOMException.QUOTA_EXCEEDED_ERR||"QuotaExceededError"==t.name||"quota"in t)n.details=o.BUFFER_FULL_ERROR;else if(t.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!i)n.errorAction=Oe(!0);else if(t.name===us&&0===this.sourceBufferCount)n.errorAction=Oe(!0);else{const t=++this.appendErrors[s];this.warn(`Failed ${t}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer (${i||"no media error"})`),(t>=this.hls.config.appendErrorMaxRetry||i)&&(n.fatal=!0)}this.hls.trigger(l.ERROR,n)}};this.log(`queuing "${s}" append sn: ${g}${d?" p: "+d.index:""} of ${u.type===f?"level":"track"} ${u.level} cc: ${v}`),this.append(C,s,this.isPending(this.tracks[s]))}getFlushOp(t,e,n){return this.log(`queuing "${t}" remove ${e}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(t,e,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(l.BUFFER_FLUSHED,{type:t})},onError:i=>{this.warn(`Failed to remove ${e}-${n} from "${t}" SourceBuffer`,i)}}}onBufferFlushing(t,e){const{type:n,startOffset:i,endOffset:r}=e;n?this.append(this.getFlushOp(n,i,r),n):this.sourceBuffers.forEach((([t])=>{t&&this.append(this.getFlushOp(t,i,r),t)}))}onFragParsed(t,e){const{frag:n,part:i}=e,r=[],s=i?i.elementaryStreams:n.elementaryStreams;s[V]?r.push("audiovideo"):(s[q]&&r.push("audio"),s[W]&&r.push("video"));0===r.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers((()=>{const t=self.performance.now();n.stats.buffering.end=t,i&&(i.stats.buffering.end=t);const e=i?i.stats:n.stats;this.hls.trigger(l.FRAG_BUFFERED,{frag:n,part:i,stats:e,id:n.type})}),r).catch((t=>{this.warn(`Fragment buffered callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)}))}onFragChanged(t,e){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some((([t])=>{if(t){const e=this.tracks[t];if(e)return!e.ended||e.ending}return!1}))}onBufferEos(t,e){var n;this.sourceBuffers.forEach((([t])=>{if(t){const n=this.tracks[t];e.type&&e.type!==t||(n.ending=!0,n.ended||(n.ended=!0,this.log(`${t} buffer reached EOS`)))}}));const i=!1!==(null==(n=this.overrides)?void 0:n.endOfStream);this.sourceBufferCount>0&&!this.sourceBuffers.some((([t])=>{var e;return t&&!(null!=(e=this.tracks[t])&&e.ended)}))?i?(this.log("Queueing EOS"),this.blockUntilOpen((()=>{this.tracksEnded();const{mediaSource:t}=this;t&&"open"===t.readyState?(this.log("Calling mediaSource.endOfStream()"),t.endOfStream(),this.hls.trigger(l.BUFFERED_TO_END,void 0)):t&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`)}))):(this.tracksEnded(),this.hls.trigger(l.BUFFERED_TO_END,void 0)):"video"===e.type&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach((([t])=>{if(null!==t){const e=this.tracks[t];e&&(e.ending=!1)}}))}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.updateDuration())}updateDuration(){this.blockUntilOpen((()=>{const t=this.getDurationAndRange();t&&this.updateMediaSource(t)}))}onError(t,e){if(e.details===o.BUFFER_APPEND_ERROR&&e.frag){var n;const t=null==(n=e.errorAction)?void 0:n.nextAutoLevel;i(t)&&t!==e.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:t,details:e,media:n}=this;if(!n||null===e)return;if(!this.sourceBufferCount)return;const r=t.config,s=n.currentTime,a=e.levelTargetDuration,o=e.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(i(o)&&o>=0){const t=Math.max(o,a),e=Math.floor(s/a)*a-t;this.flushBackBuffer(s,a,e)}const l=r.frontBufferFlushThreshold;if(i(l)&&l>0){const t=Math.max(r.maxBufferLength,l),e=Math.max(t,a),n=Math.floor(s/a)*a+e;this.flushFrontBuffer(s,a,n)}}flushBackBuffer(t,e,n){this.sourceBuffers.forEach((([t,e])=>{if(e){const r=nn.getBuffered(e);if(r.length>0&&n>r.start(0)){var i;this.hls.trigger(l.BACK_BUFFER_REACHED,{bufferEnd:n});const e=this.tracks[t];if(null!=(i=this.details)&&i.live)this.hls.trigger(l.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(null!=e&&e.ended)return void this.log(`Cannot flush ${t} back buffer while SourceBuffer is in ended state`);this.hls.trigger(l.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:t})}}}))}flushFrontBuffer(t,e,n){this.sourceBuffers.forEach((([e,i])=>{if(i){const r=nn.getBuffered(i),s=r.length;if(s<2)return;const a=r.start(s-1),o=r.end(s-1);if(n>a||t>=a&&t<=o)return;this.hls.trigger(l.BUFFER_FLUSHING,{startOffset:a,endOffset:1/0,type:e})}}))}getDurationAndRange(){var t;const{details:e,mediaSource:n}=this;if(!e||!this.media||"open"!==(null==n?void 0:n.readyState))return null;const r=e.edge;if(e.live&&this.hls.config.liveDurationInfinity){if(e.fragments.length&&n.setLiveSeekableRange){const t=Math.max(0,e.fragmentStart);return{duration:1/0,start:t,end:Math.max(t,r)}}return{duration:1/0}}const s=null==(t=this.overrides)?void 0:t.duration;if(s)return i(s)?{duration:s}:null;const a=this.media.duration;return r>(i(n.duration)?n.duration:0)&&r>a||!i(a)?{duration:r}:null}updateMediaSource({duration:t,start:e,end:n}){const r=this.mediaSource;this.media&&r&&"open"===r.readyState&&(r.duration!==t&&(i(t)&&this.log(`Updating MediaSource duration to ${t.toFixed(3)}`),r.duration=t),void 0!==e&&void 0!==n&&(this.log(`MediaSource duration is set to ${r.duration}. Setting seekable range to ${e}-${n}.`),r.setLiveSeekableRange(e,n)))}get tracksReady(){const t=this.pendingTrackCount;return t>0&&(t>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:t,pendingTrackCount:e,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${e} codec events expected: ${t}) ${ie(n)}`),this.tracksReady){var i;const t=null==(i=this.transferData)?void 0:i.tracks;t&&Object.keys(t).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const t={};this.sourceBuffers.forEach((([e,n])=>{if(e){const i=this.tracks[e];t[e]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}})),this.hls.trigger(l.BUFFER_CREATED,{tracks:t}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach((([t])=>{this.executeNext(t)}))}else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}createSourceBuffers(){const{tracks:t,sourceBuffers:e,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const r in t){const s=r,c=t[s];if(this.isPending(c)){const t=this.getTrackCodec(c,s),r=`${c.container};codecs=${t}`;c.codec=t,this.log(`creating sourceBuffer(${r})${this.currentOp(s)?" Queued":""} ${ie(c)}`);try{const t=n.addSourceBuffer(r),i=fs(s),a=[s,t];e[i]=a,c.buffer=t}catch(t){var i;return this.error(`error while trying to add sourceBuffer: ${t.message}`),this.shiftAndExecuteNext(s),null==(i=this.operationQueue)||i.removeBlockers(),delete this.tracks[s],void this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,sourceBufferName:s,mimeType:r,parent:c.id})}this.trackSourceBuffer(s,c)}}this.bufferCreated()}getTrackCodec(t,e){const n=t.supplemental;let i=t.codec;n&&("video"===e||"audiovideo"===e)&&xt(n,"video")&&(i=function(t,e){const n=[];if(t){const e=t.split(",");for(let t=0;t<e.length;t++)Ct(e[t],"video")||n.push(e[t])}return e&&n.push(e),n.join(",")}(i,n));const r=Mt(i,t.levelCodec);return r?"audio"===e.slice(0,5)?Rt(r,this.appendSource):r:""}trackSourceBuffer(t,e){const n=e.buffer;if(!n)return;const i=this.getTrackCodec(e,t);this.tracks[t]={buffer:n,codec:i,container:e.container,levelCodec:e.levelCodec,supplemental:e.supplemental,metadata:e.metadata,id:e.id,listeners:[]},this.removeBufferListeners(t),this.addBufferListener(t,"updatestart",this.onSBUpdateStart),this.addBufferListener(t,"updateend",this.onSBUpdateEnd),this.addBufferListener(t,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(t,"bufferedchange",((t,e)=>{const n=e.removedRanges;null!=n&&n.length&&this.hls.trigger(l.BUFFER_FLUSHED,{type:t})}))}get mediaSrc(){var t,e;const n=(null==(t=this.media)||null==(e=t.querySelector)?void 0:e.call(t,"source"))||this.media;return null==n?void 0:n.src}onSBUpdateStart(t){const e=this.currentOp(t);e&&e.onStart()}onSBUpdateEnd(t){var e;if("closed"===(null==(e=this.mediaSource)?void 0:e.readyState))return void this.resetBuffer(t);const n=this.currentOp(t);n&&(n.onComplete(),this.shiftAndExecuteNext(t))}onSBUpdateError(t,e){var n;const i=new Error(`${t} SourceBuffer error. MediaSource readyState: ${null==(n=this.mediaSource)?void 0:n.readyState}`);this.error(`${i}`,e),this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:i,fatal:!1});const r=this.currentOp(t);r&&r.onError(i)}updateTimestampOffset(t,e,n,i,r,s){const a=e-t.timestampOffset;Math.abs(a)>=n&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${e} (sn: ${r} cc: ${s})`),t.timestampOffset=e)}removeExecutor(t,e,n){const{media:r,mediaSource:s}=this,a=this.tracks[t],o=null==a?void 0:a.buffer;if(!r||!s||!o)return this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void this.shiftAndExecuteNext(t);const l=i(r.duration)?r.duration:1/0,c=i(s.duration)?s.duration:1/0,u=Math.max(0,e),d=Math.min(n,l,c);d>u&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${u},${d}] from the ${t} SourceBuffer`),o.remove(u,d)):this.shiftAndExecuteNext(t)}appendExecutor(t,e){const n=this.tracks[e],i=null==n?void 0:n.buffer;if(!i)throw new ds(`Attempting to append to the ${e} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(t)}blockUntilOpen(t){if(this.isUpdating()||this.isQueued())this.blockBuffers(t).catch((t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)}));else try{t()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some((([t,e])=>t&&e.updating))}isQueued(){return this.sourceBuffers.some((([t])=>t&&!!this.currentOp(t)))}isPending(t){return!!t&&!t.buffer}blockBuffers(t,e=this.sourceBufferTypes){if(!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(t);const{operationQueue:n}=this,i=e.map((t=>this.appendBlocker(t)));return e.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then((e=>{n===this.operationQueue&&(t(),this.stepOperationQueue(this.sourceBufferTypes))}))}stepOperationQueue(t){t.forEach((t=>{var e;const n=null==(e=this.tracks[t])?void 0:e.buffer;n&&!n.updating&&this.shiftAndExecuteNext(t)}))}append(t,e,n){this.operationQueue&&this.operationQueue.append(t,e,n)}appendBlocker(t){if(this.operationQueue)return this.operationQueue.appendBlocker(t)}currentOp(t){return this.operationQueue?this.operationQueue.current(t):null}executeNext(t){t&&this.operationQueue&&this.operationQueue.executeNext(t)}shiftAndExecuteNext(t){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(t)}get pendingTrackCount(){return Object.keys(this.tracks).reduce(((t,e)=>t+(this.isPending(this.tracks[e])?1:0)),0)}get sourceBufferCount(){return this.sourceBuffers.reduce(((t,[e])=>t+(e?1:0)),0)}get sourceBufferTypes(){return this.sourceBuffers.map((([t])=>t)).filter((t=>!!t))}addBufferListener(t,e,n){const i=this.tracks[t];if(!i)return;const r=i.buffer;if(!r)return;const s=n.bind(this,t);i.listeners.push({event:e,listener:s}),r.addEventListener(e,s)}removeBufferListeners(t){const e=this.tracks[t];if(!e)return;const n=e.buffer;n&&(e.listeners.forEach((t=>{n.removeEventListener(t.event,t.listener)})),e.listeners.length=0)}},capLevelController:ps,errorController:class extends S{constructor(t){super("error-controller",t.logger),this.hls=void 0,this.playlistError=0,this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(l.ERROR,this.onError,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(l.ERROR,this.onError,this),t.off(l.ERROR,this.onErrorOut,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return(null==t?void 0:t.type)===f?t.level:this.getVariantIndex()}getVariantIndex(){var t;const e=this.hls,n=e.currentLevel;return null!=(t=e.loadLevelObj)&&t.details||-1===n?e.loadLevel:n}variantHasKey(t,e){if(t){var n;if(null!=(n=t.details)&&n.hasKey(e))return!0;const i=t.audioGroups;if(i){return this.hls.allAudioTracks.filter((t=>i.indexOf(t.groupId)>=0)).some((t=>{var n;return null==(n=t.details)?void 0:n.hasKey(e)}))}}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(t,e){var n;if(e.fatal)return;const i=this.hls,r=e.context;switch(e.details){case o.FRAG_LOAD_ERROR:case o.FRAG_LOAD_TIMEOUT:case o.KEY_LOAD_ERROR:case o.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case o.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction=Oe());case o.FRAG_GAP:case o.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=Ce);case o.LEVEL_EMPTY_ERROR:case o.LEVEL_PARSING_ERROR:{var s;const t=e.parent===f?e.level:i.loadLevel;e.details===o.LEVEL_EMPTY_ERROR&&null!=(s=e.context)&&null!=(s=s.levelDetails)&&s.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t))}return;case o.LEVEL_LOAD_ERROR:case o.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==r?void 0:r.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,r.level)));case o.AUDIO_TRACK_LOAD_ERROR:case o.AUDIO_TRACK_LOAD_TIMEOUT:case o.SUBTITLE_LOAD_ERROR:case o.SUBTITLE_TRACK_LOAD_TIMEOUT:if(r){const t=i.loadLevelObj;if(t&&(r.type===d&&t.hasAudioGroup(r.groupId)||r.type===h&&t.hasSubtitleGroup(r.groupId)))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.loadLevel),e.errorAction.action=Ce,void(e.errorAction.flags=De)}return;case o.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:return void(e.errorAction={action:Ce,flags:Le});case o.KEY_SYSTEM_SESSION_UPDATE_FAILED:case o.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case o.KEY_SYSTEM_NO_SESSION:return void(e.errorAction={action:Ce,flags:Pe});case o.BUFFER_ADD_CODEC_ERROR:case o.REMUX_ALLOC_ERROR:case o.BUFFER_APPEND_ERROR:var l;if(!e.errorAction)e.errorAction=this.getLevelSwitchAction(e,null!=(l=e.level)?l:i.loadLevel);return;case o.INTERNAL_EXCEPTION:case o.BUFFER_APPENDING_ERROR:case o.BUFFER_FULL_ERROR:case o.LEVEL_SWITCH_ERROR:case o.BUFFER_STALLED_ERROR:case o.BUFFER_SEEK_OVER_HOLE:case o.BUFFER_NUDGE_ON_STALL:return void(e.errorAction=Oe())}e.type===a.KEY_SYSTEM_ERROR&&(e.levelRetry=!1,e.errorAction=Oe())}getPlaylistRetryOrSwitchAction(t,e){const n=_e(this.hls.config.playlistLoadPolicy,t),i=this.playlistError++;if(Te(n,i,ve(t),t.response))return{action:Ae,flags:Ie,retryConfig:n,retryCount:i};const r=this.getLevelSwitchAction(t,e);return n&&(r.retryConfig=n,r.retryCount=i),r}getFragRetryOrSwitchAction(t){const e=this.hls,n=this.getVariantLevelIndex(t.frag),i=e.levels[n],{fragLoadPolicy:r,keyLoadPolicy:s}=e.config,a=_e(ye(t)?s:r,t),l=e.levels.reduce(((t,e)=>t+e.fragmentError),0);if(i&&(t.details!==o.FRAG_GAP&&i.fragmentError++,!be(t))){if(Te(a,l,ve(t),t.response))return{action:Ae,flags:Ie,retryConfig:a,retryCount:l}}const c=this.getLevelSwitchAction(t,n);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(t,e){const n=this.hls;null==e&&(e=n.loadLevel);const i=this.hls.levels[e];if(i){var r,s;const e=t.details;i.loadError++,e===o.BUFFER_APPEND_ERROR&&i.fragmentError++;let c=-1;const{levels:u,loadLevel:g,minAutoLevel:v,maxAutoLevel:y}=n;n.autoLevelEnabled||n.config.preserveManualLevelOnError||(n.loadLevel=-1);const b=null==(r=t.frag)?void 0:r.type,_=(b===p&&e===o.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(e===o.BUFFER_ADD_CODEC_ERROR||e===o.BUFFER_APPEND_ERROR))&&u.some((({audioCodec:t})=>i.audioCodec!==t)),E="video"===t.sourceBufferName&&(e===o.BUFFER_ADD_CODEC_ERROR||e===o.BUFFER_APPEND_ERROR)&&u.some((({codecSet:t,audioCodec:e})=>i.codecSet!==t&&i.audioCodec===e)),{type:S,groupId:T}=null!=(s=t.context)?s:{};for(let n=u.length;n--;){const r=(n+g)%u.length;if(r!==g&&r>=v&&r<=y&&0===u[r].loadError){var a,l;const n=u[r];if(e===o.FRAG_GAP&&b===f&&t.frag){const e=u[r].details;if(e){const n=fe(t.frag,e.fragments,t.frag.start);if(null!=n&&n.gap)continue}}else{if(S===d&&n.hasAudioGroup(T)||S===h&&n.hasSubtitleGroup(T))continue;if(b===p&&null!=(a=i.audioGroups)&&a.some((t=>n.hasAudioGroup(t)))||b===m&&null!=(l=i.subtitleGroups)&&l.some((t=>n.hasSubtitleGroup(t)))||_&&i.audioCodec===n.audioCodec||E&&i.codecSet===n.codecSet||!_&&i.codecSet!==n.codecSet)continue}c=r;break}}if(c>-1&&n.loadLevel!==c)return t.levelRetry=!0,this.playlistError=0,{action:Ce,flags:Ie,nextAutoLevel:c}}return{action:Ce,flags:De}}onErrorOut(t,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case ke:break;case Ce:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===o.FRAG_GAP?/MediaSource readyState: ended/.test(e.error.message)&&(this.warn(`MediaSource ended after "${e.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):e.fatal=!0}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(t){const e=this.hls,n=t.errorAction;if(!n)return;const{flags:i}=n,r=n.nextAutoLevel;switch(i){case Ie:this.switchLevel(t,r);break;case Le:{const i=this.getVariantLevelIndex(t.frag),r=e.levels[i],s=null==r?void 0:r.attrs["HDCP-LEVEL"];if(n.hdcpLevel=s,"NONE"===s)this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(s){e.maxHdcpLevel=Kt[Kt.indexOf(s)-1],n.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`);break}}case Pe:{const e=t.decryptdata;if(e){const i=this.hls.levels,r=i.length;for(let n=r;n--;){var s,a;if(this.variantHasKey(i[n],e))this.log(`Banned key found in level ${n} (${i[n].bitrate}bps) or audio group "${null==(s=i[n].audioGroups)?void 0:s.join(",")}" (${null==(a=t.frag)?void 0:a.type} fragment) ${P(e.keyId||[])}`),i[n].fragmentError++,i[n].loadError++,this.log(`Removing level ${n} with key error (${t.error})`),this.hls.removeLevel(n)}const o=t.frag;if(this.hls.levels.length<r)n.resolved=!0;else if(o&&o.type!==f){const t=o.decryptdata;t&&!e.matches(t)&&(n.resolved=!0)}}break}}n.resolved||this.switchLevel(t,r)}switchLevel(t,e){if(void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,t.details===o.BUFFER_ADD_CODEC_ERROR&&t.mimeType&&"audiovideo"!==t.sourceBufferName)){const e=jt(t.mimeType),n=this.hls.levels;for(let i=n.length;i--;)n[i][`${t.sourceBufferName}Codec`]===e&&(this.log(`Removing level ${i} for ${t.details} ("${e}" not supported)`),this.hls.removeLevel(i))}}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(l.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(l.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(l.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(l.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,e){const n=this.hls.config;if(n.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"==typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(t,e,n){const i=performance.now();if(e){if(this.lastTime){const t=i-this.lastTime,r=n-this.lastDroppedFrames,s=e-this.lastDecodedFrames,a=1e3*r/t,o=this.hls;if(o.trigger(l.FPS_DROP,{currentDropped:r,currentDecoded:s,totalDroppedFrames:n}),a>0&&r>o.config.fpsDroppedMonitoringThreshold*s){let t=o.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===o.autoLevelCapping||o.autoLevelCapping>=t)&&(t-=1,o.trigger(l.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:o.currentLevel}),o.autoLevelCapping=t,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Pn,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:Bo,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends Ti{constructor(t,e,n){super(t,e,n,"subtitle-stream-controller",m),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(l.LEVEL_LOADED,this.onLevelLoaded,this),t.on(l.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(l.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(l.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(l.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(l.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(l.LEVEL_LOADED,this.onLevelLoaded,this),t.off(l.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(l.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(l.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(l.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(l.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(t,e){this.stopLoad(),this.state=Si.IDLE,this.setInterval(500),this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(t,e){this.tracksBuffered=[],super.onMediaDetaching(t,e)}onLevelLoaded(t,e){this.mainDetails=e.details}onSubtitleFragProcessed(t,e){const{frag:n,success:i}=e;if(this.fragContextChanged(n)||(z(n)&&(this.fragPrevious=n),this.state=Si.IDLE),!i)return;const r=this.tracksBuffered[this.currentTrackId];if(!r)return;let s;const a=n.start;for(let t=0;t<r.length;t++)if(a>=r[t].start&&a<=r[t].end){s=r[t];break}const o=n.start+n.duration;s?s.end=o:(s={start:a,end:o},r.push(s)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(t,e){const{startOffset:n,endOffset:i}=e;if(0===n&&i!==Number.POSITIVE_INFINITY){const t=i-1;if(t<=0)return;e.endOffsetSubtitles=Math.max(0,t),this.tracksBuffered.forEach((e=>{for(let n=0;n<e.length;)if(e[n].end<=t)e.shift();else{if(!(e[n].start<t))break;e[n].start=t,n++}})),this.fragmentTracker.removeFragmentsInRange(n,t,m)}}onError(t,e){const n=e.frag;(null==n?void 0:n.type)===m&&(e.details===o.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Si.STOPPED&&(this.state=Si.IDLE))}onSubtitleTracksUpdated(t,{subtitleTracks:e}){this.levels&&ss(this.levels,e)?this.levels=e.map((t=>new te(t))):(this.tracksBuffered=[],this.levels=e.map((t=>{const e=new te(t);return this.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,m),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(t,e){var n;if(this.currentTrackId=e.id,null==(n=this.levels)||!n.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];null!=i&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==Si.STOPPED&&this.setInterval(500)}onSubtitleTrackLoaded(t,e){var n;const{currentTrackId:i,levels:r}=this,{details:s,id:a}=e;if(!r)return void this.warn(`Subtitle tracks were reset while loading level ${a}`);const o=r[a];if(a>=r.length||!o)return;this.log(`Subtitle track ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(s.live||null!=(n=o.details)&&n.live){if(s.deltaUpdateFailed)return;const t=this.mainDetails;if(!t)return void(this.startFragRequested=!1);const e=t.fragments[0];var u;if(o.details)c=this.alignPlaylists(s,o.details,null==(u=this.levelLastLoaded)?void 0:u.details),0===c&&e&&(c=e.start,ai(s,c));else s.hasProgramDateTime&&t.hasProgramDateTime?(yi(s,t),c=s.fragmentStart):e&&(c=e.start,ai(s,c));t&&!this.startFragRequested&&this.setStartPosition(t,c)}if(o.details=s,this.levelLastLoaded=o,a===i&&(this.hls.trigger(l.SUBTITLE_TRACK_UPDATED,{details:s,id:a,groupId:e.groupId}),this.tick(),s.live&&!this.fragCurrent&&this.media&&this.state===Si.IDLE)){fe(null,s.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),o.details=void 0)}}_handleFragmentLoadComplete(t){const{frag:e,payload:n}=t,i=e.decryptdata,r=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&null!=i&&i.key&&i.iv&&vn(i.method)){const t=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,yn(i.method)).catch((t=>{throw r.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((n=>{const i=performance.now();r.trigger(l.FRAG_DECRYPTED,{frag:e,payload:n,stats:{tstart:t,tdecrypt:i}})})).catch((t=>{this.warn(`${t.name}: ${t.message}`),this.state=Si.IDLE}))}}doTick(){if(this.media){if(this.state===Si.IDLE){const{currentTrackId:t,levels:e}=this,n=null==e?void 0:e[t];if(!n||!e.length||!n.details)return;if(this.waitForLive(n))return;const{config:i}=this,r=this.getLoadPosition(),s=nn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],r,i.maxBufferHole),{end:a,len:o}=s,l=n.details;if(o>this.hls.maxBufferLength+l.levelTargetDuration)return;const c=l.fragments,u=c.length,d=l.edge;let h=null;const f=this.fragPrevious;if(a<d){const t=i.maxFragLookUpTolerance,e=a>d-t?0:t;h=fe(f,c,Math.max(c[0].start,a),e),!h&&f&&f.start<c[0].start&&(h=c[0])}else h=c[u-1];if(h=this.filterReplacedPrimary(h,n.details),!h)return;const p=c[h.sn-l.startSN-1];if(p&&p.cc===h.cc&&this.fragmentTracker.getState(p)===Re&&(h=p),this.fragmentTracker.getState(h)===Re){const t=this.mapToInitFragWhenRequired(h);t&&this.loadFragment(t,n,a)}}}else this.state=Si.IDLE}loadFragment(t,e,n){z(t)?super.loadFragment(t,e,n):this._loadInitSegment(t,e)}get mediaBufferTimeRanges(){return new qa(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends rs{constructor(t){super(t,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const e=Aa(this.media.textTracks);for(let n=0;n<e.length;n++)if("hidden"===e[n].mode)t=e[n];else if("showing"===e[n].mode){t=e[n];break}const n=this.findTrackForTextTrack(t);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.MANIFEST_PARSED,this.onManifestParsed,this),t.on(l.LEVEL_LOADING,this.onLevelLoading,this),t.on(l.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(l.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(l.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.MANIFEST_PARSED,this.onManifestParsed,this),t.off(l.LEVEL_LOADING,this.onLevelLoading,this),t.off(l.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(l.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(l.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(t,e){const n=this.media;if(!n)return;const i=!!e.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;Aa(n.textTracks).forEach((t=>{Ca(t)}))}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(t,e){const{id:n,groupId:i,details:r}=e,s=this.tracksInGroup[n];if(!s||s.groupId!==i)return void this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${null==s?void 0:s.groupId}`);const a=s.details;s.details=e.details,this.log(`Subtitle track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.subtitleGroups||null,i=this.groupIds;let r=this.currentTrack;if(!n||(null==i?void 0:i.length)!==(null==n?void 0:n.length)||null!=n&&n.some((t=>-1===(null==i?void 0:i.indexOf(t))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!n||-1!==n.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.subtitlePreference;if(!r&&e){this.selectDefaultTrack=!1;const n=oe(e,t);if(n>-1)r=t[n];else{const t=oe(e,this.tracks);r=this.tracks[t]}}let i=this.findTrackId(r);-1===i&&r&&(i=this.findTrackId(null));const s={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${null==n?void 0:n.join(",")}" group-id`),this.hls.trigger(l.SUBTITLE_TRACKS_UPDATED,s),-1!==i&&-1===this.trackId&&this.setSubtitleTrack(i)}}findTrackId(t){const e=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<e.length;i++){const r=e[i];if((!n||r.default)&&(n||t)&&(!t||le(r,t)))return i}if(t){for(let n=0;n<e.length;n++){const i=e[n];if(as(t.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<e.length;n++){const i=e[n];if(as(t.attrs,i.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(t){if(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){if(os(e[n],t))return n}}return-1}onError(t,e){!e.fatal&&e.context&&(e.context.type!==h||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){if(-1===t.id)return this.setSubtitleTrack(-1),null;const e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,e.length){const n=this.currentTrack;if(n&&le(t,n))return n;const i=oe(t,this.tracksInGroup);if(i>-1){const t=this.tracksInGroup[i];return this.setSubtitleTrack(i),t}if(n)return null;{const n=oe(t,e);if(n>-1)return e[n]}}}return null}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const n=t.id,i=t.groupId,r=this.getUrlWithDirectives(t.url,e),s=t.details,a=null==s?void 0:s.age;this.log(`Loading subtitle ${n} "${t.name}" lang:${t.lang} group:${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${a&&s.live?" age "+a.toFixed(1)+(s.type?" "+s.type||0:""):""} ${r}`),this.hls.trigger(l.SUBTITLE_TRACK_LOADING,{url:r,id:n,groupId:i,deliveryDirectives:e||null,track:t})}toggleTrackModes(){const{media:t}=this;if(!t)return;const e=Aa(t.textTracks),n=this.currentTrack;let i;if(n&&(i=e.filter((t=>os(n,t)))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(e).forEach((t=>{"disabled"!==t.mode&&t!==i&&(t.mode="disabled")})),i){const t=this.subtitleDisplay?"showing":"hidden";i.mode!==t&&(i.mode=t)}}setSubtitleTrack(t){const e=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(t<-1||t>=e.length||!i(t))return void this.warn(`Invalid subtitle track id: ${t}`);this.selectDefaultTrack=!1;const n=this.currentTrack,r=e[t]||null;if(this.trackId=t,this.currentTrack=r,this.toggleTrackModes(),!r)return void this.hls.trigger(l.SUBTITLE_TRACK_SWITCH,{id:t});const s=!!r.details&&!r.details.live;if(t===this.trackId&&r===n&&s)return;this.log(`Switching to subtitle-track ${t}`+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:a,groupId:o="",name:c,type:u,url:d}=r;this.hls.trigger(l.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:c,type:u,url:d});const h=this.switchParams(r.url,null==n?void 0:n.details,r.details);this.loadPlaylist(h)}},timelineController:class{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(l.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(l.FRAG_LOADING,this.onFragLoading,this),t.on(l.FRAG_LOADED,this.onFragLoaded,this),t.on(l.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(l.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(l.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(l.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(l.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(l.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(l.FRAG_LOADING,this.onFragLoading,this),t.off(l.FRAG_LOADED,this.onFragLoaded,this),t.off(l.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(l.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(l.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(l.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(l.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const t=new No(this,"textTrack1"),e=new No(this,"textTrack2"),n=new No(this,"textTrack3"),i=new No(this,"textTrack4");this.cea608Parser1=new oo(1,t,e),this.cea608Parser2=new oo(3,n,i)}addCues(t,e,n,i,r){let s=!1;for(let t=r.length;t--;){const i=r[t],l=(a=i[0],o=i[1],c=e,u=n,Math.min(o,u)-Math.max(a,c));if(l>=0&&(i[0]=Math.min(i[0],e),i[1]=Math.max(i[1],n),s=!0,l/(n-e)>.5))return}var a,o,c,u;if(s||r.push([e,n]),this.config.renderTextTracksNatively){const r=this.captionsTracks[t];this.Cues.newCue(r,e,n,i)}else{const r=this.Cues.newCue(null,e,n,i);this.hls.trigger(l.CUES_PARSED,{type:"captions",cues:r,track:t})}}onInitPtsFound(t,{frag:e,id:n,initPTS:i,timescale:r,trackId:s}){const{unparsedVttFrags:a}=this;n===f&&(this.initPTS[e.cc]={baseTime:i,timescale:r,trackId:s}),a.length&&(this.unparsedVttFrags=[],a.forEach((t=>{this.initPTS[t.frag.cc]?this.onFragLoaded(l.FRAG_LOADED,t):this.hls.trigger(l.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t.frag,error:new Error("Subtitle discontinuity domain does not match main")})})))}getExistingTrack(t,e){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const r=n.textTracks[i];if($o(r,{name:t,lang:e,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return r}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:n,media:i}=this,{label:r,languageCode:s}=e[t],a=this.getExistingTrack(r,s);if(a)n[t]=a,Ca(n[t]),wa(n[t],i);else{const e=this.createTextTrack("captions",r,s);e&&(e[t]=!0,n[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(l.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(t,e,n){const i=this.media;if(i)return i.addTextTrack(t,e,n)}onMediaAttaching(t,e){this.media=e.media,e.mediaSource||this._cleanTracks()}onMediaDetaching(t,e){const n=!!e.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach((t=>{Ca(i[t]),delete i[t]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let t=0;t<e.length;t++)Ca(e[t])}onSubtitleTracksUpdated(t,e){const n=e.subtitleTracks||[],i=n.some((t=>t.textCodec===ko));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(ss(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const t=this.media,e=t?Aa(t.textTracks):null;if(this.tracks.forEach(((t,n)=>{let i;if(e){let n=null;for(let i=0;i<e.length;i++)if(e[i]&&$o(e[i],t)){n=e[i],e[i]=null;break}n&&(i=n)}if(i)Ca(i);else{const e=Fo(t);i=this.createTextTrack(e,t.name,t.lang),i&&(i.mode="disabled")}i&&this.textTracks.push(i)})),null!=e&&e.length){const t=e.filter((t=>null!==t)).map((t=>t.label));t.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${t.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const t=this.tracks.map((t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t})));this.hls.trigger(l.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t})}}}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const n=`textTrack${e[1]}`,i=this.captionsProperties[n];i&&(i.label=t.name,t.lang&&(i.languageCode=t.lang),i.media=t)}))}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){if(this.enabled&&e.frag.type===f){var n,i;const{cea608Parser1:t,cea608Parser2:r,lastSn:s}=this,{cc:a,sn:o}=e.frag,l=null!=(n=null==(i=e.part)?void 0:i.index)?n:-1;t&&r&&(o!==s+1||o===s&&l!==this.lastPartIndex+1||a!==this.lastCc)&&(t.reset(),r.reset()),this.lastCc=a,this.lastSn=o,this.lastPartIndex=l}}onFragLoaded(t,e){const{frag:n,payload:i}=e;if(n.type===m)if(i.byteLength){const t=n.decryptdata,r="stats"in e;if(null==t||!t.encrypted||r){const t=this.tracks[n.level],r=this.vttCCs;r[n.cc]||(r[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),t&&t.textCodec===ko?this._parseIMSC1(n,i):this._parseVTTs(e)}}else this.hls.trigger(l.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,e){const n=this.hls;Io(e,this.initPTS[t.cc],(e=>{this._appendCues(e,t.level),n.trigger(l.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(e=>{n.logger.log(`Failed to parse IMSC1: ${e}`),n.trigger(l.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}_parseVTTs(t){var e;const{frag:n,payload:i}=t,{initPTS:r,unparsedVttFrags:s}=this,a=r.length-1;if(!r[n.cc]&&-1===a)return void s.push(t);const o=this.hls;wo(null!=(e=n.initSegment)&&e.data?gt(n.initSegment.data,new Uint8Array(i)).buffer:i,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,(t=>{this._appendCues(t,n.level),o.trigger(l.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(e=>{const r="Missing initPTS for VTT MPEGTS"===e.message;r?s.push(t):this._fallbackToIMSC1(n,i),o.logger.log(`Failed to parse VTT cue: ${e}`),r&&a>n.cc||o.trigger(l.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:e})}))}_fallbackToIMSC1(t,e){const n=this.tracks[t.level];n.textCodec||Io(e,this.initPTS[t.cc],(()=>{n.textCodec=ko,this._parseIMSC1(t,e)}),(()=>{n.textCodec="wvtt"}))}_appendCues(t,e){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[e];if(!n||"disabled"===n.mode)return;t.forEach((t=>ka(n,t)))}else{const i=this.tracks[e];if(!i)return;const r=i.default?"default":"subtitles"+e;n.trigger(l.CUES_PARSED,{type:"subtitles",cues:t,track:r})}}onFragDecrypted(t,e){const{frag:n}=e;n.type===m&&this.onFragLoaded(l.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,e){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=e;if(n.type!==f||"NONE"!==this.closedCaptionsForLevel(n))for(let t=0;t<i.length;t++){const e=i[t].bytes;if(e){this.cea608Parser1||this.initCea608Parsers();const n=this.extractCea608Data(e);this.cea608Parser1.addData(i[t].pts,n[0]),this.cea608Parser2.addData(i[t].pts,n[1])}}}onBufferFlushing(t,{startOffset:e,endOffset:n,endOffsetSubtitles:i,type:r}){const{media:s}=this;if(s&&!(s.currentTime<n)){if(!r||"video"===r){const{captionsTracks:t}=this;Object.keys(t).forEach((i=>xa(t[i],e,n)))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==i){const{textTracks:t}=this;Object.keys(t).forEach((n=>xa(t[n],e,i)))}}}extractCea608Data(t){const e=[[],[]],n=31&t[0];let i=2;for(let r=0;r<n;r++){const n=t[i++],r=127&t[i++],s=127&t[i++];if(0===r&&0===s)continue;if(0!=(4&n)){const t=3&n;0!==t&&1!==t||(e[t].push(r),e[t].push(s))}}return e}},audioStreamController:class extends Ti{constructor(t,e,n){super(t,e,n,"audio-stream-controller",p),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(l.LEVEL_LOADED,this.onLevelLoaded,this),t.on(l.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(l.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(l.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(l.BUFFER_RESET,this.onBufferReset,this),t.on(l.BUFFER_CREATED,this.onBufferCreated,this),t.on(l.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(l.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(l.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(l.FRAG_LOADING,this.onFragLoading,this),t.on(l.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:t}=this;t&&(super.unregisterListeners(),t.off(l.LEVEL_LOADED,this.onLevelLoaded,this),t.off(l.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(l.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(l.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(l.BUFFER_RESET,this.onBufferReset,this),t.off(l.BUFFER_CREATED,this.onBufferCreated,this),t.off(l.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(l.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(l.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(l.FRAG_LOADING,this.onFragLoading,this),t.off(l.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(t,{frag:e,id:n,initPTS:i,timescale:r,trackId:s}){if(n===f){const t=e.cc,n=this.fragCurrent;if(this.initPTS[t]={baseTime:i,timescale:r,trackId:s},this.log(`InitPTS for cc: ${t} found from main: ${i/r} (${i}/${r}) trackId: ${s}`),this.mainAnchor=e,this.state===Si.WAITING_INIT_PTS){const n=this.waitingData;(!n&&!this.loadingParts||n&&n.frag.cc!==t)&&this.syncWithAnchor(e,null==n?void 0:n.frag)}else!this.hls.hasEnoughToStart&&n&&n.cc!==t?(n.abortRequests(),this.syncWithAnchor(e,n)):this.state===Si.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(t,e){var n;const i=(null==(n=this.mainFragLoading)?void 0:n.frag)||null;if(e&&(null==i?void 0:i.cc)===e.cc)return;const r=(i||t).cc,s=ge(this.getLevelDetails(),r,this.getLoadPosition());s&&(this.log(`Syncing with main frag at ${s.start} cc ${s.cc}`),this.startFragRequested=!1,this.nextLoadPosition=s.start,this.resetLoadingState(),this.state===Si.IDLE&&this.doTickIdle())}startLoad(t,e){if(!this.levels)return this.startPosition=t,void(this.state=Si.STOPPED);const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),n>0&&-1===t?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),t=n,this.state=Si.IDLE):this.state=Si.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}doTick(){switch(this.state){case Si.IDLE:this.doTickIdle();break;case Si.WAITING_TRACK:{const{levels:t,trackId:e}=this,n=null==t?void 0:t[e],i=null==n?void 0:n.details;if(i&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(i))break;this.state=Si.WAITING_INIT_PTS}break}case Si.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break;case Si.WAITING_INIT_PTS:{const t=this.waitingData;if(t){const{frag:e,part:n,cache:i,complete:r}=t,s=this.mainAnchor;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.state=Si.FRAG_LOADING;const t={frag:e,part:n,payload:i.flush().buffer,networkDetails:null};this._handleFragmentLoadProgress(t),r&&super._handleFragmentLoadComplete(t)}else s&&s.cc!==t.frag.cc&&this.syncWithAnchor(s,t.frag)}else this.state=Si.IDLE}}this.onTickEnd()}resetLoadingState(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){var t;const{hls:e,levels:n,media:i,trackId:r}=this,s=e.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!s.startFragPrefetch)||null==n||!n[r])return;const a=n[r],o=a.details;if(!o||this.waitForLive(a)||this.waitForCdnTuneIn(o))return this.state=Si.WAITING_TRACK,void(this.startFragRequested=!1);const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,q,p));const u=this.getFwdBufferInfo(c,p);if(null===u)return;if(!this.switchingTrack&&this._streamEnded(u,o))return e.trigger(l.BUFFER_EOS,{type:"audio"}),void(this.state=Si.ENDED);const d=u.len,h=e.maxBufferLength,m=o.fragments,g=m[0].start,v=this.getLoadPosition(),y=this.flushing?v:u.end;if(this.switchingTrack&&i){const t=v;o.PTSKnown&&t<g&&(u.end>g||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=g+.05)}if(d>=h&&!this.switchingTrack&&y<m[m.length-1].start)return;let b=this.getNextFragment(y,o);if(b&&this.isLoopLoading(b,y)&&(b=this.getNextFragmentLoopLoading(b,o,u,f,h)),!b)return void(this.bufferFlushed=!0);let _=(null==(t=this.mainFragLoading)?void 0:t.frag)||null;if(!this.audioOnly&&this.startFragRequested&&_&&z(b)&&!b.endList&&(!o.live||!this.loadingParts&&y<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(_)===Fe&&(this.mainFragLoading=_=null),_&&z(_))){if(b.start>_.end){const t=this.fragmentTracker.getFragAtPos(y,f);t&&t.end>_.end&&(_=t,this.mainFragLoading={frag:t,targetBufferTime:null})}if(b.start>_.end)return}this.loadFragment(b,a,y)}onMediaDetaching(t,e){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(t,e)}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map((t=>new te(t)))}onAudioTrackSwitching(t,e){const n=!!e.url;this.trackId=e.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=e,this.flushAudioIfNeeded(e),this.state!==Si.STOPPED&&(this.setInterval(100),this.state=Si.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=e,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(t,e){this.mainDetails=e.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(l.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(t,e){var n;const{levels:i}=this,{details:r,id:s,groupId:a,track:o}=e;if(!i)return void this.warn(`Audio tracks reset while loading track ${s} "${o.name}" of "${a}"`);const c=this.mainDetails;if(!c||r.endCC>c.endCC||c.expired)return this.cachedTrackLoadedData=e,void(this.state!==Si.STOPPED&&(this.state=Si.WAITING_TRACK));this.cachedTrackLoadedData=null,this.log(`Audio track ${s} "${o.name}" of "${a}" loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`);const u=i[s];let d=0;if(r.live||null!=(n=u.details)&&n.live){if(this.checkLiveUpdate(r),r.deltaUpdateFailed)return;var h;if(u.details)d=this.alignPlaylists(r,u.details,null==(h=this.levelLastLoaded)?void 0:h.details);r.alignedSliding||(vi(r,c),r.alignedSliding||yi(r,c),d=r.fragmentStart)}u.details=r,this.levelLastLoaded=u,this.startFragRequested||this.setStartPosition(c,d),this.hls.trigger(l.AUDIO_TRACK_UPDATED,{details:r,id:s,groupId:e.groupId}),this.state!==Si.WAITING_TRACK||this.waitForCdnTuneIn(r)||(this.state=Si.IDLE),this.tick()}_handleFragmentLoadProgress(t){var e;const n=t.frag,{part:i,payload:r}=t,{config:s,trackId:a,levels:o}=this;if(!o)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const l=o[a];if(!l)return void this.warn("Audio track is undefined on fragment load progress");const c=l.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const u=s.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new is(this.hls,p,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],f=null==(e=n.initSegment)?void 0:e.data;if(void 0!==h){const t=!1,e=i?i.index:-1,s=-1!==e,a=new tn(n.level,n.sn,n.stats.chunkCount,r.byteLength,e,s);d.push(r,f,u,"",n,i,c.totalduration,t,a,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${c.startSN} ,${c.endSN}],track ${a}`);const{cache:t}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new ki,complete:!1};t.push(new Uint8Array(r)),this.state!==Si.STOPPED&&(this.state=Si.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(t,e){this.bufferFlushed=this.flushing=!1;const n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(t,e){!this.audioOnly&&e.frag.type===f&&z(e.frag)&&(this.mainFragLoading=e,this.state===Si.IDLE&&this.tick())}onFragBuffered(t,e){const{frag:n,part:i}=e;if(n.type===p)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if(z(n)){this.fragPrevious=n;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(l.AUDIO_TRACK_SWITCHED,E({},t)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}else this.audioOnly||n.type!==f||n.elementaryStreams.video||n.elementaryStreams.audiovideo||(this.audioOnly=!0,this.mainFragLoading=null)}onError(t,e){var n;if(e.fatal)this.state=Si.ERROR;else switch(e.details){case o.FRAG_GAP:case o.FRAG_PARSING_ERROR:case o.FRAG_DECRYPT_ERROR:case o.FRAG_LOAD_ERROR:case o.FRAG_LOAD_TIMEOUT:case o.KEY_LOAD_ERROR:case o.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(p,e);break;case o.AUDIO_TRACK_LOAD_ERROR:case o.AUDIO_TRACK_LOAD_TIMEOUT:case o.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Si.WAITING_TRACK||(null==(n=e.context)?void 0:n.type)!==d||(this.state=Si.IDLE);break;case o.BUFFER_ADD_CODEC_ERROR:case o.BUFFER_APPEND_ERROR:if("audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)||this.resetLoadingState();break;case o.BUFFER_FULL_ERROR:if("audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case o.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushing(t,{type:e}){e!==W&&(this.flushing=!0)}onBufferFlushed(t,{type:e}){if(e!==W){this.flushing=!1,this.bufferFlushed=!0,this.state===Si.ENDED&&(this.state=Si.IDLE);const t=this.mediaBuffer||this.media;t&&(this.afterBufferFlushed(t,e,p),this.tick())}}_handleTransmuxComplete(t){var e;const n="audio",{hls:i}=this,{remuxResult:r,chunkMeta:s}=t,a=this.getCurrentContext(s);if(!a)return void this.resetWhenMissingContext(s);const{frag:o,part:c,level:u}=a,{details:d}=u,{audio:h,text:f,id3:p,initSegment:m}=r;if(!this.fragContextChanged(o)&&d){if(this.state=Si.PARSING,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),null!=m&&m.tracks){const t=o.initSegment||o;if(this.unhandledEncryptionError(m,o))return;this._bufferInitSegment(u,m.tracks,t,s),i.trigger(l.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:m.tracks})}if(h){const{startPTS:t,endPTS:e,startDTS:n,endDTS:i}=h;c&&(c.elementaryStreams[q]={startPTS:t,endPTS:e,startDTS:n,endDTS:i}),o.setElementaryStreamInfo(q,t,e,n,i),this.bufferFragmentData(h,o,c,s)}if(null!=p&&null!=(e=p.samples)&&e.length){const t=b({id:n,frag:o,details:d},p);i.trigger(l.FRAG_PARSING_METADATA,t)}if(f){const t=b({id:n,frag:o,details:d},f);i.trigger(l.FRAG_PARSING_USERDATA,t)}}else this.fragmentTracker.removeFragment(o)}_bufferInitSegment(t,e,n,i){if(this.state!==Si.PARSING)return;if(e.video&&delete e.video,e.audiovideo&&delete e.audiovideo,!e.audio)return;const r=e.audio;r.id=p;const s=t.audioCodec;this.log(`Init audio buffer, container:${r.container}, codecs[level/parsed]=[${s}/${r.codec}]`),s&&1===s.split(",").length&&(r.levelCodec=s),this.hls.trigger(l.BUFFER_CODECS,e);const a=r.initSegment;if(null!=a&&a.byteLength){const t={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:a};this.hls.trigger(l.BUFFER_APPENDING,t)}this.tickImmediate()}loadFragment(t,e,n){const i=this.fragmentTracker.getState(t);var r;if(this.switchingTrack||i===Re||i===Ne)if(z(t))if(null!=(r=e.details)&&r.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=Si.WAITING_INIT_PTS;const n=this.mainDetails;n&&n.fragmentStart!==e.details.fragmentStart&&yi(e.details,n)}else super.loadFragment(t,e,n);else this._loadInitSegment(t,e);else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){if(this.media&&this.bufferedTrack){const{name:e,lang:n,assocLang:i,characteristics:r,audioCodec:s,channels:a}=this.bufferedTrack;le({name:e,lang:n,assocLang:i,characteristics:r,audioCodec:s,channels:a},t,ce)||(de(t.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=t)}}completeAudioSwitch(t){const{hls:e}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(l.AUDIO_TRACK_SWITCHED,E({},t))}},audioTrackController:class extends rs{constructor(t){super(t,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.MANIFEST_PARSED,this.onManifestParsed,this),t.on(l.LEVEL_LOADING,this.onLevelLoading,this),t.on(l.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(l.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(l.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.MANIFEST_PARSED,this.onManifestParsed,this),t.off(l.LEVEL_LOADING,this.onLevelLoading,this),t.off(l.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(l.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(l.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(t,e){const{id:n,groupId:i,details:r}=e,s=this.tracksInGroup[n];if(!s||s.groupId!==i)return void this.warn(`Audio track with id:${n} and group:${i} not found in active group ${null==s?void 0:s.groupId}`);const a=s.details;s.details=e.details,this.log(`Audio track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.audioGroups||null,i=this.groupIds;let r=this.currentTrack;if(!n||(null==i?void 0:i.length)!==(null==n?void 0:n.length)||null!=n&&n.some((t=>-1===(null==i?void 0:i.indexOf(t))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!n||-1!==n.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.audioPreference;if(!r&&e){const n=oe(e,t,ce);if(n>-1)r=t[n];else{const t=oe(e,this.tracks);r=this.tracks[t]}}let i=this.findTrackId(r);-1===i&&r&&(i=this.findTrackId(null));const c={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group(s): ${null==n?void 0:n.join(",")}`),this.hls.trigger(l.AUDIO_TRACKS_UPDATED,c);const u=this.trackId;if(-1!==i&&-1===u)this.setAudioTrack(i);else if(t.length&&-1===u){var s;const e=new Error(`No audio track selected for current audio group-ID(s): ${null==(s=this.groupIds)?void 0:s.join(",")} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e})}}}onError(t,e){!e.fatal&&e.context&&(e.context.type!==d||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const e=this.hls;if(e.config.audioPreference=t,t){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&le(t,i,ce))return i;const r=oe(t,this.tracksInGroup,ce);if(r>-1){const t=this.tracksInGroup[r];return this.setAudioTrack(r),t}if(i){let i=e.loadLevel;-1===i&&(i=e.firstAutoLevel);const r=function(t,e,n,i,r){const s=e[i],a=e.reduce(((t,e,n)=>{const i=e.uri;return(t[i]||(t[i]=[])).push(n),t}),{})[s.uri];a.length>1&&(i=Math.max.apply(Math,a));const o=s.videoRange,l=s.frameRate,c=s.codecSet.substring(0,4),u=ue(e,i,(e=>{if(e.videoRange!==o||e.frameRate!==l||e.codecSet.substring(0,4)!==c)return!1;const i=e.audioGroups,s=n.filter((t=>!i||-1!==i.indexOf(t.groupId)));return oe(t,s,r)>-1}));return u>-1?u:ue(e,i,(e=>{const i=e.audioGroups,s=n.filter((t=>!i||-1!==i.indexOf(t.groupId)));return oe(t,s,r)>-1}))}(t,e.levels,n,i,ce);if(-1===r)return null;e.nextLoadLevel=r}if(t.channels||t.audioCodec){const e=oe(t,n);if(e>-1)return n[e]}}}return null}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn(`Invalid audio track id: ${t}`);this.selectDefaultTrack=!1;const n=this.currentTrack,i=e[t],r=i.details&&!i.details.live;if(t===this.trackId&&i===n&&r)return;if(this.log(`Switching to audio-track ${t} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=t,this.currentTrack=i,this.hls.trigger(l.AUDIO_TRACK_SWITCHING,E({},i)),r)return;const s=this.switchParams(i.url,null==n?void 0:n.details,i.details);this.loadPlaylist(s)}findTrackId(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const i=e[n];if((!this.selectDefaultTrack||i.default)&&(!t||le(t,i,ce)))return n}if(t){const{name:n,lang:i,assocLang:r,characteristics:s,audioCodec:a,channels:o}=t;for(let t=0;t<e.length;t++){if(le({name:n,lang:i,assocLang:r,characteristics:s,audioCodec:a,channels:o},e[t],ce))return t}for(let n=0;n<e.length;n++){const i=e[n];if(as(t.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<e.length;n++){const i=e[n];if(as(t.attrs,i.attrs,["LANGUAGE"]))return n}}return-1}loadPlaylist(t){super.loadPlaylist();const e=this.currentTrack;this.shouldLoadPlaylist(e)&&de(e.url,this.hls)&&this.scheduleLoading(e,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const n=t.id,i=t.groupId,r=this.getUrlWithDirectives(t.url,e),s=t.details,a=null==s?void 0:s.age;this.log(`Loading audio-track ${n} "${t.name}" lang:${t.lang} group:${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${a&&s.live?" age "+a.toFixed(1)+(s.type?" "+s.type||0:""):""} ${r}`),this.hls.trigger(l.AUDIO_TRACK_LOADING,{url:r,id:n,groupId:i,deliveryDirectives:e||null,track:t})}},emeController:ba,cmcdController:class{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=t=>{try{this.apply(t,{ot:ms.MANIFEST,su:!this.initialized})}catch(t){this.hls.logger.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=t=>{try{const{frag:e,part:n}=t,i=this.hls.levels[e.level],r=this.getObjectType(e),s={d:1e3*(n||e).duration,ot:r};r!==ms.VIDEO&&r!==ms.AUDIO&&r!=ms.MUXED||(s.br=i.bitrate/1e3,s.tb=this.getTopBandwidth(r)/1e3,s.bl=this.getBufferLength(r));const a=n?this.getNextPart(n):this.getNextFrag(e);null!=a&&a.url&&a.url!==e.url&&(s.nor=a.url),this.apply(t,s)}catch(t){this.hls.logger.warn("Could not generate segment CMCD data.",t)}},this.hls=t;const e=this.config=t.config,{cmcd:n}=e;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||t.sessionId,this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(l.MEDIA_DETACHED,this.onMediaDetached,this),t.on(l.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(l.MEDIA_DETACHED,this.onMediaDetached,this),t.off(l.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,e){var n,i;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(i=e.tracks.video)?void 0:i.buffer}createData(){var t;return{v:1,sf:gs.HLS,sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){b(e,this.createData());const n=e.ot===ms.INIT||e.ot===ms.VIDEO||e.ot===ms.MUXED;this.starved&&n&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering);const{includeKeys:i}=this;i&&(e=Object.keys(e).reduce(((t,n)=>(i.includes(n)&&(t[n]=e[n]),t)),{}));const r={baseUrl:t.url};this.useHeaders?(t.headers||(t.headers={}),ha(t.headers,e,r)):t.url=ga(t.url,e,r)}getNextFrag(t){var e;const n=null==(e=this.hls.levels[t.level])?void 0:e.details;if(n){const e=t.sn-n.startSN;return n.fragments[e+1]}}getNextPart(t){var e;const{index:n,fragment:i}=t,r=null==(e=this.hls.levels[i.level])||null==(e=e.details)?void 0:e.partList;if(r){const{sn:t}=i;for(let e=r.length-1;e>=0;e--){const i=r[e];if(i.index===n&&i.fragment.sn===t)return r[e+1]}}}getObjectType(t){const{type:e}=t;return"subtitle"===e?ms.TIMED_TEXT:"initSegment"===t.sn?ms.INIT:"audio"===e?ms.AUDIO:"main"===e?this.hls.audioTracks.length?ms.VIDEO:ms.MUXED:void 0}getTopBandwidth(t){let e,n=0;const i=this.hls;if(t===ms.AUDIO)e=i.audioTracks;else{const t=i.maxAutoLevel,n=t>-1?t+1:i.levels.length;e=i.levels.slice(0,n)}return e.forEach((t=>{t.bitrate>n&&(n=t.bitrate)})),n>0?n:NaN}getBufferLength(t){const e=this.media,n=t===ms.AUDIO?this.audioBuffer:this.videoBuffer;if(!n||!e)return NaN;return 1e3*nn.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,i){e(t),this.loader.load(t,n,i)}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,i){e(t),this.loader.load(t,n,i)}}}},contentSteeringController:class extends S{constructor(t){super("content-steering",t.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(l.MANIFEST_PARSED,this.onManifestParsed,this),t.on(l.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(l.MANIFEST_PARSED,this.onManifestParsed,this),t.off(l.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce(((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t)),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(t){this.updatePathwayPriority(t)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter((e=>e!==t)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,e){const{contentSteering:n}=e;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(t,e){const{errorAction:n}=e;if((null==n?void 0:n.action)===Ce&&n.flags===De){const t=this.levels;let i=this._pathwayPriority,r=this.pathwayId;if(e.context){const{groupId:n,pathwayId:i,type:s}=e.context;n&&t?r=this.getPathwayForGroupId(n,s,r):i&&(r=i)}r in this.penalizedPathways||(this.penalizedPathways[r]=performance.now()),!i&&t&&(i=this.pathways()),i&&i.length>1&&(this.updatePathwayPriority(i),n.resolved=this.pathwayId!==r),e.details!==o.BUFFER_APPEND_ERROR||e.fatal?n.resolved||this.warn(`Could not resolve ${e.details} ("${e.error.message}") with content-steering for Pathway: ${r} levels: ${t?t.length:t} priorities: ${ie(i)} penalized: ${ie(this.penalizedPathways)}`):n.resolved=!0}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const n=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==t.length&&this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter((e=>t===e.pathwayId))}updatePathwayPriority(t){let e;this._pathwayPriority=t;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach((t=>{i-n[t]>3e5&&delete n[t]}));for(let i=0;i<t.length;i++){const r=t[i];if(r in n)continue;if(r===this.pathwayId)return;const s=this.hls.nextLoadLevel,a=this.hls.levels[s];if(e=this.getLevelsForPathway(r),e.length>0){this.log(`Setting Pathway to "${r}"`),this.pathwayId=r,di(e),this.hls.trigger(l.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[s];a&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==a.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==a.bitrate&&this.log(`Unstable Pathways change from bitrate ${a.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=s);break}}}getPathwayForGroupId(t,e,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let n=0;n<i.length;n++)if(e===d&&i[n].hasAudioGroup(t)||e===h&&i[n].hasSubtitleGroup(t))return i[n].pathwayId;return n}clonePathways(t){const e=this.levels;if(!e)return;const n={},i={};t.forEach((t=>{const{ID:r,"BASE-ID":s,"URI-REPLACEMENT":a}=t;if(e.some((t=>t.pathwayId===r)))return;const o=this.getLevelsForPathway(s).map((t=>{const e=new dn(t.attrs);e["PATHWAY-ID"]=r;const s=e.AUDIO&&`${e.AUDIO}_clone_${r}`,o=e.SUBTITLES&&`${e.SUBTITLES}_clone_${r}`;s&&(n[e.AUDIO]=s,e.AUDIO=s),o&&(i[e.SUBTITLES]=o,e.SUBTITLES=o);const l=ya(t.uri,e["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",a),c=new te({attrs:e,audioCodec:t.audioCodec,bitrate:t.bitrate,height:t.height,name:t.name,url:l,videoCodec:t.videoCodec,width:t.width});if(t.audioGroups)for(let e=1;e<t.audioGroups.length;e++)c.addGroupId("audio",`${t.audioGroups[e]}_clone_${r}`);if(t.subtitleGroups)for(let e=1;e<t.subtitleGroups.length;e++)c.addGroupId("text",`${t.subtitleGroups[e]}_clone_${r}`);return c}));e.push(...o),va(this.audioTracks,n,a,r),va(this.subtitleTracks,i,a,r)}))}loadSteeringManifest(t){const e=this.hls.config,n=e.loader;let i;this.loader&&this.loader.destroy(),this.loader=new n(e);try{i=new self.URL(t)}catch(e){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if("data:"!==i.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+t)}const r={responseType:"json",url:i.href},s=e.steeringManifestLoadPolicy.default,a=s.errorRetry||s.timeoutRetry||{},o={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(t,e,n,r)=>{this.log(`Loaded steering manifest: "${i}"`);const s=t.data;if(1!==(null==s?void 0:s.VERSION))return void this.log(`Steering VERSION ${s.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=s.TTL;const{"RELOAD-URI":a,"PATHWAY-CLONES":o,"PATHWAY-PRIORITY":c}=s;if(a)try{this.uri=new self.URL(a,i).href}catch(t){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${a}`)}this.scheduleRefresh(this.uri||n.url),o&&this.clonePathways(o);const u={steeringManifest:s,url:i.toString()};this.hls.trigger(l.STEERING_MANIFEST_LOADED,u),c&&this.updatePathwayPriority(c)},onError:(t,e,n,i)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let r=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,r);else{const t=this.loader;if("function"==typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(r=1e3*parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout:(t,e,n)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(r,o,c)}scheduleRefresh(t,e=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var e;const n=null==(e=this.hls)?void 0:e.media;!n||n.ended?this.scheduleRefresh(t,1e3*this.timeToLoad):this.loadSteeringManifest(t)}),e)}},interstitialsController:class extends S{constructor(t,e){super("interstitials",t.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const t=this.currentTime;if(void 0===t||this.playbackDisabled||!this.schedule)return;const e=t-this.timelinePos;if(Math.abs(e)<1/7056e5)return;const n=e<=-.01;this.timelinePos=t,this.bufferedPos=t;const i=this.playingItem;if(!i)return void this.checkBuffer();if(n){this.schedule.resetErrorsInRange(t,t-e)&&this.updateSchedule(!0)}if(this.checkBuffer(),n&&t<i.start||t>=i.end){var r;const e=this.findItemIndex(i);let s=this.schedule.findItemIndexAtTime(t);if(-1===s&&(s=e+(n?-1:1),this.log(`seeked ${n?"back ":""}to position not covered by schedule ${t} (resolving from ${e} to ${s})`)),!this.isInterstitial(i)&&null!=(r=this.media)&&r.paused&&(this.shouldPlay=!1),!n&&s>e){const t=this.schedule.findJumpRestrictedIndex(e+1,s);if(t>e)return void this.setSchedulePosition(t)}return void this.setSchedulePosition(s)}const s=this.playingAsset;if(!s){if(this.playingLastItem&&this.isInterstitial(i)){const e=i.event.assetList[0];e&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(t,e))}return}const a=s.timelineStart,o=s.duration||0;var l;(n&&t<a||t>=a+o)&&(null!=(l=i.event)&&l.appendInPlace&&(this.clearAssetPlayers(i.event,i),this.flushFrontBuffer(t)),this.setScheduleToAssetAtTime(t,s))},this.onTimeupdate=()=>{const t=this.currentTime;if(void 0===t||this.playbackDisabled)return;if(!(t>this.timelinePos))return;this.timelinePos=t,t>this.bufferedPos&&this.checkBuffer();const e=this.playingItem;if(!e||this.playingLastItem)return;if(t>=e.end){this.timelinePos=e.end;const t=this.findItemIndex(e);this.setSchedulePosition(t+1)}const n=this.playingAsset;if(!n)return;t>=n.timelineStart+(n.duration||0)&&this.setScheduleToAssetAtTime(t,n)},this.onScheduleUpdate=(t,e)=>{const n=this.schedule;if(!n)return;const i=this.playingItem,r=n.events||[],s=n.items||[],a=n.durations,o=t.map((t=>t.identifier)),c=!(!r.length&&!o.length);(c||e)&&this.log(`INTERSTITIALS_UPDATED (${r.length}): ${r}\nSchedule: ${s.map((t=>Ba(t)))} pos: ${this.timelinePos}`),o.length&&this.log(`Removed events ${o}`);let u=null,d=null;i&&(u=this.updateItem(i,this.timelinePos),this.itemsMatch(i,u)?this.playingItem=u:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const h=this.bufferingItem;if(h&&(d=this.updateItem(h,this.bufferedPos),this.itemsMatch(h,d)?this.bufferingItem=d:h.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(h.event,null))),t.forEach((t=>{t.assetList.forEach((t=>{this.clearAssetPlayer(t.identifier,null)}))})),this.playerQueue.forEach((t=>{if(t.interstitial.appendInPlace){const e=t.assetItem.timelineStart,n=t.timelineOffset-e;if(n)try{t.timelineOffset=e}catch(i){Math.abs(n)>Da&&this.warn(`${i} ("${t.assetId}" ${t.timelineOffset}->${e})`)}}})),c||e){if(this.hls.trigger(l.INTERSTITIALS_UPDATED,{events:r.slice(0),schedule:s.slice(0),durations:a,removedIds:o}),this.isInterstitial(i)&&o.includes(i.event.identifier))return this.warn(`Interstitial "${i.event.identifier}" removed while playing`),void this.primaryFallback(i.event);i&&this.trimInPlace(u,i),h&&d!==u&&this.trimInPlace(d,h),this.checkBuffer()}},this.hls=t,this.HlsPlayerClass=e,this.assetListLoader=new Ua(t),this.schedule=new ja(this.onScheduleUpdate,t.logger),this.registerListeners()}registerListeners(){const t=this.hls;t&&(t.on(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(l.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(l.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.on(l.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(l.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.on(l.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.on(l.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.on(l.BUFFER_APPENDED,this.onBufferAppended,this),t.on(l.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(l.BUFFERED_TO_END,this.onBufferedToEnd,this),t.on(l.MEDIA_ENDED,this.onMediaEnded,this),t.on(l.ERROR,this.onError,this),t.on(l.DESTROYING,this.onDestroying,this))}unregisterListeners(){const t=this.hls;t&&(t.off(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(l.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(l.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.off(l.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(l.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.off(l.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.off(l.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.off(l.BUFFER_CODECS,this.onBufferCodecs,this),t.off(l.BUFFER_APPENDED,this.onBufferAppended,this),t.off(l.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(l.BUFFERED_TO_END,this.onBufferedToEnd,this),t.off(l.MEDIA_ENDED,this.onMediaEnded,this),t.off(l.ERROR,this.onError,this),t.off(l.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var t;null==(t=this.getBufferingPlayer())||t.resumeBuffering()}pauseBuffering(){var t;null==(t=this.getBufferingPlayer())||t.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const t=this.primaryMedia||this.media;t&&this.removeMediaListeners(t)}removeMediaListeners(t){_i(t,"play",this.onPlay),_i(t,"pause",this.onPause),_i(t,"seeking",this.onSeeking),_i(t,"timeupdate",this.onTimeupdate)}onMediaAttaching(t,e){const n=this.media=e.media;bi(n,"seeking",this.onSeeking),bi(n,"timeupdate",this.onTimeupdate),bi(n,"play",this.onPlay),bi(n,"pause",this.onPause)}onMediaAttached(t,e){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,null===n)this.checkStart();else if(!i){this.clearScheduleState();const t=this.findItemIndex(n);this.setSchedulePosition(t)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(t,e){const n=!!e.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const t=this.getBufferingPlayer();t&&(this.log(`Removing schedule state for detachedData and ${t}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,t.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const t=this,e=()=>t.bufferingItem||t.waitingItem,n=e=>e?t.getAssetPlayer(e.identifier):e,i=(e,i,s,a,o)=>{if(e){let l=e[i].start;const c=e.event;if(c){if("playout"===i||c.timelineOccupancy!==La.Point){const t=n(s);(null==t?void 0:t.interstitial)===c&&(l+=t.assetItem.startOffset+t[o])}}else{l+=("bufferedPos"===a?r():t[a])-e.start}return l}return 0},r=()=>{const e=t.bufferedPos;return e===Number.MAX_VALUE?s("primary"):Math.max(e,0)},s=e=>{var n,i;return null!=(n=t.primaryDetails)&&n.live?t.primaryDetails.edge:(null==(i=t.schedule)?void 0:i.durations[e])||0},a=(e,r)=>{var s,a;const o=t.effectivePlayingItem;if(null!=o&&null!=(s=o.event)&&s.restrictions.skip||!t.schedule)return;t.log(`seek to ${e} "${r}"`);const l=t.effectivePlayingItem,c=t.schedule.findItemIndexAtTime(e,r),u=null==(a=t.schedule.items)?void 0:a[c],d=t.getBufferingPlayer(),h=null==d?void 0:d.interstitial,f=null==h?void 0:h.appendInPlace,p=l&&t.itemsMatch(l,u);if(l&&(f||p)){const s=n(t.playingAsset),a=(null==s?void 0:s.media)||t.primaryMedia;if(a){const n="primary"===r?a.currentTime:i(l,r,t.playingAsset,"timelinePos","currentTime"),o=e-n,c=(f?n:a.currentTime)+o;if(c>=0&&(!s||f||c<=s.duration))return void(a.currentTime=c)}}if(u){let n=e;if("primary"!==r){const t=e-u[r].start;n=u.start+t}const i=!t.isInterstitial(u);if(t.isInterstitial(l)&&!l.event.appendInPlace||!i&&!u.event.appendInPlace){if(l){const s=t.findItemIndex(l);if(c>s){const e=t.schedule.findJumpRestrictedIndex(s+1,c);if(e>s)return void t.setSchedulePosition(e)}let a=0;if(i)t.timelinePos=n,t.checkBuffer();else{const t=u.event.assetList,n=e-(u[r]||u).start;for(let e=t.length;e--;){const i=t[e];if(i.duration&&n>=i.startOffset&&n<i.startOffset+i.duration){a=e;break}}}t.setSchedulePosition(c,a)}}else{const e=t.media||(f?null==d?void 0:d.media:null);e&&(e.currentTime=n)}}},o=()=>{const n=t.effectivePlayingItem;if(t.isInterstitial(n))return n;const i=e();return t.isInterstitial(i)?i:null},l={get bufferedEnd(){const n=e(),r=t.bufferingItem;var s;return r&&r===n&&(i(r,"playout",t.bufferingAsset,"bufferedPos","bufferedEnd")-r.playout.start||(null==(s=t.bufferingAsset)?void 0:s.startOffset))||0},get currentTime(){const e=o(),n=t.effectivePlayingItem;return n&&n===e?i(n,"playout",t.effectivePlayingAsset,"timelinePos","currentTime")-n.playout.start:0},set currentTime(e){const n=o(),i=t.effectivePlayingItem;i&&i===n&&a(e+i.playout.start,"playout")},get duration(){const t=o();return t?t.playout.end-t.playout.start:0},get assetPlayers(){var e;const n=null==(e=o())?void 0:e.event.assetList;return n?n.map((e=>t.getAssetPlayer(e.identifier))):[]},get playingIndex(){var e;const n=null==(e=o())?void 0:e.event;return n&&t.effectivePlayingAsset?n.findAssetIndex(t.effectivePlayingAsset):-1},get scheduleItem(){return o()}};return this.manager={get events(){var e;return(null==(e=t.schedule)||null==(e=e.events)?void 0:e.slice(0))||[]},get schedule(){var e;return(null==(e=t.schedule)||null==(e=e.items)?void 0:e.slice(0))||[]},get interstitialPlayer(){return o()?l:null},get playerQueue(){return t.playerQueue.slice(0)},get bufferingAsset(){return t.bufferingAsset},get bufferingItem(){return e()},get bufferingIndex(){const n=e();return t.findItemIndex(n)},get playingAsset(){return t.effectivePlayingAsset},get playingItem(){return t.effectivePlayingItem},get playingIndex(){const e=t.effectivePlayingItem;return t.findItemIndex(e)},primary:{get bufferedEnd(){return r()},get currentTime(){const e=t.timelinePos;return e>0?e:0},set currentTime(t){a(t,"primary")},get duration(){return s("primary")},get seekableStart(){var e;return(null==(e=t.primaryDetails)?void 0:e.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(e(),"integrated",t.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(t.effectivePlayingItem,"integrated",t.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(t){a(t,"integrated")},get duration(){return s("integrated")},get seekableStart(){var e;return((e,n)=>{var i;if(0!==e&&"primary"!==n&&null!=(i=t.schedule)&&i.length){var r;const i=t.schedule.findItemIndexAtTime(e),s=null==(r=t.schedule.items)?void 0:r[i];if(s)return e+(s[n].start-s.start)}return e})((null==(e=t.primaryDetails)?void 0:e.fragmentStart)||0,"integrated")}},skip:()=>{const e=t.effectivePlayingItem,n=null==e?void 0:e.event;if(n&&!n.restrictions.skip){const i=t.findItemIndex(e);if(n.appendInPlace){const t=e.playout.start+e.event.duration;a(t+.001,"playout")}else t.advanceAfterAssetEnded(n,i,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var t;const e=this.playingItem,n=null==(t=this.schedule)?void 0:t.items;return!!(this.playbackStarted&&e&&n)&&this.findItemIndex(e)===n.length-1}get playbackStarted(){return null!==this.effectivePlayingItem}get currentTime(){var t,e;if(null===this.mediaSelection)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let r=this.media;!r&&null!=(t=this.bufferingItem)&&null!=(t=t.event)&&t.appendInPlace&&(r=this.primaryMedia);const s=null==(e=r)?void 0:e.currentTime;return void 0!==s&&i(s)?s:void 0}get primaryMedia(){var t;return this.media||(null==(t=this.detachedData)?void 0:t.media)||null}isInterstitial(t){return!(null==t||!t.event)}retreiveMediaSource(t,e){const n=this.getAssetPlayer(t);n&&this.transferMediaFromPlayer(n,e)}transferMediaFromPlayer(t,e){const n=t.interstitial.appendInPlace,i=t.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!e||this.isInterstitial(e)&&!e.event.appendInPlace)&&e&&i)return void(this.detachedData={media:i});const n=t.transferMedia();this.log(`transfer MediaSource from ${t} ${ie(n)}`),this.detachedData=n}else e&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(t,e){var n,i;if(t.media===e)return;let r=null;const s=this.hls,a=t!==s,o=a&&t.interstitial.appendInPlace,l=null==(n=this.detachedData)?void 0:n.mediaSource;let c;if(s.media)o&&(r=s.transferMedia(),this.detachedData=r),c="Primary";else if(l){const t=this.getBufferingPlayer();t?(r=t.transferMedia(),c=`${t}`):c="detached MediaSource"}else c="detached media";if(!r)if(l)r=this.detachedData,this.log(`using detachedData: MediaSource ${ie(r)}`);else if(!this.detachedData||s.media===e){const t=this.playerQueue;t.length>1&&t.forEach((t=>{if(a&&t.interstitial.appendInPlace!==o){const e=t.interstitial;this.clearInterstitial(t.interstitial,null),e.appendInPlace=!1,e.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${e}`)}})),this.hls.detachMedia(),this.detachedData={media:e}}const u=r&&"mediaSource"in r&&"closed"!==(null==(i=r.mediaSource)?void 0:i.readyState),d=u&&r?r:e;this.log(`${u?"transfering MediaSource":"attaching media"} to ${a?t:"Primary"} from ${c} (media.currentTime: ${e.currentTime})`);const h=this.schedule;if(d===r&&h){const e=a&&t.assetId===h.assetIdAtEnd;d.overrides={duration:h.duration,endOfStream:!a||e,cueRemoval:!a}}t.attachMedia(d)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const t=this.schedule,e=null==t?void 0:t.events;if(!e||this.playbackDisabled||!this.media)return;-1===this.bufferedPos&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(-1===n){const n=this.hls.startPosition;if(this.log(Ga("checkStart",n)),this.timelinePos=n,e.length&&e[0].cue.pre){const n=t.findEventIndex(e[0].identifier);this.setSchedulePosition(n)}else if(n>=0||!this.primaryLive){const e=this.timelinePos=n>0?n:0,i=t.findItemIndexAtTime(e);this.setSchedulePosition(i)}}else if(i&&!this.playingItem){const e=t.findItemIndex(i);this.setSchedulePosition(e)}}advanceAssetBuffering(t,e){const n=t.event,i=n.findAssetIndex(e),r=Na(n,i);if(n.isAssetPastPlayoutLimit(r)){if(this.schedule){var s;const e=null==(s=this.schedule.items)?void 0:s[this.findItemIndex(t)+1];e&&this.bufferedToItem(e)}}else this.bufferedToEvent(t,r)}advanceAfterAssetEnded(t,e,n){const i=Na(t,n);if(t.isAssetPastPlayoutLimit(i)){if(this.schedule){const n=this.schedule.items;if(n){const i=e+1;if(i>=n.length)return void this.setSchedulePosition(-1);const r=t.resumeTime;this.timelinePos<r&&(this.log(Ga("advanceAfterAssetEnded",r)),this.timelinePos=r,t.appendInPlace&&this.advanceInPlace(r),this.checkBuffer(this.bufferedPos<r)),this.setSchedulePosition(i)}}}else{if(t.appendInPlace){const e=t.assetList[i];e&&this.advanceInPlace(e.timelineStart)}this.setSchedulePosition(e,i)}}setScheduleToAssetAtTime(t,e){const n=this.schedule;if(!n)return;const i=e.parentIdentifier,r=n.getEvent(i);if(r){const e=n.findEventIndex(i),s=n.findAssetIndex(r,t);this.advanceAfterAssetEnded(r,e,s-1)}}setSchedulePosition(t,e){var n;const i=null==(n=this.schedule)?void 0:n.items;if(!i||this.playbackDisabled)return;const r=t>=0?i[t]:null;this.log(`setSchedulePosition ${t}, ${e} (${r?Ba(r):r}) pos: ${this.timelinePos}`);const s=this.waitingItem||this.playingItem,a=this.playingLastItem;if(this.isInterstitial(s)){const n=s.event,u=this.playingAsset,d=null==u?void 0:u.identifier,h=d?this.getAssetPlayer(d):null;if(h&&d&&(!this.eventItemsMatch(s,r)||void 0!==e&&d!==n.assetList[e].identifier)){var o;const e=n.findAssetIndex(u);if(this.log(`INTERSTITIAL_ASSET_ENDED ${e+1}/${n.assetList.length} ${Fa(u)}`),this.endedAsset=u,this.playingAsset=null,this.hls.trigger(l.INTERSTITIAL_ASSET_ENDED,{asset:u,assetListIndex:e,event:n,schedule:i.slice(0),scheduleIndex:t,player:h}),s!==this.playingItem)return void(this.itemsMatch(s,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(n,this.findItemIndex(this.playingItem),e));this.retreiveMediaSource(d,r),!h.media||null!=(o=this.detachedData)&&o.mediaSource||h.detachMedia()}if(!this.eventItemsMatch(s,r)&&(this.endedItem=s,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${n} ${Ba(s)}`),n.hasPlayed=!0,this.hls.trigger(l.INTERSTITIAL_ENDED,{event:n,schedule:i.slice(0),scheduleIndex:t}),n.cue.once)){var c;this.updateSchedule();const t=null==(c=this.schedule)?void 0:c.items;if(r&&t){const n=this.findItemIndex(r);this.advanceSchedule(n,t,e,s,a)}return}}this.advanceSchedule(t,i,e,s,a)}advanceSchedule(t,e,n,i,r){const s=this.schedule;if(!s)return;const a=e[t]||null,o=this.primaryMedia,c=this.playerQueue;if(c.length&&c.forEach((e=>{const n=e.interstitial,i=s.findEventIndex(n.identifier);(i<t||i>t+1)&&this.clearInterstitial(n,a)})),this.isInterstitial(a)){this.timelinePos=Math.min(Math.max(this.timelinePos,a.start),a.end);const r=a.event;if(void 0===n){const e=Na(r,(n=s.findAssetIndex(r,this.timelinePos))-1);if(r.isAssetPastPlayoutLimit(e)||r.appendInPlace&&this.timelinePos===a.end)return void this.advanceAfterAssetEnded(r,t,n);n=e}const c=this.waitingItem;this.assetsBuffered(a,o)||this.setBufferingItem(a);let u=this.preloadAssets(r,n);if(this.eventItemsMatch(a,c||i)||(this.waitingItem=a,this.log(`INTERSTITIAL_STARTED ${Ba(a)} ${r.appendInPlace?"append in place":""}`),this.hls.trigger(l.INTERSTITIAL_STARTED,{event:r,schedule:e.slice(0),scheduleIndex:t})),!r.assetListLoaded)return void this.log(`Waiting for ASSET-LIST to complete loading ${r}`);if(r.assetListLoader&&(r.assetListLoader.destroy(),r.assetListLoader=void 0),!o)return void this.log(`Waiting for attachMedia to start Interstitial ${r}`);this.waitingItem=this.endedItem=null,this.playingItem=a;const d=r.assetList[n];if(!d)return void this.advanceAfterAssetEnded(r,t,n||0);if(u||(u=this.getAssetPlayer(d.identifier)),null===u||u.destroyed){const t=r.assetList.length;this.warn(`asset ${n+1}/${t} player destroyed ${r}`),u=this.createAssetPlayer(r,d,n),u.loadSource()}if(!this.eventItemsMatch(a,this.bufferingItem)&&r.appendInPlace&&this.isAssetBuffered(d))return;this.startAssetPlayer(u,n,e,t,o),this.shouldPlay&&Ha(u.media)}else a?(this.resumePrimary(a,t,i),this.shouldPlay&&Ha(this.hls.media)):r&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(s.durations.primary,null))}get playbackDisabled(){return!1===this.hls.config.enableInterstitialPlayback}get primaryDetails(){var t;return null==(t=this.mediaSelection)?void 0:t.main.details}get primaryLive(){var t;return!(null==(t=this.primaryDetails)||!t.live)}resumePrimary(t,e,n){var i,r;if(this.playingItem=t,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(t),this.log(`resuming ${Ba(t)}`),null==(i=this.detachedData)||!i.mediaSource){let n=this.timelinePos;(n<t.start||n>=t.end)&&(n=this.getPrimaryResumption(t,e),this.log(Ga("resumePrimary",n)),this.timelinePos=n),this.attachPrimary(n,t)}if(!n)return;const s=null==(r=this.schedule)?void 0:r.items;s&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${Ba(t)}`),this.hls.trigger(l.INTERSTITIALS_PRIMARY_RESUMED,{schedule:s.slice(0),scheduleIndex:e}),this.checkBuffer())}getPrimaryResumption(t,e){const n=t.start;if(this.primaryLive){const t=this.primaryDetails;if(0===e)return this.hls.startPosition;if(t&&(n<t.fragmentStart||n>t.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(t){const e=this.getAssetPlayer(t.identifier);if(null!=e&&e.hls)return e.hls.bufferedToEnd;return nn.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=t.timelineStart+(t.duration||0)}attachPrimary(t,e,n){e?this.setBufferingItem(e):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const r=this.hls;r.media?this.checkBuffer():(this.transferMediaTo(r,i),n&&this.startLoadingPrimaryAt(t,n)),n||(this.log(Ga("attachPrimary",t)),this.timelinePos=t,this.startLoadingPrimaryAt(t,n))}startLoadingPrimaryAt(t,e){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs(((null==(n=i.mainForwardBufferInfo)?void 0:n.start)||i.media.currentTime)-t)>.5?i.startLoad(t,e):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var t;this.stopLoad(),null==(t=this.schedule)||t.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(l.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(l.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(t,e){if(-1===e.level||!this.schedule)return;const n=this.hls.levels[e.level];if(!n.details)return;const i=E(E({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(t,e){const n=this.hls.audioTracks[e.id],i=this.mediaSelection;if(!i)return void(this.altSelection=E(E({},this.altSelection),{},{audio:n}));const r=E(E({},i),{},{audio:n});this.mediaSelection=r}onSubtitleTrackUpdated(t,e){const n=this.hls.subtitleTracks[e.id],i=this.mediaSelection;if(!i)return void(this.altSelection=E(E({},this.altSelection),{},{subtitles:n}));const r=E(E({},i),{},{subtitles:n});this.mediaSelection=r}onAudioTrackSwitching(t,e){const n=ae(e);this.playerQueue.forEach((({hls:t})=>t&&(t.setAudioOption(e)||t.setAudioOption(n))))}onSubtitleTrackSwitch(t,e){const n=ae(e);this.playerQueue.forEach((({hls:t})=>t&&(t.setSubtitleOption(e)||-1!==e.id&&t.setSubtitleOption(n))))}onBufferCodecs(t,e){const n=e.tracks;n&&(this.requiredTracks=n)}onBufferAppended(t,e){this.checkBuffer()}onBufferFlushed(t,e){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const t=this.timelinePos;this.bufferedPos=t,this.checkBuffer()}}onBufferedToEnd(t){if(!this.schedule)return;const e=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&e){for(let t=0;t<e.length;t++){const i=e[t];if(i.cue.post){var n;const t=this.schedule.findEventIndex(i.identifier),e=null==(n=this.schedule.items)?void 0:n[t];this.isInterstitial(e)&&this.eventItemsMatch(e,this.bufferingItem)&&this.bufferedToItem(e,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(t){const e=this.playingItem;if(!this.playingLastItem&&e){const t=this.findItemIndex(e);this.setSchedulePosition(t+1)}else this.shouldPlay=!1}updateItem(t,e){var n;const i=null==(n=this.schedule)?void 0:n.items;if(t&&i){return i[this.findItemIndex(t,e)]||null}return null}trimInPlace(t,e){if(this.isInterstitial(t)&&t.event.appendInPlace&&e.end-t.end>.25){t.event.assetList.forEach(((e,n)=>{t.event.isAssetPastPlayoutLimit(n)&&this.clearAssetPlayer(e.identifier,null)}));const n=t.end+.25,i=nn.bufferInfo(this.primaryMedia,n,0);if(i.end>n||(i.nextStart||0)>n){this.log(`trim buffered interstitial ${Ba(t)} (was ${Ba(e)})`);const i=!0;this.attachPrimary(n,null,i),this.flushFrontBuffer(n)}}}itemsMatch(t,e){return!!e&&(t===e||t.event&&e.event&&this.eventItemsMatch(t,e)||!t.event&&!e.event&&this.findItemIndex(t)===this.findItemIndex(e))}eventItemsMatch(t,e){var n;return!!e&&(t===e||t.event.identifier===(null==(n=e.event)?void 0:n.identifier))}findItemIndex(t,e){return t&&this.schedule?this.schedule.findItemIndex(t,e):-1}updateSchedule(t=!1){var e;const n=this.mediaSelection;n&&(null==(e=this.schedule)||e.updateSchedule(n,[],t))}checkBuffer(t){var e;const n=null==(e=this.schedule)?void 0:e.items;if(!n)return;const i=nn.bufferInfo(this.primaryMedia,this.timelinePos,0);t&&(this.bufferedPos=this.timelinePos),t||(t=i.len<1),this.updateBufferedPos(i.end,n,t)}updateBufferedPos(t,e,n){const i=this.schedule,r=this.bufferingItem;if(this.bufferedPos>t||!i)return;if(1===e.length&&this.itemsMatch(e[0],r))return void(this.bufferedPos=t);const s=this.playingItem,a=this.findItemIndex(s);let o=i.findItemIndexAtTime(t);if(this.bufferedPos<t){var l;const n=this.findItemIndex(r),i=Math.min(n+1,e.length-1),s=e[i];if((-1===o&&r&&t>=r.end||null!=(l=s.event)&&l.appendInPlace&&t+.01>=s.start)&&(o=i),this.isInterstitial(r)){const t=r.event;if(i-a>1&&!1===t.appendInPlace)return;if(0===t.assetList.length&&t.assetListLoader)return}if(this.bufferedPos=t,o>n&&o>a)this.bufferedToItem(s);else{const e=this.primaryDetails;this.primaryLive&&e&&t>e.edge-e.targetduration&&s.start<e.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(s)&&this.preloadAssets(s.event,0)}}else n&&s&&!this.itemsMatch(s,r)&&(o===a?this.bufferedToItem(s):o===a+1&&this.bufferedToItem(e[o]))}assetsBuffered(t,e){return 0!==t.event.assetList.length&&!t.event.assetList.some((t=>{const n=this.getAssetPlayer(t.identifier);return!(null!=n&&n.bufferedInPlaceToEnd(e))}))}setBufferingItem(t){const e=this.bufferingItem,n=this.schedule;if(!this.itemsMatch(t,e)&&n){const{items:i,events:r}=n;if(!i||!r)return e;const s=this.isInterstitial(t),a=this.getBufferingPlayer();this.bufferingItem=t,this.bufferedPos=Math.max(t.start,Math.min(t.end,this.timelinePos));const o=a?a.remaining:e?e.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${Ba(t)}`+(e?` (${o.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(s){const e=n.findAssetIndex(t.event,this.bufferedPos);t.event.assetList.forEach(((t,n)=>{const i=this.getAssetPlayer(t.identifier);i&&(n===e&&i.loadSource(),i.resumeBuffering())}))}else this.hls.resumeBuffering(),this.playerQueue.forEach((t=>t.pauseBuffering()));this.hls.trigger(l.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:r.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(t),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==t&&(this.bufferingItem=t);return e}bufferedToItem(t,e=0){const n=this.setBufferingItem(t);if(!this.playbackDisabled)if(this.isInterstitial(t))this.bufferedToEvent(t,e);else if(null!==n){this.bufferingAsset=null;const e=this.detachedData;if(e)if(e.mediaSource){const e=!0;this.attachPrimary(t.start,t,e)}else this.preloadPrimary(t);else this.preloadPrimary(t)}}preloadPrimary(t){const e=this.findItemIndex(t),n=this.getPrimaryResumption(t,e);this.startLoadingPrimaryAt(n)}bufferedToEvent(t,e){const n=t.event,i=0===n.assetList.length&&!n.assetListLoader,r=n.cue.once;if(i||!r){const t=this.preloadAssets(n,e);if(null!=t&&t.interstitial.appendInPlace){const e=this.primaryMedia;e&&this.bufferAssetPlayer(t,e)}}}preloadAssets(t,e){const n=t.assetUrl,i=t.assetList.length,r=0===i&&!t.assetListLoader,s=t.cue.once;if(r){const r=t.timelineStart;if(t.appendInPlace){var a;const e=this.playingItem;this.isInterstitial(e)||(null==e||null==(a=e.nextEvent)?void 0:a.identifier)!==t.identifier||this.flushFrontBuffer(r+.25)}let s,o=0;if(!this.playingItem&&this.primaryLive&&(o=this.hls.startPosition,-1===o&&(o=this.hls.liveSyncPosition||0)),o&&!t.cue.pre&&!t.cue.post){const t=o-r;t>0&&(s=Math.round(1e3*t)/1e3)}if(this.log(`Load interstitial asset ${e+1}/${n?1:i} ${t}${s?` live-start: ${o} start-offset: ${s}`:""}`),n)return this.createAsset(t,0,0,r,t.duration,n);const l=this.assetListLoader.loadAssetList(t,s);l&&(t.assetListLoader=l)}else if(!s&&i){for(let n=e;n<i;n++){const e=t.assetList[n],i=this.getAssetPlayerQueueIndex(e.identifier);-1!==i&&!this.playerQueue[i].destroyed||e.error||this.createAssetPlayer(t,e,n)}const n=t.assetList[e];if(n){const t=this.getAssetPlayer(n.identifier);return t&&t.loadSource(),t}}return null}flushFrontBuffer(t){const e=this.requiredTracks;if(!e)return;this.log(`Removing front buffer starting at ${t}`);Object.keys(e).forEach((e=>{this.hls.trigger(l.BUFFER_FLUSHING,{startOffset:t,endOffset:1/0,type:e})}))}getAssetPlayerQueueIndex(t){const e=this.playerQueue;for(let n=0;n<e.length;n++)if(t===e[n].assetId)return n;return-1}getAssetPlayer(t){const e=this.getAssetPlayerQueueIndex(t);return this.playerQueue[e]||null}getBufferingPlayer(){const{playerQueue:t,primaryMedia:e}=this;if(e)for(let n=0;n<t.length;n++)if(t[n].media===e)return t[n];return null}createAsset(t,e,n,i,r,s){const a={parentIdentifier:t.identifier,identifier:Pa(t,s,e),duration:r,startOffset:n,timelineStart:i,uri:s};return this.createAssetPlayer(t,a,e)}createAssetPlayer(t,e,n){const i=this.hls,r=i.userConfig;let s=r.videoPreference;const c=i.loadLevelObj||i.levels[i.currentLevel];(s||c)&&(s=b({},s),c.videoCodec&&(s.videoCodec=c.videoCodec),c.videoRange&&(s.allowedVideoRanges=[c.videoRange]));const u=i.audioTracks[i.audioTrack],d=i.subtitleTracks[i.subtitleTrack];let h=0;if(this.primaryLive||t.appendInPlace){const t=this.timelinePos-e.timelineStart;if(t>1){const n=e.duration;n&&t<n&&(h=t)}}const f=e.identifier,p=E(E({},r),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:h,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:s,audioPreference:u||r.audioPreference,subtitlePreference:d||r.subtitlePreference});t.appendInPlace&&(t.appendInPlaceStarted=!0,e.timelineStart&&(p.timelineOffset=e.timelineStart));const m=p.cmcd;null!=m&&m.sessionId&&m.contentId&&(p.cmcd=b({},m,{contentId:Ia(e.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${t} and asset ${f}`);const g=new $a(this.HlsPlayerClass,p,t,e);this.playerQueue.push(g),t.assetList[n]=e;let v=!0;const y=i=>{if(i.live){var r;const e=new Error(`Interstitials MUST be VOD assets ${t}`),i={fatal:!0,type:a.OTHER_ERROR,details:o.INTERSTITIAL_ASSET_ITEM_ERROR,error:e},s=(null==(r=this.schedule)?void 0:r.findEventIndex(t.identifier))||-1;return void this.handleAssetItemError(i,t,s,n,e.message)}const s=i.edge-i.fragmentStart,l=e.duration;(v||null===l||s>l)&&(v=!1,this.log(`Interstitial asset "${f}" duration change ${l} > ${s}`),e.duration=s,this.updateSchedule())};g.on(l.LEVEL_UPDATED,((t,{details:e})=>y(e))),g.on(l.LEVEL_PTS_UPDATED,((t,{details:e})=>y(e))),g.on(l.EVENT_CUE_ENTER,(()=>this.onInterstitialCueEnter()));const _=(t,e)=>{const n=this.getAssetPlayer(f);if(n&&e.tracks){n.off(l.BUFFER_CODECS,_),n.tracks=e.tracks;const t=this.primaryMedia;this.bufferingAsset===n.assetItem&&t&&!n.media&&this.bufferAssetPlayer(n,t)}};g.on(l.BUFFER_CODECS,_);g.on(l.BUFFERED_TO_END,(()=>{var n;const i=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${i}`),!i||!this.schedule)return;const r=this.schedule.findEventIndex(t.identifier),s=null==(n=this.schedule.items)?void 0:n[r];this.isInterstitial(s)&&this.advanceAssetBuffering(s,e)}));const S=e=>()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;this.shouldPlay=!0;const n=this.schedule.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,n,e)};return g.once(l.MEDIA_ENDED,S(n)),g.once(l.PLAYOUT_LIMIT_REACHED,S(1/0)),g.on(l.ERROR,((e,i)=>{if(!this.schedule)return;const r=this.getAssetPlayer(f);if(i.details===o.BUFFER_STALLED_ERROR)return null!=r&&r.appendInPlace?void this.handleInPlaceStall(t):(this.onTimeupdate(),void this.checkBuffer(!0));this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),n,`Asset player error ${i.error} ${t}`)})),g.on(l.DESTROYING,(()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;const e=new Error(`Asset player destroyed unexpectedly ${f}`),i={fatal:!0,type:a.OTHER_ERROR,details:o.INTERSTITIAL_ASSET_ITEM_ERROR,error:e};this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),n,e.message)})),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${Fa(e)}`),this.hls.trigger(l.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:e,assetListIndex:n,event:t,player:g}),g}clearInterstitial(t,e){this.clearAssetPlayers(t,e),t.reset()}clearAssetPlayers(t,e){t.assetList.forEach((t=>{this.clearAssetPlayer(t.identifier,e)}))}resetAssetPlayer(t){const e=this.getAssetPlayerQueueIndex(t);if(-1!==e){this.log(`reset asset player "${t}" after error`);const n=this.playerQueue[e];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(t,e){const n=this.getAssetPlayerQueueIndex(t);if(-1!==n){const t=this.playerQueue[n];this.log(`clear ${t} toSegment: ${e?Ba(e):e}`),this.transferMediaFromPlayer(t,e),this.playerQueue.splice(n,1),t.destroy()}}emptyPlayerQueue(){let t;for(;t=this.playerQueue.pop();)t.destroy();this.playerQueue=[]}startAssetPlayer(t,e,n,i,r){const{interstitial:s,assetItem:a,assetId:o}=t,c=s.assetList.length,u=this.playingAsset;this.endedAsset=null,this.playingAsset=a,u&&u.identifier===o||(u&&(this.clearAssetPlayer(u.identifier,n[i]),delete u.error),this.log(`INTERSTITIAL_ASSET_STARTED ${e+1}/${c} ${Fa(a)}`),this.hls.trigger(l.INTERSTITIAL_ASSET_STARTED,{asset:a,assetListIndex:e,event:s,schedule:n.slice(0),scheduleIndex:i,player:t})),this.bufferAssetPlayer(t,r)}bufferAssetPlayer(t,e){var n,i;if(!this.schedule)return;const{interstitial:r,assetItem:s}=t,l=this.schedule.findEventIndex(r.identifier),c=null==(n=this.schedule.items)?void 0:n[l];if(!c)return;t.loadSource(),this.setBufferingItem(c),this.bufferingAsset=s;const u=this.getBufferingPlayer();if(u===t)return;const d=r.appendInPlace;if(d&&!1===(null==u?void 0:u.interstitial.appendInPlace))return;const h=(null==u?void 0:u.tracks)||(null==(i=this.detachedData)?void 0:i.tracks)||this.requiredTracks;if(d&&s!==this.playingAsset){if(!t.tracks)return void this.log(`Waiting for track info before buffering ${t}`);if(h&&!D(h,t.tracks)){const e=new Error(`Asset ${Fa(s)} SourceBuffer tracks ('${Object.keys(t.tracks)}') are not compatible with primary content tracks ('${Object.keys(h)}')`),n={fatal:!0,type:a.OTHER_ERROR,details:o.INTERSTITIAL_ASSET_ITEM_ERROR,error:e},i=r.findAssetIndex(s);return void this.handleAssetItemError(n,r,l,i,e.message)}}this.transferMediaTo(t,e)}handleInPlaceStall(t){const e=this.schedule,n=this.primaryMedia;if(!e||!n)return;const i=n.currentTime,r=e.findAssetIndex(t,i),s=t.assetList[r];if(s){const a=this.getAssetPlayer(s.identifier);if(a){const o=a.currentTime||i-s.timelineStart,l=a.duration-o;if(this.warn(`Stalled at ${o} of ${o+l} in ${a} ${t} (media.currentTime: ${i})`),o&&(l/n.playbackRate<.5||a.bufferedInPlaceToEnd(n))&&a.hls){const n=e.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,n,r)}}}}advanceInPlace(t){const e=this.primaryMedia;e&&e.currentTime<t&&(e.currentTime=t)}handleAssetItemError(t,e,n,i,r){if(t.details===o.BUFFER_STALLED_ERROR)return;const s=e.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${s?Fa(s):s} ${t.error}`),!this.schedule)return;const a=(null==s?void 0:s.identifier)||"",c=this.getAssetPlayerQueueIndex(a),u=this.playerQueue[c]||null,d=this.schedule.items,h=b({},t,{fatal:!1,errorAction:Oe(!0),asset:s,assetListIndex:i,event:e,schedule:d,scheduleIndex:n,player:u});if(this.hls.trigger(l.INTERSTITIAL_ASSET_ERROR,h),!t.fatal)return;const f=this.playingAsset,p=this.bufferingAsset,m=new Error(r);if(s&&(this.clearAssetPlayer(a,null),s.error=m),e.assetList.some((t=>!t.error)))for(let t=i;t<e.assetList.length;t++)this.resetAssetPlayer(e.assetList[t].identifier);else e.error=m;this.updateSchedule(!0),e.error?this.primaryFallback(e):f&&f.identifier===a?this.advanceAfterAssetEnded(e,n,i):p&&p.identifier===a&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,p)}primaryFallback(t){const e=t.timelineStart,n=this.effectivePlayingItem;let i=this.timelinePos;if(n){this.log(`Fallback to primary from event "${t.identifier}" start: ${e} pos: ${i} playing: ${Ba(n)} error: ${t.error}`),-1===i&&(i=this.hls.startPosition);const r=this.updateItem(n,i);this.itemsMatch(n,r)&&this.clearInterstitial(t,null),t.appendInPlace&&(this.attachPrimary(e,null),this.flushFrontBuffer(e))}else if(-1===i)return void this.checkStart();if(!this.schedule)return;const r=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(r)}onAssetListLoaded(t,e){var n,i;const r=e.event,s=r.identifier,a=e.assetListResponse.ASSETS;if(null==(n=this.schedule)||!n.hasEvent(s))return;const o=r.timelineStart,l=r.duration;let c=0;a.forEach(((t,e)=>{const n=parseFloat(t.DURATION);this.createAsset(r,e,c,o+c,n,t.URI),c+=n})),r.duration=c,this.log(`Loaded asset-list with duration: ${c} (was: ${l}) ${r}`);const u=this.waitingItem,d=(null==u?void 0:u.event.identifier)===s;this.updateSchedule();const h=null==(i=this.bufferingItem)?void 0:i.event;if(d){var f;const t=this.schedule.findEventIndex(s),e=null==(f=this.schedule.items)?void 0:f[t];if(e){if(!this.playingItem&&this.timelinePos>e.end){if(this.schedule.findItemIndexAtTime(this.timelinePos)!==t)return r.error=new Error(`Interstitial ${a.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${r}`),this.log(r.error.message),this.updateSchedule(!0),void this.primaryFallback(r)}this.setBufferingItem(e)}this.setSchedulePosition(t)}else if((null==h?void 0:h.identifier)===s){const t=r.assetList[0];if(t){const e=this.getAssetPlayer(t.identifier);if(h.appendInPlace){const t=this.primaryMedia;e&&t&&this.bufferAssetPlayer(e,t)}else e&&e.loadSource()}}}onError(t,e){if(this.schedule)switch(e.details){case o.ASSET_LIST_PARSING_ERROR:case o.ASSET_LIST_LOAD_ERROR:case o.ASSET_LIST_LOAD_TIMEOUT:{const t=e.interstitial;t&&(this.updateSchedule(!0),this.primaryFallback(t));break}case o.BUFFER_STALLED_ERROR:{const t=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(t)&&t.event.appendInPlace)return void this.handleInPlaceStall(t.event);this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}});function zo(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(zo):Object.keys(t).reduce(((e,n)=>(e[n]=zo(t[n]),e)),{}):t}function Yo(t,e){const n=t.loader;if(n!==Ho&&n!==Vo)e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1})()&&(t.loader=Ho,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}}class Qo extends Je{constructor(t,e){super("gap-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var t;null!=(t=this.media)&&t.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{var t;this.hls&&(this.ended=(null==(t=this.media)?void 0:t.currentTime)||1,this.hls.trigger(l.MEDIA_ENDED,{stalled:!1}))},this.hls=t,this.fragmentTracker=e,this.registerListeners()}registerListeners(){const{hls:t}=this;t&&(t.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(t,e){this.setInterval(100),this.mediaSource=e.mediaSource;const n=this.media=e.media;bi(n,"playing",this.onMediaPlaying),bi(n,"waiting",this.onMediaWaiting),bi(n,"ended",this.onMediaEnded)}onMediaDetaching(t,e){this.clearInterval();const{media:n}=this;n&&(_i(n,"playing",this.onMediaPlaying),_i(n,"waiting",this.onMediaWaiting),_i(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(t,e){this.buffered=e.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var t;if(null==(t=this.media)||!t.readyState||!this.hasBuffered)return;const e=this.media.currentTime;this.poll(e,this.lastCurrentTime),this.lastCurrentTime=e}poll(t,e){var n,i;const r=null==(n=this.hls)?void 0:n.config;if(!r)return;const s=this.media;if(!s)return;const{seeking:a}=s,o=this.seeking&&!a,c=!this.seeking&&a,u=s.paused&&!a||s.ended||0===s.playbackRate;if(this.seeking=a,t!==e)return e&&(this.ended=0),this.moved=!0,a||(this.nudgeRetry=0,r.nudgeOnVideoHole&&!u&&t>e&&this.nudgeOnVideoHole(t,e)),void(0===this.waiting&&this.stallResolved(t));if(c||o)return void(o&&this.stallResolved(t));if(u)return this.nudgeRetry=0,this.stallResolved(t),void(!this.ended&&s.ended&&this.hls&&(this.ended=t||1,this.hls.trigger(l.MEDIA_ENDED,{stalled:!1})));if(!nn.getBuffered(s).length)return void(this.nudgeRetry=0);const d=nn.bufferInfo(s,t,0),h=d.nextStart||0,f=this.fragmentTracker;if(a&&f&&this.hls){const e=Xo(this.hls.inFlightFragments,t),n=d.len>2,i=!h||e||h-t>2&&!f.getPartialFragment(t);if(n||i)return;this.moved=!1}const p=null==(i=this.hls)?void 0:i.latestLevelDetails;if(!this.moved&&null!==this.stalled&&f){if(!(d.len>0)&&!h)return;const e=Math.max(h,d.start||0)-t,n=!(null==p||!p.live)?2*p.targetduration:2,i=Jo(t,f);if(e>0&&(e<=n||i))return void(s.paused||this._trySkipBufferHole(i))}const m=r.detectStallWithCurrentTimeMs,g=self.performance.now(),v=this.waiting;let y=this.stalled;if(null===y){if(!(v>0&&g-v<m))return void(this.stalled=g);y=this.stalled=v}const b=g-y;if(!a&&(b>=m||v)&&this.hls){var _;if("ended"===(null==(_=this.mediaSource)?void 0:_.readyState)&&(null==p||!p.live)&&Math.abs(t-((null==p?void 0:p.edge)||0))<1){if(this.ended)return;return this.ended=t||1,void this.hls.trigger(l.MEDIA_ENDED,{stalled:!0})}if(this._reportStall(d),!this.media||!this.hls)return}const E=nn.bufferInfo(s,t,r.maxBufferHole);this._tryFixBufferStall(E,b,t)}stallResolved(t){const e=this.stalled;if(e&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-e;this.log(`playback not stuck anymore @${t}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(l.STALL_RESOLVED,{})}}nudgeOnVideoHole(t,e){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&null!=(n=this.buffered.audio)&&n.length&&i&&i.length>1&&t>i.end(0)){const n=nn.bufferedInfo(nn.timeRangesToArray(this.buffered.audio),t,0);if(n.len>1&&e>=n.start){const n=nn.timeRangesToArray(i),r=nn.bufferedInfo(n,e,0).bufferedIndex;if(r>-1&&r<n.length-1){const e=nn.bufferedInfo(n,t,0).bufferedIndex,i=n[r].end,s=n[r+1].start;if((-1===e||e>r)&&s-i<1&&t-i<2){const n=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${t} hole: ${i} -> ${s} buffered index: ${e}`);this.warn(n.message),this.media.currentTime+=1e-6;let r=Jo(t,this.fragmentTracker);r&&"fragment"in r?r=r.fragment:r||(r=void 0);const c=nn.bufferInfo(this.media,t,0);this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:n,reason:n.message,frag:r,buffer:c.len,bufferInfo:c})}}}}}_tryFixBufferStall(t,e,n){var i,r;const{fragmentTracker:s,media:a}=this,o=null==(i=this.hls)?void 0:i.config;if(!a||!s||!o)return;const l=null==(r=this.hls)?void 0:r.latestLevelDetails,c=Jo(n,s);if(c||null!=l&&l.live&&n<l.fragmentStart){if(this._trySkipBufferHole(c)||!this.media)return}const u=t.buffered,d=this.adjacentTraversal(t,n);(u&&u.length>1&&t.len>o.maxBufferHole||t.nextStart&&(t.nextStart-n<o.maxBufferHole||d))&&(e>1e3*o.highBufferWatchdogPeriod||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(t))}adjacentTraversal(t,e){const n=this.fragmentTracker,i=t.nextStart;if(n&&i){const t=n.getFragAtPos(e,f),r=n.getFragAtPos(i,f);if(t&&r)return r.sn-t.sn<2}return!1}_reportStall(t){const{hls:e,media:n,stallReported:i,stalled:r}=this;if(!i&&null!==r&&n&&e){this.stallReported=!0;const i=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${ie(t)})`);this.warn(i.message),e.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:t.len,bufferInfo:t,stalled:{start:r}})}}_trySkipBufferHole(t){var e;const{fragmentTracker:n,media:i}=this,r=null==(e=this.hls)?void 0:e.config;if(!i||!n||!r)return 0;const s=i.currentTime,c=nn.bufferInfo(i,s,0),u=s<c.start?c.start:c.nextStart;if(u&&this.hls){const e=c.len<=r.maxBufferHole,h=c.len>0&&c.len<1&&i.readyState<3,p=u-s;if(p>0&&(e||h)){if(p>r.maxBufferHole){let e=!1;if(0===s){const t=n.getAppendedFrag(0,f);t&&u<t.end&&(e=!0)}if(!e&&t){var d;if(null==(d=this.hls.loadLevelObj)||!d.details)return 0;if(Xo(this.hls.inFlightFragments,u))return 0;let e=!1,i=t.end;for(;i<u;){const t=Jo(i,n);if(!t){e=!0;break}i+=t.duration}if(e)return 0}}const e=Math.max(u+.05,s+.1);if(this.warn(`skipping hole, adjusting currentTime from ${s} to ${e}`),this.moved=!0,i.currentTime=e,null==t||!t.gap){const n=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${e}`),i={type:a.MEDIA_ERROR,details:o.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:n,reason:n.message,buffer:c.len,bufferInfo:c};t&&("fragment"in t?i.part=t:i.frag=t),this.hls.trigger(l.ERROR,i)}return e}}return 0}_tryNudgeBuffer(t){const{hls:e,media:n,nudgeRetry:i}=this,r=null==e?void 0:e.config;if(!n||!r)return 0;const s=n.currentTime;if(this.nudgeRetry++,i<r.nudgeMaxRetry){const c=s+(i+1)*r.nudgeOffset,u=new Error(`Nudging 'currentTime' from ${s} to ${c}`);this.warn(u.message),n.currentTime=c,e.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.BUFFER_NUDGE_ON_STALL,error:u,fatal:!1,buffer:t.len,bufferInfo:t})}else{const n=new Error(`Playhead still not moving while enough data buffered @${s} after ${r.nudgeMaxRetry} nudges`);this.error(n.message),e.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.BUFFER_STALLED_ERROR,error:n,fatal:!0,buffer:t.len,bufferInfo:t})}}}function Xo(t,e){const n=Zo(t.main);if(n&&n.start<=e)return n;const i=Zo(t.audio);return i&&i.start<=e?i:null}function Zo(t){if(!t)return null;switch(t.state){case Si.IDLE:case Si.STOPPED:case Si.ENDED:case Si.ERROR:return null}return t.frag}function Jo(t,e){return e.getAppendedFrag(t,f)||e.getPartialFragment(t)}function tl(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function el(t,e,n,i,r){let s=new t(e,n,"");try{s.value=i,r&&(s.type=r)}catch(a){s=new t(e,n,ie(r?E({type:r},i):i))}return s}const nl=(()=>{const t=tl();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class il{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(l.EVENT_CUE_ENTER,{})},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:t}=this;t&&(t.on(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(l.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(l.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:t}=this;t&&(t.off(l.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(l.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(l.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(t,e){var n;this.media=e.media,!1===(null==(n=e.overrides)?void 0:n.cueRemoval)&&(this.removeCues=!1)}onMediaAttached(){var t;const e=null==(t=this.hls)?void 0:t.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(t,e){this.media=null;!!e.transferMedia||(this.id3Track&&(this.removeCues&&Ca(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const n=t[e];if("metadata"===n.kind&&"id3"===n.label)return wa(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:n,enableID3MetadataCues:i}=this.hls.config;if(!n&&!i)return;const{samples:r}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=tl();if(s)for(let t=0;t<r.length;t++){const e=r[t].type;if(e===er.emsg&&!n||!i)continue;const a=Xi(r[t].data),o=r[t].pts;let l=o+r[t].duration;l>nl&&(l=nl);l-o<=0&&(l=o+.25);for(let t=0;t<a.length;t++){const n=a[t];if(!Zi(n)){this.updateId3CueEnds(o,e);const t=el(s,o,l,n,e);t&&this.id3Track.addCue(t)}}}}updateId3CueEnds(t,e){var n;const i=null==(n=this.id3Track)?void 0:n.cues;if(i)for(let n=i.length;n--;){const r=i[n];r.type===e&&r.startTime<t&&r.endTime===nl&&(r.endTime=t)}}onBufferFlushing(t,{startOffset:e,endOffset:n,type:i}){const{id3Track:r,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:o}}=s;if(r&&(a||o)){let t;t="audio"===i?t=>t.type===er.audioId3&&o:"video"===i?t=>t.type===er.emsg&&a:t=>t.type===er.audioId3&&o||t.type===er.emsg&&a,xa(r,e,n,t)}}onLevelUpdated(t,{details:e}){this.updateDateRangeCues(e,!0)}onLevelPtsUpdated(t,e){Math.abs(e.drift)>.01&&this.updateDateRangeCues(e.details)}updateDateRangeCues(t,e){if(!this.hls||!this.media)return;const{assetPlayerId:n,timelineOffset:r,enableDateRangeMetadataCues:s,interstitialsController:a}=this.hls.config;if(!s)return;const o=tl();if(n&&r&&!a){const{fragmentStart:e,fragmentEnd:i}=t;let r=this.assetCue;r?(r.startTime=e,r.endTime=i):o&&(r=this.assetCue=el(o,e,i,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),r&&(r.id=n,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(r),r.addEventListener("enter",this.onEventCueEnter)))}if(!t.hasProgramDateTime)return;const{id3Track:l}=this,{dateRanges:c}=t,u=Object.keys(c);let d=this.dateRangeCuesAppended;var h;if(l&&e)if(null!=(h=l.cues)&&h.length){const t=Object.keys(d).filter((t=>!u.includes(t)));for(let e=t.length;e--;){var f;const n=t[e],i=null==(f=d[n])?void 0:f.cues;delete d[n],i&&Object.keys(i).forEach((t=>{const e=i[t];if(e){e.removeEventListener("enter",this.onEventCueEnter);try{l.removeCue(e)}catch(t){}}}))}}else d=this.dateRangeCuesAppended={};const p=t.fragments[t.fragments.length-1];if(0!==u.length&&i(null==p?void 0:p.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let t=0;t<u.length;t++){const e=u[t],n=c[e],i=n.startTime,r=d[e],s=(null==r?void 0:r.cues)||{};let l=(null==r?void 0:r.durationKnown)||!1,h=nl;const{duration:f,endDate:p}=n;if(p&&null!==f)h=i+f,l=!0;else if(n.endOnNext&&!l){const t=u.reduce(((t,e)=>{if(e!==n.id){const i=c[e];if(i.class===n.class&&i.startDate>n.startDate&&(!t||n.startDate<t.startDate))return i}return t}),null);t&&(h=t.startTime,l=!0)}const g=Object.keys(n.attr);for(let t=0;t<g.length;t++){const c=g[t];if("ID"===(m=c)||"CLASS"===m||"CUE"===m||"START-DATE"===m||"DURATION"===m||"END-DATE"===m||"END-ON-NEXT"===m)continue;const u=s[c];if(u)!l||null!=r&&r.durationKnown?Math.abs(u.startTime-i)>.01&&(u.startTime=i,u.endTime=h):u.endTime=h;else if(o){let t=n.attr[c];hn(c)&&(t=O(t));const r=el(o,i,h,{key:c,data:t},er.dateRange);r&&(r.id=e,this.id3Track.addCue(r),s[c]=r,a&&("X-ASSET-LIST"!==c&&"X-ASSET-URL"!==c||r.addEventListener("enter",this.onEventCueEnter)))}}d[e]={cues:s,dateRange:n,durationKnown:l}}var m}}}class rl{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,e=this.levelDetails;if(!t||!e)return;this.currentTime=t.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:r}=this.config;if(!i||1===r||!e.live)return;const s=this.targetLatency;if(null===s)return;const a=n-s;if(a<Math.min(this.maxLatency,s+e.targetduration)&&a>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,r)),n=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20,i=Math.min(e,Math.max(1,n));this.changeMediaPlaybackRate(t,i)}else 1!==t.playbackRate&&0!==t.playbackRate&&this.changeMediaPlaybackRate(t,1)},this.hls=t,this.config=t.config,this.registerListeners()}get levelDetails(){var t;return(null==(t=this.hls)?void 0:t.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:t}=this;if(void 0!==t.liveMaxLatencyDuration)return t.liveMaxLatencyDuration;const e=this.levelDetails;return e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const t=this.levelDetails;if(null===t||null===this.hls)return null;const{holdBack:e,partHoldBack:n,targetduration:i}=t,{liveSyncDuration:r,liveSyncDurationCount:s,lowLatencyMode:a}=this.config,o=this.hls.userConfig;let l=a&&n||e;(this._targetLatencyUpdated||o.liveSyncDuration||o.liveSyncDurationCount||0===l)&&(l=void 0!==r?r:s*i);const c=i;return l+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,c)}set targetLatency(t){this.stallCount=0,this.config.liveSyncDuration=t,this._targetLatencyUpdated=!0}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency;if(null===t||null===e)return null;const n=this.levelDetails;if(null===n)return null;const i=n.edge,r=t-e-this.edgeStalled,s=i-n.totalduration,a=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(s,r),a)}get drift(){const t=this.levelDetails;return null===t?1:t.drift}get edgeStalled(){const t=this.levelDetails;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t}=this,e=this.levelDetails;if(!t||!e)return 0;const n=t.buffered.length;return(n?t.buffered.end(n-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:t}=this;t&&(t.on(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(l.ERROR,this.onError,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(l.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(l.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(l.ERROR,this.onError,this))}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:e}){e.advanced&&this.onTimeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(t,e){var n;e.details===o.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&null!=(n=this.levelDetails)&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(t,e){var n,i;t.playbackRate!==e&&(null==(n=this.hls)||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${null==(i=this.targetLatency)?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${t.playbackRate} to ${e}`),t.playbackRate=e)}estimateLiveEdge(){const t=this.levelDetails;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}class sl extends rs{constructor(t,e){super(t,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(l.LEVEL_LOADED,this.onLevelLoaded,this),t.on(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(l.FRAG_BUFFERED,this.onFragBuffered,this),t.on(l.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(l.LEVEL_LOADED,this.onLevelLoaded,this),t.off(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(l.FRAG_BUFFERED,this.onFragBuffered,this),t.off(l.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((t=>{t.loadError=0,t.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,e){this.resetLevels()}onManifestLoaded(t,e){const n=this.hls.config.preferManagedMediaSource,i=[],r={},s={};let a=!1,o=!1,l=!1;e.levels.forEach((t=>{const e=t.attrs;let{audioCodec:c,videoCodec:u}=t;c&&(t.audioCodec=c=Rt(c,n)||void 0),u&&(u=t.videoCodec=function(t){const e=t.split(",");for(let t=0;t<e.length;t++){const n=e[t].split(".");n.length>2&&"avc1"===n[0]&&(e[t]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}(u));const{width:d,height:h,unknownCodecs:f}=t,p=(null==f?void 0:f.length)||0;if(a||(a=!(!d||!h)),o||(o=!!u),l||(l=!!c),p||c&&!this.isAudioSupported(c)||u&&!this.isVideoSupported(u))return void this.log(`Some or all CODECS not supported "${e.CODECS}"`);const{CODECS:m,"FRAME-RATE":g,"HDCP-LEVEL":v,"PATHWAY-ID":y,RESOLUTION:b,"VIDEO-RANGE":_}=e,E=`${`${y||"."}-`}${t.bitrate}-${b}-${g}-${m}-${_}-${v}`;if(r[E])if(r[E].uri===t.url||t.attrs["PATHWAY-ID"])r[E].addGroupId("audio",e.AUDIO),r[E].addGroupId("text",e.SUBTITLES);else{const e=s[E]+=1;t.attrs["PATHWAY-ID"]=new Array(e+1).join(".");const n=this.createLevel(t);r[E]=n,i.push(n)}else{const e=this.createLevel(t);r[E]=e,s[E]=1,i.push(e)}})),this.filterAndSortMediaOptions(i,e,a,o,l)}createLevel(t){const e=new te(t),n=t.supplemental;if(null!=n&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const t=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(t.message),e.supportedResult=Ht(t,[])}return e}isAudioSupported(t){return xt(t,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(t){return xt(t,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(t,e,n,i,r){var s;let c=[],u=[],d=t;const h=(null==(s=e.stats)?void 0:s.parsing)||{};if((n||i)&&r&&(d=d.filter((({videoCodec:t,videoRange:e,width:n,height:i})=>{return(!!t||!(!n||!i))&&(!!(r=e)&&zt.indexOf(r)>-1);var r}))),0===d.length)return Promise.resolve().then((()=>{if(this.hls){let t="no level with compatible codecs found in manifest",n=t;e.levels.length&&(n=`one or more CODECS in variant not supported: ${ie(e.levels.map((t=>t.attrs.CODECS)).filter(((t,e,n)=>n.indexOf(t)===e)))}`,this.warn(n),t+=` (${n})`);const i=new Error(t);this.hls.trigger(l.ERROR,{type:a.MEDIA_ERROR,details:o.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:i,reason:n})}})),void(h.end=performance.now());e.audioTracks&&(c=e.audioTracks.filter((t=>!t.audioCodec||this.isAudioSupported(t.audioCodec))),al(c)),e.subtitles&&(u=e.subtitles,al(u));const f=d.slice(0);d.sort(((t,e)=>{if(t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"])return(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&t.height!==e.height)return t.height-e.height;if(t.frameRate!==e.frameRate)return t.frameRate-e.frameRate;if(t.videoRange!==e.videoRange)return zt.indexOf(t.videoRange)-zt.indexOf(e.videoRange);if(t.videoCodec!==e.videoCodec){const n=Dt(t.videoCodec),i=Dt(e.videoCodec);if(n!==i)return i-n}if(t.uri===e.uri&&t.codecSet!==e.codecSet){const n=Lt(t.codecSet),i=Lt(e.codecSet);if(n!==i)return i-n}return t.averageBitrate!==e.averageBitrate?t.averageBitrate-e.averageBitrate:0}));let p=f[0];if(this.steering&&(d=this.steering.filterParsedLevels(d),d.length!==f.length))for(let t=0;t<f.length;t++)if(f[t].pathwayId===d[0].pathwayId){p=f[t];break}this._levels=d;for(let t=0;t<d.length;t++)if(d[t]===p){var m;this._firstLevel=t;const e=p.bitrate,n=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${d.length} level(s) found, first bitrate: ${e}`),void 0===(null==(m=this.hls.userConfig)?void 0:m.abrEwmaDefaultEstimate)){const t=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);t>n&&n===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=t)}break}const g=r&&!i,v=this.hls.config,y=!(!v.audioStreamController||!v.audioTrackController),b={levels:d,audioTracks:c,subtitleTracks:u,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:r,video:i,altAudio:y&&!g&&c.some((t=>!!t.url))};h.end=performance.now(),this.hls.trigger(l.MANIFEST_PARSED,b)}get levels(){return 0===this._levels.length?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const n=new Error("invalid level idx"),i=t<0;if(this.hls.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.LEVEL_SWITCH_ERROR,level:t,fatal:i,error:n,reason:n.message}),i)return;t=Math.min(t,e.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,r=i?i.attrs["PATHWAY-ID"]:void 0,s=e[t],c=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=s,n===t&&i&&r===c)return;this.log(`Switching to level ${t} (${s.height?s.height+"p ":""}${s.videoRange?s.videoRange+" ":""}${s.codecSet?s.codecSet+" ":""}@${s.bitrate})${c?" with Pathway "+c:""} from level ${n}${r?" with Pathway "+r:""}`);const u={level:t,attrs:s.attrs,details:s.details,bitrate:s.bitrate,averageBitrate:s.averageBitrate,maxBitrate:s.maxBitrate,realBitrate:s.realBitrate,width:s.width,height:s.height,codecSet:s.codecSet,audioCodec:s.audioCodec,videoCodec:s.videoCodec,audioGroups:s.audioGroups,subtitleGroups:s.subtitleGroups,loaded:s.loaded,loadError:s.loadError,fragmentError:s.fragmentError,name:s.name,id:s.id,uri:s.uri,url:s.url,urlId:0,audioGroupIds:s.audioGroupIds,textGroupIds:s.textGroupIds};this.hls.trigger(l.LEVEL_SWITCHING,u);const d=s.details;if(!d||d.live){const t=this.switchParams(s.uri,null==i?void 0:i.details,d);this.loadPlaylist(t)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(t){if(this.steering){const e=this.steering.pathways(),n=t.filter((t=>-1!==e.indexOf(t)));if(t.length<1)return void this.warn(`pathwayPriority ${t} should contain at least one pathway from list: ${e}`);this.steering.pathwayPriority=n}}onError(t,e){!e.fatal&&e.context&&e.context.type===u&&e.context.level===this.level&&this.checkRetry(e)}onFragBuffered(t,{frag:e}){if(void 0!==e&&e.type===f){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return;const n=this._levels[e.level];null!=n&&n.loadError&&(this.log(`Resetting level error count of ${n.loadError} on frag buffered`),n.loadError=0)}}onLevelLoaded(t,e){var n;const{level:i,details:r}=e,s=e.levelInfo;var a;if(!s)return this.warn(`Invalid level index ${i}`),void(null!=(a=e.deliveryDirectives)&&a.skip&&(r.deltaUpdateFailed=!0));if(s===this.currentLevel||e.withoutMultiVariant){0===s.fragmentError&&(s.loadError=0);let t=s.details;t===e.details&&t.advanced&&(t=void 0),this.playlistLoaded(i,e,t)}else null!=(n=e.deliveryDirectives)&&n.skip&&(r.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const n=this.getUrlWithDirectives(t.uri,e),i=this.currentLevelIndex,r=t.attrs["PATHWAY-ID"],s=t.details,a=null==s?void 0:s.age;this.log(`Loading level index ${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${r?" Pathway "+r:""}${a&&s.live?" age "+a.toFixed(1)+(s.type?" "+s.type||0:""):""} ${n}`),this.hls.trigger(l.LEVEL_LOADING,{url:n,level:i,levelInfo:t,pathwayId:t.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}removeLevel(t){var e;if(1===this._levels.length)return;const n=this._levels.filter(((e,n)=>n!==t||(this.steering&&this.steering.removeLevel(e),e===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,e.details&&e.details.fragments.forEach((t=>t.level=-1))),!1)));di(n),this._levels=n,this.currentLevelIndex>-1&&null!=(e=this.currentLevel)&&e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(l.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(t,{levels:e}){this._levels=e}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:e,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==e&&(this._maxAutoLevel=e,this.hls.trigger(l.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function al(t){const e={};t.forEach((t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++}))}function ol(){return self.SourceBuffer||self.WebKitSourceBuffer}function ll(){if(!I())return!1;const t=ol();return!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove}class cl extends Ti{constructor(t,e,n){super(t,e,n,"stream-controller",f),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const t=this.media,e=t?t.currentTime:null;if(null===e||!i(e))return;if(this.log(`Media seeked to ${e.toFixed(3)}`),!this.getBufferedFrag(e))return;const n=this.getFwdBufferInfoAtPos(t,e,f,0);null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length at ${e} on "seeked" event ${n?n.len:"empty"})`)},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(l.MANIFEST_PARSED,this.onManifestParsed,this),t.on(l.LEVEL_LOADING,this.onLevelLoading,this),t.on(l.LEVEL_LOADED,this.onLevelLoaded,this),t.on(l.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(l.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(l.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(l.BUFFER_CREATED,this.onBufferCreated,this),t.on(l.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(l.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(l.MANIFEST_PARSED,this.onManifestParsed,this),t.off(l.LEVEL_LOADED,this.onLevelLoaded,this),t.off(l.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(l.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(l.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(l.BUFFER_CREATED,this.onBufferCreated,this),t.off(l.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(l.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(l.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(t,e){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=i.startLevel;-1===t&&(i.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=i.firstAutoLevel),i.nextLoadLevel=t,this.level=i.loadLevel,this._hasEnoughToStart=!!e}n>0&&-1===t&&!e&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),t=n),this.state=Si.IDLE,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}else this._forceStartLoad=!0,this.state=Si.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Si.WAITING_LEVEL:{const{levels:t,level:e}=this,n=null==t?void 0:t[e],i=null==n?void 0:n.details;if(i&&(!i.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(i))break;this.state=Si.IDLE;break}if(this.hls.nextLoadLevel!==this.level){this.state=Si.IDLE;break}break}case Si.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate()}this.state===Si.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var t;super.onTickEnd(),null!=(t=this.media)&&t.readyState&&!1===this.media.seeking&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:n,media:i}=this;if(null===e||!i&&!this.primaryPrefetch&&(this.startFragRequested||!t.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const r=this.buffering?t.nextLoadLevel:t.loadLevel;if(null==n||!n[r])return;const s=n[r],a=this.getMainFwdBufferInfo();if(null===a)return;const o=this.getLevelDetails();if(o&&this._streamEnded(a,o)){const t={};return 2===this.altAudio&&(t.type="video"),this.hls.trigger(l.BUFFER_EOS,t),void(this.state=Si.ENDED)}if(!this.buffering)return;t.loadLevel!==r&&-1===t.manualLevel&&this.log(`Adapting to level ${r} from level ${this.level}`),this.level=t.nextLoadLevel=r;const c=s.details;if(!c||this.state===Si.WAITING_LEVEL||this.waitForLive(s))return this.level=r,this.state=Si.WAITING_LEVEL,void(this.startFragRequested=!1);const u=a.len,d=this.getMaxBufferLength(s.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:a.end;let p=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&z(p)&&this.fragmentTracker.getState(p)!==Fe){var m;const t=(null!=(m=this.backtrackFragment)?m:p).sn-c.startSN,e=c.fragments[t-1];e&&p.cc===e.cc&&(p=e,this.fragmentTracker.removeFragment(e))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){if(!p.gap){const t=this.audioOnly&&!this.altAudio?q:W,e=(t===W?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,f)}p=this.getNextFragmentLoopLoading(p,c,a,f,d)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,s,h))}loadFragment(t,e,n){const i=this.fragmentTracker.getState(t);i===Re||i===Ne?z(t)?this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):super.loadFragment(t,e,n):this._loadInitSegment(t,e):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,f)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let n;const i=this.getAppendedFrag(e.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const r=this.getLevelDetails();if(null!=r&&r.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*r.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],i=this.fragLastKbps;n=i&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*i)+1:0}else n=0;const s=this.getBufferedFrag(e.currentTime+n);if(s){const t=this.followingBufferedFrag(s);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,n=t.duration,i=Math.max(s.end,e+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,n*(this.couldBacktrack?.5:.125)),n*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(i,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case Si.KEY_LOADING:case Si.FRAG_LOADING:case Si.FRAG_LOADING_WAITING_RETRY:case Si.PARSING:case Si.PARSED:this.state=Si.IDLE}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,e){super.flushMainBuffer(t,e,2===this.altAudio?"video":null)}onMediaAttached(t,e){super.onMediaAttached(t,e);const n=e.media;bi(n,"playing",this.onMediaPlaying),bi(n,"seeked",this.onMediaSeeked)}onMediaDetaching(t,e){const{media:n}=this;n&&(_i(n,"playing",this.onMediaPlaying),_i(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(t,e);!!e.transferMedia||(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(l.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(t,e){let n=!1,i=!1;for(let t=0;t<e.levels.length;t++){const r=e.levels[t].audioCodec;r&&(n=n||-1!==r.indexOf("mp4a.40.2"),i=i||-1!==r.indexOf("mp4a.40.5"))}this.audioCodecSwitch=n&&i&&!function(){var t;const e=ol();return"function"==typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(t,e){const{levels:n}=this;if(!n||this.state!==Si.IDLE)return;const i=e.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=Si.WAITING_LEVEL)}onLevelLoaded(t,e){var n;const{levels:i,startFragRequested:r}=this,s=e.level,a=e.details,o=a.totalduration;if(!i)return void this.warn(`Levels were reset while loading level ${s}`);this.log(`Level ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${o}`);const c=e.levelInfo,u=this.fragCurrent;!u||this.state!==Si.FRAG_LOADING&&this.state!==Si.FRAG_LOADING_WAITING_RETRY||u.level!==e.level&&u.loader&&this.abortCurrentFrag();let d=0;if(a.live||null!=(n=c.details)&&n.live){var h;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;d=this.alignPlaylists(a,c.details,null==(h=this.levelLastLoaded)?void 0:h.details)}if(c.details=a,this.levelLastLoaded=c,r||this.setStartPosition(a,d),this.hls.trigger(l.LEVEL_UPDATED,{details:a,level:s}),this.state===Si.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=Si.IDLE}r&&a.live&&this.synchronizeToLiveEdge(a),this.tick()}synchronizeToLiveEdge(t){const{config:e,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,r=this.getLoadPosition(),s=t.fragmentStart,a=t.edge,o=r>=s-e.maxFragLookUpTolerance&&r<=a;if(null!==i&&n.duration>i&&(r<i||!o)){const s=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;if((!o&&n.readyState<4||r<a-s)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState))if(this.warn(`Playback: ${r.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${i.toFixed(3)}`),"buffered"===this.config.liveSyncMode){var l;const t=nn.bufferInfo(n,i,0);if(null==(l=t.buffered)||!l.length)return void(n.currentTime=i);if(t.start<=r)return void(n.currentTime=i);const{nextStart:e}=nn.bufferedInfo(t.buffered,r,0);e&&(n.currentTime=e)}else n.currentTime=i}}_handleFragmentLoadProgress(t){var e;const n=t.frag,{part:i,payload:r}=t,{levels:s}=this;if(!s)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const a=s[n.level];if(!a)return void this.warn(`Level ${n.level} not found on progress`);const o=a.details;if(!o)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const l=a.videoCodec,c=o.PTSKnown||!o.live,u=null==(e=n.initSegment)?void 0:e.data,d=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new is(this.hls,f,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,m=-1!==p,g=new tn(n.level,n.sn,n.stats.chunkCount,r.byteLength,p,m),v=this.initPTS[n.cc];h.push(r,u,d,l,n,i,o.totalduration,c,g,v)}onAudioTrackSwitching(t,e){const n=this.hls,i=0!==this.altAudio;if(de(e.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i)return this.altAudio=0,this.fragmentTracker.removeAllFragments(),n.once(l.BUFFER_FLUSHED,(()=>{this.hls&&this.hls.trigger(l.AUDIO_TRACK_SWITCHED,e)})),void n.trigger(l.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});n.trigger(l.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(t,e){const n=de(e.url,this.hls);if(n){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)}this.altAudio=n?2:0,this.tick()}onBufferCreated(t,e){const n=e.tracks;let i,r,s=!1;for(const t in n){const e=n[t];if("main"===e.id){if(r=t,i=e,"video"===t){const e=n[t];e&&(this.videoBuffer=e.buffer)}}else s=!0}s&&i?(this.log(`Alternate track found, use ${r}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(t,e){const{frag:n,part:i}=e,r=n.type===f;if(r){if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===Si.PARSED&&(this.state=Si.IDLE));const t=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*t.total/(t.buffering.end-t.loading.first)),z(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const s=this.media;s&&(!this._hasEnoughToStart&&nn.getBuffered(s).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),r&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(t,e){var n;if(e.fatal)this.state=Si.ERROR;else switch(e.details){case o.FRAG_GAP:case o.FRAG_PARSING_ERROR:case o.FRAG_DECRYPT_ERROR:case o.FRAG_LOAD_ERROR:case o.FRAG_LOAD_TIMEOUT:case o.KEY_LOAD_ERROR:case o.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(f,e);break;case o.LEVEL_LOAD_ERROR:case o.LEVEL_LOAD_TIMEOUT:case o.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Si.WAITING_LEVEL||(null==(n=e.context)?void 0:n.type)!==u||(this.state=Si.IDLE);break;case o.BUFFER_ADD_CODEC_ERROR:case o.BUFFER_APPEND_ERROR:if("main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.resetLoadingState();break;case o.BUFFER_FULL_ERROR:if("main"!==e.parent)return;if(this.reduceLengthAndFlushBuffer(e)){!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}break;case o.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onFragLoadEmergencyAborted(){this.state=Si.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(t,{type:e}){if(e!==q||!this.altAudio){const t=(e===W?this.videoBuffer:this.mediaBuffer)||this.media;t&&(this.afterBufferFlushed(t,e,f),this.tick())}}onLevelsUpdated(t,e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,-1===this.level&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log(`could not seek to ${n}, already seeking at ${e}`);const i=this.timelineOffset;i&&n&&(n+=i);const r=this.getLevelDetails(),s=nn.getBuffered(t),a=s.length?s.start(0):0,o=a-n,l=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||o>0&&(o<l||this.loadingParts&&o<2*((null==r?void 0:r.partTarget)||0)))&&(this.log(`adjusting start position by ${o} to match buffer start`),n+=o,this.startPosition=n),e<n&&(this.log(`seek to target start position ${n} from current time ${e} buffer start ${a}`),t.currentTime=n)}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then((t=>{const{hls:n}=this,i=null==t?void 0:t.frag;if(!i||this.fragContextChanged(i))return;e.fragmentError=0,this.state=Si.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const r=i.stats;r.parsing.start=r.parsing.end=r.buffering.start=r.buffering.end=self.performance.now(),n.trigger(l.FRAG_LOADED,t),i.bitrateTest=!1})).catch((e=>{this.state!==Si.STOPPED&&this.state!==Si.ERROR&&(this.warn(e),this.resetFragmentLoading(t))}))}_handleTransmuxComplete(t){const e=this.playlistType,{hls:n}=this,{remuxResult:r,chunkMeta:s}=t,a=this.getCurrentContext(s);if(!a)return void this.resetWhenMissingContext(s);const{frag:o,part:c,level:u}=a,{video:d,text:h,id3:f,initSegment:p}=r,{details:m}=u,g=this.altAudio?void 0:r.audio;if(this.fragContextChanged(o))this.fragmentTracker.removeFragment(o);else{if(this.state=Si.PARSING,p){const t=p.tracks;if(t){const i=o.initSegment||o;if(this.unhandledEncryptionError(p,o))return;this._bufferInitSegment(u,t,i,s),n.trigger(l.FRAG_PARSING_INIT_SEGMENT,{frag:i,id:e,tracks:t})}const r=p.initPTS,a=p.timescale,c=this.initPTS[o.cc];if(i(r)&&(!c||c.baseTime!==r||c.timescale!==a)){const t=p.trackId;this.initPTS[o.cc]={baseTime:r,timescale:a,trackId:t},n.trigger(l.INIT_PTS_FOUND,{frag:o,id:e,initPTS:r,timescale:a,trackId:t})}}if(d&&m){g&&"audiovideo"===d.type&&this.logMuxedErr(o);const t=m.fragments[o.sn-1-m.startSN],e=o.sn===m.startSN,n=!t||o.cc>t.cc;if(!1!==r.independent){const{startPTS:t,endPTS:i,startDTS:r,endDTS:a}=d;if(c)c.elementaryStreams[d.type]={startPTS:t,endPTS:i,startDTS:r,endDTS:a};else if(d.firstKeyFrame&&d.independent&&1===s.id&&!n&&(this.couldBacktrack=!0),d.dropped&&d.independent){const r=this.getMainFwdBufferInfo(),s=(r?r.end:this.getLoadPosition())+this.config.maxBufferHole,l=d.firstKeyFramePTS?d.firstKeyFramePTS:t;if(!e&&s<l-this.config.maxBufferHole&&!n)return void this.backtrack(o);n&&(o.gap=!0),o.setElementaryStreamInfo(d.type,o.start,i,o.start,a,!0)}else e&&t-(m.appliedTimelineOffset||0)>2&&(o.gap=!0);o.setElementaryStreamInfo(d.type,t,i,r,a),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(d,o,c,s,e||n)}else{if(!e&&!n)return void this.backtrack(o);o.gap=!0}}if(g){const{startPTS:t,endPTS:e,startDTS:n,endDTS:i}=g;c&&(c.elementaryStreams[q]={startPTS:t,endPTS:e,startDTS:n,endDTS:i}),o.setElementaryStreamInfo(q,t,e,n,i),this.bufferFragmentData(g,o,c,s)}if(m&&null!=f&&f.samples.length){const t={id:e,frag:o,details:m,samples:f.samples};n.trigger(l.FRAG_PARSING_METADATA,t)}if(m&&h){const t={id:e,frag:o,details:m,samples:h.samples};n.trigger(l.FRAG_PARSING_USERDATA,t)}}}logMuxedErr(t){this.warn(`${z(t)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${t.url}`)}_bufferInitSegment(t,e,n,i){if(this.state!==Si.PARSING)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&(delete e.audio,e.audiovideo&&this.logMuxedErr(n));const{audio:r,video:s,audiovideo:a}=e;if(r){const n=t.audioCodec;let i=Mt(r.codec,n);"mp4a"===i&&(i="mp4a.40.5");const s=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){i&&(i=-1!==i.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");const t=r.metadata;t&&"channelCount"in t&&1!==(t.channelCount||1)&&-1===s.indexOf("firefox")&&(i="mp4a.40.5")}i&&-1!==i.indexOf("mp4a.40.5")&&-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(i="mp4a.40.2",this.log(`Android: force audio codec to ${i}`)),n&&n!==i&&this.log(`Swapping manifest audio codec "${n}" for "${i}"`),r.levelCodec=i,r.id=f,this.log(`Init audio buffer, container:${r.container}, codecs[selected/level/parsed]=[${i||""}/${n||""}/${r.codec}]`),delete e.audiovideo}if(s){s.levelCodec=t.videoCodec,s.id=f;const n=s.codec;if(4===(null==n?void 0:n.length))switch(n){case"hvc1":case"hev1":s.codec="hvc1.1.6.L120.90";break;case"av01":s.codec="av01.0.04M.08";break;case"avc1":s.codec="avc1.42e01e"}this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${t.videoCodec||""}/${n}]${s.codec!==n?" parsed-corrected="+s.codec:""}${s.supplemental?" supplemental="+s.supplemental:""}`),delete e.audiovideo}a&&(this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${t.codecs}/${a.codec}]`),delete e.video,delete e.audio);const o=Object.keys(e);if(o.length){if(this.hls.trigger(l.BUFFER_CODECS,e),!this.hls)return;o.forEach((t=>{const r=e[t].initSegment;null!=r&&r.byteLength&&this.hls.trigger(l.BUFFER_APPENDING,{type:t,data:r,frag:n,part:null,chunkMeta:i,parent:n.type})}))}this.tickImmediate()}getMainFwdBufferInfo(){const t=this.mediaBuffer&&2===this.altAudio?this.mediaBuffer:this.media;return this.getFwdBufferInfo(t,f)}get maxBufferLength(){const{levels:t,level:e}=this,n=null==t?void 0:t[e];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Si.IDLE}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const n=t.currentTime;if(nn.isBuffered(t,n)?e=this.getAppendedFrag(n):nn.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,n=e.level;t&&e.sn===t.sn&&t.level===n||(this.fragPlaying=e,this.hls.trigger(l.FRAG_CHANGED,{frag:e}),t&&t.level===n||this.hls.trigger(l.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){var t;if(this.fragPlaying)return this.fragPlaying;const e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;return i(e)?this.getAppendedFrag(e):null}get currentProgramDateTime(){var t;const e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;if(i(e)){const t=this.getLevelDetails(),n=this.currentFrag||(t?fe(null,t.fragments,e):null);if(n){const t=n.programDateTime;if(null!==t){const i=t+1e3*(e-n.start);return new Date(i)}}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class ul extends S{constructor(t,e){super("key-loader",e),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const n in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[n].loader;if(i){var e;if(t&&t!==(null==(e=i.context)?void 0:e.frag.type))return;i.abort()}}}detach(){for(const t in this.keyIdToKeyInfo){const e=this.keyIdToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyIdToKeyInfo){const e=this.keyIdToKeyInfo[t].loader;e&&e.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(t,e=o.KEY_LOAD_ERROR,n,i,r){return new Ze({type:a.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:r,error:n,networkDetails:i})}loadClear(t,e,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(e.length)for(let i=0,r=e.length;i<r;i++){const s=e[i];if(t.cc<=s.cc&&(!z(t)||!z(s)||t.sn<s.sn)||!n&&i==r-1)return this.emeController.selectKeySystemFormat(s).then((t=>{if(!this.emeController)return;s.setKeyFormat(t);const e=In(t);return e?this.emeController.getKeySystemAccess([e]):void 0}))}if(this.config.requireKeySystemAccessOnStart){const t=Ln(this.config);if(t.length)return this.emeController.getKeySystemAccess(t)}}return null}load(t){return!t.decryptdata&&t.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(t).then((e=>this.loadInternal(t,e))):this.loadInternal(t)}loadInternal(t,e){var n,i;e&&t.setKeyFormat(e);const r=t.decryptdata;if(!r){const n=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(t,o.KEY_LOAD_ERROR,n))}const s=r.uri;if(!s)return Promise.reject(this.createKeyLoadError(t,o.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));const a=dl(r);let l=this.keyIdToKeyInfo[a];if(null!=(n=l)&&n.decryptdata.key)return r.key=l.decryptdata.key,Promise.resolve({frag:t,keyInfo:l});if(this.emeController&&null!=(i=l)&&i.keyLoadPromise){switch(this.emeController.getKeyStatus(l.decryptdata)){case"usable":case"usable-in-future":return l.keyLoadPromise.then((e=>{const{keyInfo:n}=e;return r.key=n.decryptdata.key,{frag:t,keyInfo:n}}))}}switch(this.log(`${this.keyIdToKeyInfo[a]?"Rel":"L"}oading${r.keyId?" keyId: "+P(r.keyId):""} URI: ${r.uri} from ${t.type} ${t.level}`),l=this.keyIdToKeyInfo[a]={decryptdata:r,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},r.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===r.keyFormat?this.loadKeyHTTP(l,t):this.loadKeyEME(l,t);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(l,t);default:return Promise.reject(this.createKeyLoadError(t,o.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${r.method}"`)))}}loadKeyEME(t,e){const n={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){var i;if(!t.decryptdata.keyId&&null!=(i=e.initSegment)&&i.data){const n=function(t){const e=[];return pt(t,(t=>e.push(t.subarray(8,24)))),e}(e.initSegment.data);if(n.length){let e=n[0];e.some((t=>0!==t))?(this.log(`Using keyId found in init segment ${P(e)}`),Nn.setKeyIdForUri(t.decryptdata.uri,e)):(e=Nn.addKeyIdForUri(t.decryptdata.uri),this.log(`Generating keyId to patch media ${P(e)}`)),t.decryptdata.keyId=e}}if(!t.decryptdata.keyId&&!z(e))return Promise.resolve(n);const r=this.emeController.loadKey(n);return(t.keyLoadPromise=r.then((e=>(t.mediaKeySessionContext=e,n)))).catch((n=>{throw t.keyLoadPromise=null,"data"in n&&(n.data.frag=e),n}))}return Promise.resolve(n)}loadKeyHTTP(t,e){const n=this.config,i=new(0,n.loader)(n);return e.keyLoader=t.loader=i,t.keyLoadPromise=new Promise(((r,s)=>{const a={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},l=n.keyLoadPolicy.default,c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:(t,e,n,i)=>{const{frag:a,keyInfo:l}=n,c=dl(l.decryptdata);if(!a.decryptdata||l!==this.keyIdToKeyInfo[c])return s(this.createKeyLoadError(a,o.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));l.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,l.loader=null,r({frag:a,keyInfo:l})},onError:(t,n,i,r)=>{this.resetLoader(n),s(this.createKeyLoadError(e,o.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),i,E({url:a.url,data:void 0},t)))},onTimeout:(t,n,i)=>{this.resetLoader(n),s(this.createKeyLoadError(e,o.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:(t,n,i)=>{this.resetLoader(n),s(this.createKeyLoadError(e,o.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};i.load(a,c,u)}))}resetLoader(t){const{frag:e,keyInfo:n,url:i}=t,r=n.loader;e.keyLoader===r&&(e.keyLoader=null,n.loader=null);const s=dl(n.decryptdata)||i;delete this.keyIdToKeyInfo[s],r&&r.destroy()}}function dl(t){if(t.keyFormat!==Cn){const e=t.keyId;if(e)return P(e)}return t.uri}function hl(t){const{type:e}=t;switch(e){case d:return p;case h:return m;default:return f}}function fl(t,e){let n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}class pl{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(l.MANIFEST_LOADING,this.onManifestLoading,this),t.on(l.LEVEL_LOADING,this.onLevelLoading,this),t.on(l.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(l.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.on(l.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:t}=this;t.off(l.MANIFEST_LOADING,this.onManifestLoading,this),t.off(l.LEVEL_LOADING,this.onLevelLoading,this),t.off(l.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(l.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.off(l.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(t){const e=this.hls.config,n=e.pLoader,i=e.loader,r=new(n||i)(e);return this.loaders[t.type]=r,r}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,e){const{url:n}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:c,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(t,e){const{id:n,level:i,pathwayId:r,url:s,deliveryDirectives:a,levelInfo:o}=e;this.load({id:n,level:i,pathwayId:r,responseType:"text",type:u,url:s,deliveryDirectives:a,levelOrTrack:o})}onAudioTrackLoading(t,e){const{id:n,groupId:i,url:r,deliveryDirectives:s,track:a}=e;this.load({id:n,groupId:i,level:null,responseType:"text",type:d,url:r,deliveryDirectives:s,levelOrTrack:a})}onSubtitleTrackLoading(t,e){const{id:n,groupId:i,url:r,deliveryDirectives:s,track:a}=e;this.load({id:n,groupId:i,level:null,responseType:"text",type:h,url:r,deliveryDirectives:s,levelOrTrack:a})}onLevelsUpdated(t,e){const n=this.loaders[u];if(n){const t=n.context;t&&!e.levels.some((e=>e===t.levelOrTrack))&&(n.abort(),delete this.loaders[u])}}load(t){var e;const n=this.hls.config;let r,s=this.getInternalLoader(t);if(s){const e=this.hls.logger,n=s.context;if(n&&n.levelOrTrack===t.levelOrTrack&&(n.url===t.url||n.deliveryDirectives&&!t.deliveryDirectives))return void(n.url===t.url?e.log(`[playlist-loader]: ignore ${t.url} ongoing request`):e.log(`[playlist-loader]: ignore ${t.url} in favor of ${n.url}`));e.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),s.abort()}if(r=t.type===c?n.manifestLoadPolicy.default:b({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(t),i(null==(e=t.deliveryDirectives)?void 0:e.part)){let e;if(t.type===u&&null!==t.level?e=this.hls.levels[t.level].details:t.type===d&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===h&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,n=e.targetduration;if(t&&n){const e=1e3*Math.max(3*t,.8*n);r=b({},r,{maxTimeToFirstByteMs:Math.min(e,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,r.maxTimeToFirstByteMs)})}}}const a=r.errorRetry||r.timeoutRetry||{},o={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(t,e,n,i)=>{const r=this.getInternalLoader(n);this.resetInternalLoader(n.type);const s=t.data;e.parsing.start=performance.now(),Gn.isMediaPlaylist(s)||n.type!==c?this.handleTrackOrLevelPlaylist(t,e,n,i||null,r):this.handleMasterPlaylist(t,e,n,i)},onError:(t,e,n,i)=>{this.handleNetworkError(e,n,!1,t,i)},onTimeout:(t,e,n)=>{this.handleNetworkError(e,n,!0,void 0,t)}};s.load(t,o,l)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:t,startPosition:e},forceStartLoad:n}=this.hls;(t||n)&&(this.hls.logger.log(`${t?"auto":"force"} startLoad with configured startPosition ${e}`),this.hls.startLoad(e))}handleMasterPlaylist(t,e,n,i){const r=this.hls,s=t.data,a=fl(t,n),o=Gn.parseMasterPlaylist(s,a);if(o.playlistParsingError)return e.parsing.end=performance.now(),void this.handleManifestParsingError(t,n,o.playlistParsingError,i,e);const{contentSteering:c,levels:u,sessionData:d,sessionKeys:h,startTimeOffset:f,variableList:p}=o;this.variableList=p,u.forEach((t=>{const{unknownCodecs:e}=t;if(e){const{preferManagedMediaSource:n}=this.hls.config;let{audioCodec:i,videoCodec:r}=t;for(let s=e.length;s--;){const a=e[s];xt(a,"audio",n)?(t.audioCodec=i=i?`${i},${a}`:a,kt.audio[i.substring(0,4)]=2,e.splice(s,1)):xt(a,"video",n)&&(t.videoCodec=r=r?`${r},${a}`:a,kt.video[r.substring(0,4)]=2,e.splice(s,1))}}}));const{AUDIO:m=[],SUBTITLES:g,"CLOSED-CAPTIONS":v}=Gn.parseMasterPlaylistMedia(s,a,o);if(m.length){m.some((t=>!t.url))||!u[0].audioCodec||u[0].attrs.AUDIO||(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new dn({}),bitrate:0,url:""}))}r.trigger(l.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:g,captions:v,contentSteering:c,url:a,stats:e,networkDetails:i,sessionData:d,sessionKeys:h,startTimeOffset:f,variableList:p})}handleTrackOrLevelPlaylist(t,e,n,r,s){const a=this.hls,{id:o,level:u,type:d}=n,h=fl(t,n),f=i(u)?u:i(o)?o:0,p=hl(n),m=Gn.parseLevelPlaylist(t.data,h,f,p,0,this.variableList);if(d===c){const t={attrs:new dn({}),bitrate:0,details:m,name:"",url:h};m.requestScheduled=e.loading.start+oi(m,0),a.trigger(l.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:h,stats:e,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=m,this.handlePlaylistLoaded(m,t,e,n,r,s)}handleManifestParsingError(t,e,n,i,r){this.hls.trigger(l.ERROR,{type:a.NETWORK_ERROR,details:o.MANIFEST_PARSING_ERROR,fatal:e.type===c,url:t.url,err:n,error:n,reason:n.message,response:t,context:e,networkDetails:i,stats:r})}handleNetworkError(t,e,n=!1,i,r){let s=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${t.type}`;t.type===u?s+=`: ${t.level} id: ${t.id}`:t.type!==d&&t.type!==h||(s+=` id: ${t.id} group-id: "${t.groupId}"`);const f=new Error(s);this.hls.logger.warn(`[playlist-loader]: ${s}`);let p=o.UNKNOWN,m=!1;const g=this.getInternalLoader(t);switch(t.type){case c:p=n?o.MANIFEST_LOAD_TIMEOUT:o.MANIFEST_LOAD_ERROR,m=!0;break;case u:p=n?o.LEVEL_LOAD_TIMEOUT:o.LEVEL_LOAD_ERROR,m=!1;break;case d:p=n?o.AUDIO_TRACK_LOAD_TIMEOUT:o.AUDIO_TRACK_LOAD_ERROR,m=!1;break;case h:p=n?o.SUBTITLE_TRACK_LOAD_TIMEOUT:o.SUBTITLE_LOAD_ERROR,m=!1}g&&this.resetInternalLoader(t.type);const v={type:a.NETWORK_ERROR,details:p,fatal:m,url:t.url,loader:g,context:t,error:f,networkDetails:e,stats:r};if(i){const n=(null==e?void 0:e.url)||t.url;v.response=E({url:n,data:void 0},i)}this.hls.trigger(l.ERROR,v)}handlePlaylistLoaded(t,e,n,i,r,s){const p=this.hls,{type:m,level:g,levelOrTrack:v,id:y,groupId:b,deliveryDirectives:_}=i,E=fl(e,i),S=hl(i);let T="number"==typeof i.level&&S===f?g:void 0;const w=t.playlistParsingError;if(w){if(this.hls.logger.warn(`${w} ${t.url}`),!p.config.ignorePlaylistParsingErrors)return void p.trigger(l.ERROR,{type:a.NETWORK_ERROR,details:o.LEVEL_PARSING_ERROR,fatal:!1,url:E,error:w,reason:w.message,response:e,context:i,level:T,parent:S,networkDetails:r,stats:n});t.playlistParsingError=null}if(t.fragments.length)switch(t.live&&s&&(s.getCacheAge&&(t.ageHeader=s.getCacheAge()||0),s.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),m){case c:case u:if(T)if(v){if(v!==p.levels[T]){const t=p.levels.indexOf(v);t>-1&&(T=t)}}else T=0;p.trigger(l.LEVEL_LOADED,{details:t,levelInfo:v||p.levels[0],level:T||0,id:y||0,stats:n,networkDetails:r,deliveryDirectives:_,withoutMultiVariant:m===c});break;case d:p.trigger(l.AUDIO_TRACK_LOADED,{details:t,track:v,id:y||0,groupId:b||"",stats:n,networkDetails:r,deliveryDirectives:_});break;case h:p.trigger(l.SUBTITLE_TRACK_LOADED,{details:t,track:v,id:y||0,groupId:b||"",stats:n,networkDetails:r,deliveryDirectives:_})}else{const s=t.playlistParsingError=new Error("No Segments found in Playlist");p.trigger(l.ERROR,{type:a.NETWORK_ERROR,details:o.LEVEL_EMPTY_ERROR,fatal:!1,url:E,error:s,reason:s.message,response:e,context:i,level:T,parent:S,networkDetails:r,stats:n})}}}class ml{static get version(){return Di}static isMSESupported(){return ll()}static isSupported(){return function(){if(!ll())return!1;const t=I();return"function"==typeof(null==t?void 0:t.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((e=>t.isTypeSupported(It(e,"video"))))||["mp4a.40.2","fLaC"].some((e=>t.isTypeSupported(It(e,"audio")))))}()}static getMediaSource(){return I()}static get Events(){return l}static get MetadataSchema(){return er}static get ErrorTypes(){return a}static get ErrorDetails(){return o}static get DefaultConfig(){return ml.defaultConfig?ml.defaultConfig:Ko}static set DefaultConfig(t){ml.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ii,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const e=this.logger=function(t,e,n){const i=k();if("object"==typeof console&&!0===t||"object"==typeof t){const r=["debug","log","info","warn","error"];r.forEach((e=>{i[e]=C(e,t,n)}));try{i.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch(t){return k()}r.forEach((e=>{x[e]=C(e,t)}))}else b(x,i);return i}(t.debug||!1,"Hls instance",t.assetPlayerId),n=this.config=function(t,e,n){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=zo(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((t=>{const s=`${"level"===t?"playlist":t}LoadPolicy`,a=void 0===e[s],o=[];r.forEach((n=>{const r=`${t}Loading${n}`,l=e[r];if(void 0!==l&&a){o.push(r);const t=i[s].default;switch(e[s]={default:t},n){case"TimeOut":t.maxLoadTimeMs=l,t.maxTimeToFirstByteMs=l;break;case"MaxRetry":t.errorRetry.maxNumRetry=l,t.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":t.errorRetry.retryDelayMs=l,t.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=l,t.timeoutRetry.maxRetryDelayMs=l}}})),o.length&&n.warn(`hls.js config: "${o.join('", "')}" setting(s) are deprecated, use "${s}": ${ie(e[s])}`)})),E(E({},i),e)}(ml.DefaultConfig,t,e);this.userConfig=t,n.progressive&&Yo(n,e);const{abrController:i,bufferController:r,capLevelController:s,errorController:a,fpsController:o}=n,c=new a(this),u=this.abrController=new i(this),d=new $e(this),h=n.interstitialsController,f=h?this.interstitialsController=new h(this,ml):null,p=this.bufferController=new r(this,d),m=this.capLevelController=new s(this),g=new o(this),v=new pl(this),y=n.contentSteeringController,_=y?new y(this):null,S=this.levelController=new sl(this,_),T=new il(this),w=new ul(this.config,this.logger),A=this.streamController=new cl(this,d,w),I=this.gapController=new Qo(this,d);m.setStreamController(A),g.setStreamController(A);const D=[v,S,A];f&&D.splice(1,0,f),_&&D.splice(1,0,_),this.networkControllers=D;const L=[u,p,I,m,g,T,d];this.audioTrackController=this.createController(n.audioTrackController,D);const P=n.audioStreamController;P&&D.push(this.audioStreamController=new P(this,d,w)),this.subtitleTrackController=this.createController(n.subtitleTrackController,D);const O=n.subtitleStreamController;O&&D.push(this.subtititleStreamController=new O(this,d,w)),this.createController(n.timelineController,L),w.emeController=this.emeController=this.createController(n.emeController,L),this.cmcdController=this.createController(n.cmcdController,L),this.latencyController=this.createController(rl,L),this.coreComponents=L,D.push(c);const R=c.onErrorOut;"function"==typeof R&&this.on(l.ERROR,R,c),this.on(l.MANIFEST_LOADED,v.onManifestLoaded,v)}createController(t,e){if(t){const n=new t(this);return e&&e.push(n),n}return null}on(t,e,n=this){this._emitter.on(t,e,n)}once(t,e,n=this){this._emitter.once(t,e,n)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,e,n=this,i){this._emitter.off(t,e,n,i)}listeners(t){return this._emitter.listeners(t)}emit(t,e,n){return this._emitter.emit(t,e,n)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){if(this.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),!this.triggeringException){this.triggeringException=!0;const n=t===l.ERROR;this.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.INTERNAL_EXCEPTION,fatal:n,event:t,error:e}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){this.logger.log("destroy"),this.trigger(l.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach((t=>t.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((t=>t.destroy())),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){if(!t||"media"in t&&!t.media){const e=new Error(`attachMedia failed: invalid argument (${t})`);return void this.trigger(l.ERROR,{type:a.OTHER_ERROR,details:o.ATTACH_MEDIA_ERROR,fatal:!0,error:e})}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const e="media"in t,n=e?t.media:t,i=e?t:{media:n};this._media=n,this.trigger(l.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(l.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const t=this.bufferController.transferMedia();return this.trigger(l.MEDIA_DETACHING,{transferMedia:t}),t}loadSource(t){this.stopLoad();const e=this.media,n=this._url,i=this._url=H.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),e&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(l.MANIFEST_LOADING,{url:t})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(t=-1,e){this.logger.log(`startLoad(${t+(e?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(t,e),this.started&&this.networkControllers);n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].stopLoad(),!this.started&&this.networkControllers);t++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach((t=>{t.resumeBuffering&&t.resumeBuffering()})))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach((t=>{t.pauseBuffering&&t.pauseBuffering()})))}get inFlightFragments(){const t={[f]:this.streamController.inFlightFrag};return this.audioStreamController&&(t[p]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(t[m]=this.subtititleStreamController.inFlightFrag),t}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const t=this._media,e=null==t?void 0:t.currentTime;this.detachMedia(),t&&(this.attachMedia(t),e&&this.startLoad(e))}removeLevel(t){this.levelController.removeLevel(t)}get sessionId(){let t=this._sessionId;return t||(t=this._sessionId=function(){try{return crypto.randomUUID()}catch(t){try{const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}catch(t){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}}}()),t}get levels(){const t=this.levelController.levels;return t||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){this.logger.log(`set currentLevel:${t}`),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){this.logger.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){this.logger.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){this.logger.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return-1===t&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){this.logger.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get abrEwmaDefaultEstimate(){const{bwEstimator:t}=this.abrController;return t?t.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(this.logger.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){(function(t){return Kt.indexOf(t)>-1})(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const n=t.length;for(let i=0;i<n;i++)if(t[i].maxBitrate>=e)return i;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:n}=this;let i;if(i=-1===e&&null!=t&&t.length?t.length-1:e,n)for(let e=i;e--;){const i=t[e].attrs["HDCP-LEVEL"];if(i&&i<=n)return e}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(t){var e;return(null==(e=this.audioTrackController)?void 0:e.setAudioOption(t))||null}setSubtitleOption(t){var e;return(null==(e=this.subtitleTrackController)?void 0:e.setSubtitleOption(t))||null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(t){this.latencyController.targetLatency=t}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(t){this.levelController.pathwayPriority=t}get bufferedToEnd(){var t;return!(null==(t=this.bufferController)||!t.bufferedToEnd)}get interstitialsManager(){var t;return(null==(t=this.interstitialsController)?void 0:t.interstitialsManager)||null}getMediaDecodingInfo(t,e=this.allAudioTracks){return qt(t,se(e),navigator.mediaCapabilities)}}ml.defaultConfig=void 0},8593:t=>{"use strict";t.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var s=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=e,t=[],i.O=(e,n,r,s)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,r,s]=t[u],o=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(i.O).every((t=>i.O[t](n[l])))?n.splice(l--,1):(o=!1,s<a&&(a=s));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,r,s]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={281:0,617:0,726:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var r,s,[a,o,l]=n,c=0;if(a.some((e=>0!==t[e]))){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(l)var u=l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),i.nc=void 0,i.O(void 0,[617,726],(()=>i(4424))),i.O(void 0,[617,726],(()=>i(2537)));var r=i.O(void 0,[617,726],(()=>i(2982)));r=i.O(r)})();